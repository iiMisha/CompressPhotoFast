# Контекст

## Последние изменения

*   **Обновление Memory Bank (10.01.2026)**: Проведен полный анализ проекта для актуализации документации.
*   **`tech.md`**: Обновлен с актуальными версиями зависимостей, добавлена информация о многопоточности в CLI-версии, системные требования для HEIC.
*   **`architecture.md`**: Добавлены новые компоненты CLI-версии: `threading_utils.py`, `file_lock.py`, `stats.py`. Обновлена диаграмма CLI-компонентов с отображением многопоточной обработки.
*   **`product.md`**: Добавлена информация о новых функциях CLI:
    *   Многопоточная обработка с использованием ThreadPoolExecutor.
    *   File-based locking для предотвращения race conditions.
    *   Thread-safe сбор статистики.
    *   Поддержка HEIC/HEIF форматов через pillow-heif.
    *   Dry-run режим с многопоточной анализом.

## Текущее состояние проекта

### Android-версия
*   Версия: 2.2.8 (31.08.2025), versionCode 2
*   Использует DataStore для хранения настроек (вместо SharedPreferences)
*   Поддерживает автоматическое сжатие в фоновом режиме
*   Включает функции игнорирования фото из мессенджеров и скриншотов

### CLI-версия
*   Версия: 1.0.0
*   Полностью поддерживает многопоточную обработку изображений
*   Включает file-based locking механизм для thread-safe операций
*   Поддерживает HEIC/HEIF форматы (опционально)
*   Имеет dry-run режим для предварительного анализа

## Дальнейшие шаги

*   Проверить актуальность `brief.md`.
*   Запросить у пользователя проверку обновленной документации.