21:01:24.479 Opening libGLESv1_CM_emulation.so
21:01:24.487 Opening libGLESv2_emulation.so
21:01:24.577 Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...
21:01:24.577 Failed to initialize 101010-2 format, error = EGL_SUCCESS
21:01:26.061 app_time_stats: avg=138.49ms min=1.88ms max=1157.63ms count=9
21:01:27.986 app_time_stats: avg=120.23ms min=11.31ms max=1676.62ms count=16
21:01:28.038 [ПРОЦЕСС] Автоматическое сжатие: включено
21:01:28.038 [ПРОЦЕСС] setupBackgroundService: автоматическое сжатие включено
21:01:28.042 [ПРОЦЕСС] ImageDetectionJobService: начало планирования задания
21:01:28.043 [ПРОЦЕСС] ImageDetectionJobService: состояние автоматического сжатия: включено
21:01:28.046 [ПРОЦЕСС] ImageDetectionJobService: создан триггер для MediaStore
21:01:28.048 [ПРОЦЕСС] ImageDetectionJobService: создан JobInfo с параметрами: maxDelay=15000, updateDelay=0
21:01:28.051 [ПРОЦЕСС] ImageDetectionJobService: задание успешно запланировано
21:01:28.051 [ПРОЦЕСС] setupBackgroundService: JobService запланирован
21:01:28.052 [ПРОЦЕСС] setupBackgroundService: запуск как foreground сервис (Android O+)
21:01:28.058 [ПРОЦЕСС] Фоновые сервисы запущены успешно
21:01:28.088 [ПРОЦЕСС] BackgroundMonitoringService: onCreate
21:01:28.125 [ПРОЦЕСС] MediaStoreObserver: ContentObserver зарегистрирован для MediaStore.Images.Media.EXTERNAL_CONTENT_URI
21:01:28.128 [ПРОЦЕСС] BackgroundMonitoringService: зарегистрирован BroadcastReceiver для ACTION_PROCESS_IMAGE
21:01:28.135 [ПРОЦЕСС] BackgroundMonitoringService: состояние автоматического сжатия: включено
21:01:28.136 [ПРОЦЕСС] BackgroundMonitoringService: периодическое сканирование запущено
21:01:28.136 [ПРОЦЕСС] BackgroundMonitoringService: периодическая очистка временных файлов запущена
21:01:28.136 [ПРОЦЕСС] BackgroundMonitoringService: onStartCommand(startId=1)
21:01:28.137 [ПРОЦЕСС] BackgroundMonitoringService: запуск первоначального сканирования
21:01:28.143 [ПРОЦЕСС] Запуск периодического сканирования галереи
21:01:28.143 [ПРОЦЕСС] Запуск периодической очистки временных файлов
21:01:28.145 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.146 [ПРОЦЕСС] GalleryScanUtil: найдено 80 изображений за последние 1440 минут
21:01:28.148 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 80 URI
21:01:28.149 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000108
21:01:28.149 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000109
21:01:28.150 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000110
21:01:28.151 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000111
21:01:28.151 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000112
21:01:28.152 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000113
21:01:28.152 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000102
21:01:28.153 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000103
21:01:28.153 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000104
21:01:28.154 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000105
21:01:28.154 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000106
21:01:28.154 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000107
21:01:28.155 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000095
21:01:28.155 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000096
21:01:28.155 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000097
21:01:28.155 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000099
21:01:28.155 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000100
21:01:28.156 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000101
21:01:28.156 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000088
21:01:28.156 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000089
21:01:28.157 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000090
21:01:28.158 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000091
21:01:28.158 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000092
21:01:28.158 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000093
21:01:28.158 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000094
21:01:28.158 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000081
21:01:28.159 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000082
21:01:28.159 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000083
21:01:28.159 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000084
21:01:28.160 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000085
21:01:28.161 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000086
21:01:28.161 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000087
21:01:28.162 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000075
21:01:28.163 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000076
21:01:28.163 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000077
21:01:28.163 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000078
21:01:28.163 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000079
21:01:28.163 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000080
21:01:28.164 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000074
21:01:28.166 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000041
21:01:28.166 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000042
21:01:28.167 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000039
21:01:28.167 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000142
21:01:28.167 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000040
21:01:28.167 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000038
21:01:28.167 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000032
21:01:28.167 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000029
21:01:28.168 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000030
21:01:28.168 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000028
21:01:28.168 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000027
21:01:28.168 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000026
21:01:28.168 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000020
21:01:28.192 [ПРОЦЕСС] Пакетное получение метаданных завершено: 80 URI, 29 запросов к MediaStore
21:01:28.214 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.221 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000140
21:01:28.222 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000142
21:01:28.223 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.259 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.262 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000140
21:01:28.262 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.263 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000141
21:01:28.306 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000141
21:01:28.306 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.311 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.319 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000138
21:01:28.346 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000138
21:01:28.346 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.360 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.364 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000139
21:01:28.411 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000139
21:01:28.411 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.427 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.435 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000136
21:01:28.504 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000136
21:01:28.505 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.508 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.515 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000137
21:01:28.563 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.569 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000137
21:01:28.571 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.575 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000135
21:01:28.625 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000135
21:01:28.625 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.636 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.648 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000132
21:01:28.694 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000132
21:01:28.694 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.699 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.708 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000133
21:01:28.735 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000133
21:01:28.736 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.746 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.751 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000134
21:01:28.796 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000134
21:01:28.798 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.840 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.846 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000130
21:01:28.864 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000130
21:01:28.864 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.881 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.891 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000131
21:01:28.898 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000131
21:01:28.899 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:28.952 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.953 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:28.958 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000127
21:01:28.960 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000127
21:01:29.042 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.042 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.047 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000128
21:01:29.048 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000128
21:01:29.081 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.085 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000129
21:01:29.086 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000129
21:01:29.086 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.116 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.119 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000124
21:01:29.128 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000124
21:01:29.128 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.151 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.154 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000125
21:01:29.164 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000125
21:01:29.164 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.197 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.200 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000126
21:01:29.209 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000126
21:01:29.209 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.228 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.232 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000122
21:01:29.234 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000122
21:01:29.234 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.265 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.265 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.268 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000123
21:01:29.268 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000123
21:01:29.307 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.309 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.311 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000120
21:01:29.312 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000120
21:01:29.345 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.348 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000121
21:01:29.352 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000121
21:01:29.352 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.377 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.378 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.380 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000119
21:01:29.381 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000119
21:01:29.406 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.410 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000117
21:01:29.413 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000117
21:01:29.413 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.440 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.443 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000118
21:01:29.446 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000118
21:01:29.447 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.477 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.478 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.481 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000115
21:01:29.483 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000115
21:01:29.506 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.509 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000116
21:01:29.513 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000116
21:01:29.514 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.534 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:29.536 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000114
21:01:29.542 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000114
21:01:29.542 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.571 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000108
21:01:29.571 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000108
21:01:29.571 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.571 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.571 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.571 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.571 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000108
21:01:29.596 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000109
21:01:29.596 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.596 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.596 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000109
21:01:29.605 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000109
21:01:29.605 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.605 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.607 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000110
21:01:29.607 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.607 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000110
21:01:29.612 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000110
21:01:29.612 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.631 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000111
21:01:29.632 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.632 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.632 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000111
21:01:29.634 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000111
21:01:29.635 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.635 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.654 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000112
21:01:29.654 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.655 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.655 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000112
21:01:29.665 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000113
21:01:29.665 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.666 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000113
21:01:29.666 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000112
21:01:29.666 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.666 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.674 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000113
21:01:29.674 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.691 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000102
21:01:29.691 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.691 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.692 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000102
21:01:29.699 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000102
21:01:29.699 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.699 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.719 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000103
21:01:29.719 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.720 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.720 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000103
21:01:29.723 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000103
21:01:29.723 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.723 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.746 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000104
21:01:29.746 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.746 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.746 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000104
21:01:29.754 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000104
21:01:29.754 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.756 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.756 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000105
21:01:29.757 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.757 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000105
21:01:29.763 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000105
21:01:29.763 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.784 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000106
21:01:29.784 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.784 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.785 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000106
21:01:29.790 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000106
21:01:29.790 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.790 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.812 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000107
21:01:29.812 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.812 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.812 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000107
21:01:29.819 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000107
21:01:29.819 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.820 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.846 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000095
21:01:29.847 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.847 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.848 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000095
21:01:29.849 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000095
21:01:29.849 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.849 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.888 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000096
21:01:29.888 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.888 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.889 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000096
21:01:29.889 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.890 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.891 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000096
21:01:29.925 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000097
21:01:29.925 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.925 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.926 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000097
21:01:29.926 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.927 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.927 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000097
21:01:29.937 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000099
21:01:29.937 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.941 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000099
21:01:29.941 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:29.943 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000099
21:01:29.977 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000100
21:01:29.977 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.978 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.989 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000100
21:01:29.989 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:29.990 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:29.990 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000100
21:01:30.016 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000101
21:01:30.017 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.018 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.026 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000101
21:01:30.026 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.026 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.026 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000101
21:01:30.044 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000088
21:01:30.045 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.045 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.045 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000088
21:01:30.045 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.045 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.045 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000088
21:01:30.055 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000089
21:01:30.055 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.055 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000089
21:01:30.055 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000089
21:01:30.056 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.137 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000090
21:01:30.138 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.139 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.139 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000090
21:01:30.143 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000090
21:01:30.143 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.144 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.293 Background concurrent mark compact GC freed 5066KB AllocSpace bytes, 4(208KB) LOS objects, 49% free, 5543KB/10MB, paused 249us,37.617ms total 431.265ms
21:01:30.307 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000091
21:01:30.307 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000091
21:01:30.307 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.307 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.307 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.307 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.307 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000091
21:01:30.326 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000092
21:01:30.326 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.326 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.328 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000092
21:01:30.328 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.328 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.328 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000092
21:01:30.333 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000093
21:01:30.334 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.335 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000093
21:01:30.336 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.336 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000093
21:01:30.357 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000094
21:01:30.357 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000094
21:01:30.357 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.357 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.357 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.357 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.357 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000094
21:01:30.375 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000081
21:01:30.376 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.376 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.377 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000081
21:01:30.377 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.378 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.378 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000081
21:01:30.396 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000082
21:01:30.396 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000082
21:01:30.396 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.396 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.396 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.396 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.396 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000082
21:01:30.416 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000083
21:01:30.417 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.417 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.419 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000083
21:01:30.419 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.420 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.420 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000083
21:01:30.438 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000084
21:01:30.438 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.438 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.440 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000084
21:01:30.441 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.441 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.441 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000084
21:01:30.445 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000085
21:01:30.445 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.447 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000085
21:01:30.448 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.448 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000085
21:01:30.465 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000086
21:01:30.465 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.465 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.469 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000086
21:01:30.469 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.469 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.469 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000086
21:01:30.486 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000087
21:01:30.486 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.487 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.489 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000087
21:01:30.489 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.490 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.490 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000087
21:01:30.510 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000075
21:01:30.510 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.510 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.511 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000075
21:01:30.511 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.512 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.512 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000075
21:01:30.529 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000076
21:01:30.529 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.530 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.532 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000076
21:01:30.532 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.532 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.532 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000076
21:01:30.551 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000077
21:01:30.551 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.551 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.551 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000077
21:01:30.553 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000077
21:01:30.553 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.553 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.571 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000078
21:01:30.571 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.572 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.572 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000078
21:01:30.574 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000078
21:01:30.574 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.574 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.592 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000079
21:01:30.592 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.592 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.592 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000079
21:01:30.594 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000079
21:01:30.594 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.594 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.601 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000080
21:01:30.601 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.601 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000080
21:01:30.602 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000080
21:01:30.603 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:30.623 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000074
21:01:30.623 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.624 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.624 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000074
21:01:30.628 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000074
21:01:30.629 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.629 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.651 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000041
21:01:30.651 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000041
21:01:30.651 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.651 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.651 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.651 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.651 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000041
21:01:30.672 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000042
21:01:30.672 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000042
21:01:30.672 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.672 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.672 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.672 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.673 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000042
21:01:30.692 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000039
21:01:30.693 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.693 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.693 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000039
21:01:30.694 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000039
21:01:30.694 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.695 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.715 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000040
21:01:30.715 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000040
21:01:30.715 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.715 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.715 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.716 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000040
21:01:30.716 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.736 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000038
21:01:30.736 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.736 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.738 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000038
21:01:30.738 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.738 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.738 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000038
21:01:30.759 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000032
21:01:30.759 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.759 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.759 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000032
21:01:30.760 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.760 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.760 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000032
21:01:30.780 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000029
21:01:30.780 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.780 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.782 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000029
21:01:30.782 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.782 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.782 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000029
21:01:30.802 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000030
21:01:30.802 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.802 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.804 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000030
21:01:30.804 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.804 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.804 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000030
21:01:30.823 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000028
21:01:30.823 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000028
21:01:30.823 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.823 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.823 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.823 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.825 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000028
21:01:30.846 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000027
21:01:30.849 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.849 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.854 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000027
21:01:30.855 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.855 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.855 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000027
21:01:30.880 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000026
21:01:30.880 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.880 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.881 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000026
21:01:30.883 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.884 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.884 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000026
21:01:30.909 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000020
21:01:30.909 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.909 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.910 [ПРОЦЕСС] Найдено 29 необработанных изображений
21:01:30.921 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000020
21:01:30.922 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:30.925 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:30.925 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000020
21:01:30.925 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 29, Пропущено: 51
21:01:30.927 [ПРОЦЕСС] Завершена обработка всех изображений (0/0)
21:01:30.927 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000142
21:01:30.927 [ПРОЦЕСС] Счетчики пакетной обработки сброшены
21:01:30.929 [ПРОЦЕСС] Запущена последовательная обработка 29 изображений
21:01:30.936 app_time_stats: avg=57.29ms min=7.80ms max=2094.18ms count=51
21:01:30.951 [URI:0142] URI scheme: content, authority: media, path: /external/images/media/1000000142
21:01:30.959 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000142 (всего: 1)
21:01:30.970 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000142 в память
21:01:30.986 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000142:
21:01:30.986 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:30.987 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:30.987 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:30.987 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:30.989 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:30.989 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:30.990 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:30.991 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:49
21:01:30.991 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:30.991 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:30.992 [URI:0142] Сжатие изображения в поток
21:01:30.995 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000142
21:01:30.995 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.006 [ПРОЦЕСС] Создан автобатч: auto_batch_1_1763920891005
21:01:31.025 [СЖАТИЕ:0142] Запущена работа по сжатию для content://media/external/images/media/1000000142 с тегом compress_1763920891000_IMG_20251123_210048_1.jpg в батче auto_batch_1_1763920891005
21:01:31.026 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:31.026 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000140
21:01:31.027 [URI:0140] URI scheme: content, authority: media, path: /external/images/media/1000000140
21:01:31.029 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210048_1.jpg
21:01:31.033 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000140 (всего: 2)
21:01:31.039 [FileUtil] Директория для сохранения: Pictures
21:01:31.039 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210048_1.jpg (режим замены: true)
21:01:31.041 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:31.047 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000142
21:01:31.048 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210048_1.jpg', включен режим замены - удаляем
21:01:31.064 Scheduling work ID 7929ebe1-407e-44d9-81ad-259dfff385b2Job ID 43
21:01:31.078 [MediaStore] Существующий файл удален (режим замены)
21:01:31.078 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000140
21:01:31.079 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.081 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000142, обработка через 10 сек
21:01:31.085 Starting work for 7929ebe1-407e-44d9-81ad-259dfff385b2
21:01:31.091 onStartJob for WorkGenerationalId(workSpecId=7929ebe1-407e-44d9-81ad-259dfff385b2, generation=0)
21:01:31.100 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000143
21:01:31.108 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000143, обработка через 10 сек
21:01:31.110 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:31.113 [СЖАТИЕ:0140] Запущена работа по сжатию для content://media/external/images/media/1000000140 с тегом compress_1763920891093_IMG_20251123_210047_1.jpg в батче auto_batch_1_1763920891005
21:01:31.113 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:31.114 Processor: processing WorkGenerationalId(workSpecId=7929ebe1-407e-44d9-81ad-259dfff385b2, generation=0)
21:01:31.114 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000141
21:01:31.115 [URI:0141] URI scheme: content, authority: media, path: /external/images/media/1000000141
21:01:31.117 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000143
21:01:31.120 Work WorkGenerationalId(workSpecId=7929ebe1-407e-44d9-81ad-259dfff385b2, generation=0) is already enqueued for processing
21:01:31.129 Scheduling work ID 62868f03-1367-493e-abf1-a0519bf0bb2dJob ID 44
21:01:31.134 Starting work for 62868f03-1367-493e-abf1-a0519bf0bb2d
21:01:31.134 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000141 (всего: 3)
21:01:31.145 onStartJob for WorkGenerationalId(workSpecId=62868f03-1367-493e-abf1-a0519bf0bb2d, generation=0)
21:01:31.153 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:31.158 Processor: processing WorkGenerationalId(workSpecId=62868f03-1367-493e-abf1-a0519bf0bb2d, generation=0)
21:01:31.160 Work WorkGenerationalId(workSpecId=62868f03-1367-493e-abf1-a0519bf0bb2d, generation=0) is already enqueued for processing
21:01:31.185 androidx.work.impl.background.systemalarm.RescheduleReceiver enabled
21:01:31.191 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:31.197 Moving WorkSpec (7929ebe1-407e-44d9-81ad-259dfff385b2) to the foreground
21:01:31.204 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000143
21:01:31.207 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000143, максимальное время: 2000 мс
21:01:31.224 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:31.224 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000142 в память
21:01:31.227 Moving WorkSpec (62868f03-1367-493e-abf1-a0519bf0bb2d) to the foreground
21:01:31.231 [ОШИБКА:Получение EXIF:0142] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000142?requireOriginal=1
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.ExifUtil.getExifInterface(ExifUtil.kt:129)
             	at com.compressphotofast.util.ExifUtil$readExifDataToMemory$2.invokeSuspend(ExifUtil.kt:418)
             	at com.compressphotofast.util.ExifUtil$readExifDataToMemory$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$readExifDataToMemory$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.readExifDataToMemory(ExifUtil.kt:413)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:96)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:31.232 [URI:0142] [ПРОЦЕСС] Загружены EXIF данные в память: 0 тегов
21:01:31.236 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:31.237 [FileUtil] URI стал доступен через 24 мс, размер: 54594 байт
21:01:31.239 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:31.240 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000140 в память
21:01:31.240 Notifying with (id:1, workSpecId: 7929ebe1-407e-44d9-81ad-259dfff385b2, notificationType :1)
21:01:31.244 Notifying with (id:1, workSpecId: 7929ebe1-407e-44d9-81ad-259dfff385b2, notificationType :1)
21:01:31.255 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920891000
21:01:31.258 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000140:
21:01:31.260 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:31.261 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:31.262 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:31.263 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:31.264 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:31.267 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:31.267 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:31.267 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:48
21:01:31.267 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:31.268 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:31.268 Failed to get type for: content://media/external/images/media/1000000142 (No item at content://media/external/images/media/1000000142)
21:01:31.270 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:31.271 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920891271
21:01:31.271 [URI:0140] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:31.278 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000143
21:01:31.291 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:31.293 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:31.335 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:31.335 Notifying with (id:1, workSpecId: 62868f03-1367-493e-abf1-a0519bf0bb2d, notificationType :1)
21:01:31.340 [ПРОЦЕСС] URI не существует: content://media/external/images/media/1000000142
21:01:31.341 Notifying with (id:1, workSpecId: 62868f03-1367-493e-abf1-a0519bf0bb2d, notificationType :1)
21:01:31.344 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000141
21:01:31.346 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.350 Failed to get type for: content://media/external/images/media/1000000142 (No item at content://media/external/images/media/1000000142)
21:01:31.359 [ОШИБКА:Проверка файла:0142] Файл не существует
21:01:31.360 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:31.364 Worker result FAILURE for Work [ id=7929ebe1-407e-44d9-81ad-259dfff385b2, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920891000_IMG_20251123_210048_1.jpg } ]
21:01:31.364 [СЖАТИЕ:0141] Запущена работа по сжатию для content://media/external/images/media/1000000141 с тегом compress_1763920891355_IMG_20251123_210048.jpg в батче auto_batch_1_1763920891005
21:01:31.365 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:31.366 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000138
21:01:31.366 [URI:0138] URI scheme: content, authority: media, path: /external/images/media/1000000138
21:01:31.369 Processor 7929ebe1-407e-44d9-81ad-259dfff385b2 executed; reschedule = false
21:01:31.374 7929ebe1-407e-44d9-81ad-259dfff385b2 executed on JobScheduler
21:01:31.375 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000138 (всего: 4)
21:01:31.377 Scheduling work ID 74d351f3-7361-4929-a551-414062706dc2Job ID 45
21:01:31.379 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=7929ebe1-407e-44d9-81ad-259dfff385b2, generation=0), notificationType: 1
21:01:31.390 onStartJob for WorkGenerationalId(workSpecId=74d351f3-7361-4929-a551-414062706dc2, generation=0)
21:01:31.392 Starting work for 74d351f3-7361-4929-a551-414062706dc2
21:01:31.394 Cancelling work ID 7929ebe1-407e-44d9-81ad-259dfff385b2
21:01:31.403 Processor: processing WorkGenerationalId(workSpecId=74d351f3-7361-4929-a551-414062706dc2, generation=0)
21:01:31.404 Work WorkGenerationalId(workSpecId=74d351f3-7361-4929-a551-414062706dc2, generation=0) is already enqueued for processing
21:01:31.405 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000140
21:01:31.405 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.409 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:31.411 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:31.413 [FileUtil] Обработка EXIF данных: успешно
21:01:31.416 Moving WorkSpec (74d351f3-7361-4929-a551-414062706dc2) to the foreground
21:01:31.423 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:31.424 Notifying with (id:1, workSpecId: 74d351f3-7361-4929-a551-414062706dc2, notificationType :1)
21:01:31.427 [ОШИБКА:Получение размера:0142] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000142
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:234)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:31.431 Notifying with (id:1, workSpecId: 74d351f3-7361-4929-a551-414062706dc2, notificationType :1)
21:01:31.436 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000140
21:01:31.441 [ФАЙЛ:0142] Сохранение: Изображение успешно сжато: IMG_20251123_210048_1.jpg, 0KB → 54KB
21:01:31.442 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:31.444 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000141 в память
21:01:31.449 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:31.449 [URI:0140] Изображение требует обработки
21:01:31.449 [URI:0140] Начало тестового сжатия в RAM
21:01:31.450 [URI:0140] Сжатие изображения в поток
21:01:31.450 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000141:
21:01:31.451 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:31.451 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:31.452 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:31.452 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:31.452 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:31.452 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:31.453 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:31.454 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:48
21:01:31.458 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:31.458 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:31.459 [URI:0141] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:31.521 [NotificationUtil] Показан Toast: 🖼️ IMG_20251123_210048_1.jpg: 0 B → 54 KB (-0%)
21:01:31.539 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000138
21:01:31.547 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.602 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000140 в память
21:01:31.617 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000140:
21:01:31.617 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:31.618 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:31.618 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:31.618 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:31.618 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:31.618 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:31.618 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:31.618 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:48
21:01:31.619 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:31.619 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:31.619 [URI:0140] Сжатие изображения в поток
21:01:31.623 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:31.632 [СЖАТИЕ:0138] Запущена работа по сжатию для content://media/external/images/media/1000000138 с тегом compress_1763920891611_IMG_20251123_210046_1.jpg в батче auto_batch_1_1763920891005
21:01:31.632 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:31.632 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000139
21:01:31.632 [URI:0139] URI scheme: content, authority: media, path: /external/images/media/1000000139
21:01:31.661 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000139 (всего: 5)
21:01:31.672 Scheduling work ID 2cc0e879-5580-4357-83d5-ccce7493e73dJob ID 46
21:01:31.681 Starting work for 2cc0e879-5580-4357-83d5-ccce7493e73d
21:01:31.685 onStartJob for WorkGenerationalId(workSpecId=2cc0e879-5580-4357-83d5-ccce7493e73d, generation=0)
21:01:31.695 Processor: processing WorkGenerationalId(workSpecId=2cc0e879-5580-4357-83d5-ccce7493e73d, generation=0)
21:01:31.711 Work WorkGenerationalId(workSpecId=2cc0e879-5580-4357-83d5-ccce7493e73d, generation=0) is already enqueued for processing
21:01:31.714 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210047_1.jpg
21:01:31.721 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:31.722 [СЖАТИЕ:0140] 142KB → 53KB (-62%)
21:01:31.723 [СЖАТИЕ:0140] 142KB → 53KB (-62.17328%)
21:01:31.723 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000140 эффективно (экономия 62.17328%), выполняем полное сжатие
21:01:31.723 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:31.739 Moving WorkSpec (2cc0e879-5580-4357-83d5-ccce7493e73d) to the foreground
21:01:31.749 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:31.751 Notifying with (id:1, workSpecId: 2cc0e879-5580-4357-83d5-ccce7493e73d, notificationType :1)
21:01:31.753 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:31.755 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000138 в память
21:01:31.756 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000141
21:01:31.758 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.760 Notifying with (id:1, workSpecId: 2cc0e879-5580-4357-83d5-ccce7493e73d, notificationType :1)
21:01:31.762 [FileUtil] Директория для сохранения: Pictures
21:01:31.762 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210047_1.jpg (режим замены: true)
21:01:31.763 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:31.768 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000138:
21:01:31.768 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:31.771 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:31.771 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:31.771 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:31.799 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:31.807 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000140
21:01:31.810 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:31.811 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:31.811 [URI:0140] Имя файла: IMG_20251123_210047_1.jpg
21:01:31.813 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:47
21:01:31.813 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210047_1.jpg
21:01:31.814 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210047_1.jpg (режим замены: true)
21:01:31.816 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:31.817 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:31.818 [URI:0138] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:31.820 Background concurrent mark compact GC freed 4828KB AllocSpace bytes, 9(228KB) LOS objects, 49% free, 6091KB/11MB, paused 386us,19.745ms total 105.026ms
21:01:31.842 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210047_1.jpg', включен режим замены - удаляем
21:01:31.849 [URI:0140] Директория для сохранения: Pictures
21:01:31.855 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000141
21:01:31.857 [ОШИБКА:Сжатие:null] Ошибка при сжатии изображения (Ask Gemini)
             java.io.FileNotFoundException: open failed: ENOENT (No such file or directory)
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:204)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:31.875 Moving WorkSpec (62868f03-1367-493e-abf1-a0519bf0bb2d) to the foreground
21:01:31.876 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:31.876 [URI:0141] Изображение требует обработки
21:01:31.877 [URI:0141] Начало тестового сжатия в RAM
21:01:31.878 [URI:0141] Сжатие изображения в поток
21:01:31.892 [MediaStore] Существующий файл удален (режим замены)
21:01:31.908 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000140
21:01:31.911 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000140, обработка через 10 сек
21:01:31.912 Notifying with (id:1, workSpecId: 62868f03-1367-493e-abf1-a0519bf0bb2d, notificationType :1)
21:01:31.917 [ПРОЦЕСС] ImageDetectionJobService: onStartJob вызван
21:01:31.918 [ПРОЦЕСС] ImageDetectionJobService: получено 2 URI для обработки
21:01:31.920 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000144
21:01:31.923 [ПРОЦЕСС] ImageDetectionJobService: добавлены 2 URI к батчу, общий размер: 2
21:01:31.926 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000144
21:01:31.928 Worker result FAILURE for Work [ id=62868f03-1367-493e-abf1-a0519bf0bb2d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920891093_IMG_20251123_210047_1.jpg } ]
21:01:31.942 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000144, обработка через 10 сек
21:01:31.942 Processor 62868f03-1367-493e-abf1-a0519bf0bb2d executed; reschedule = false
21:01:31.943 62868f03-1367-493e-abf1-a0519bf0bb2d executed on JobScheduler
21:01:31.945 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000138
21:01:31.945 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.948 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=62868f03-1367-493e-abf1-a0519bf0bb2d, generation=0), notificationType: 1
21:01:31.951 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000139
21:01:31.951 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:31.955 [СЖАТИЕ:0141] 141KB → 53KB (-62%)
21:01:31.955 [СЖАТИЕ:0141] 141KB → 53KB (-62.1931%)
21:01:31.955 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000141 эффективно (экономия 62.1931%), выполняем полное сжатие
21:01:31.955 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:31.962 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000138
21:01:31.965 Cancelling work ID 62868f03-1367-493e-abf1-a0519bf0bb2d
21:01:31.975 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:31.976 [URI:0138] Изображение требует обработки
21:01:31.976 [URI:0138] Начало тестового сжатия в RAM
21:01:31.977 [URI:0138] Сжатие изображения в поток
21:01:31.988 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:31.989 [URI:0141] Имя файла: IMG_20251123_210048.jpg
21:01:31.989 [СЖАТИЕ:0139] Запущена работа по сжатию для content://media/external/images/media/1000000139 с тегом compress_1763920891976_IMG_20251123_210047.jpg в батче auto_batch_1_1763920891005
21:01:31.989 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210048.jpg
21:01:31.989 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210048.jpg (режим замены: true)
21:01:31.989 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:31.989 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000136
21:01:31.990 [URI:0136] URI scheme: content, authority: media, path: /external/images/media/1000000136
21:01:31.997 Scheduling work ID 441d04bf-3cb8-40cc-a42c-3c68064ecc8aJob ID 47
21:01:32.015 onStartJob for WorkGenerationalId(workSpecId=441d04bf-3cb8-40cc-a42c-3c68064ecc8a, generation=0)
21:01:32.017 [URI:0141] Директория для сохранения: Pictures
21:01:32.021 [URI:0141] Сжатие изображения в поток
21:01:32.034 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000144
21:01:32.035 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000144, максимальное время: 2000 мс
21:01:32.035 [СЖАТИЕ:0138] 141KB → 53KB (-62%)
21:01:32.036 [СЖАТИЕ:0138] 141KB → 53KB (-62.251293%)
21:01:32.036 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000138 эффективно (экономия 62.251293%), выполняем полное сжатие
21:01:32.036 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:32.038 Starting work for 441d04bf-3cb8-40cc-a42c-3c68064ecc8a
21:01:32.039 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000136 (всего: 6)
21:01:32.039 [FileUtil] URI стал доступен через 4 мс, размер: 55109 байт
21:01:32.041 Processor: processing WorkGenerationalId(workSpecId=441d04bf-3cb8-40cc-a42c-3c68064ecc8a, generation=0)
21:01:32.043 Work WorkGenerationalId(workSpecId=441d04bf-3cb8-40cc-a42c-3c68064ecc8a, generation=0) is already enqueued for processing
21:01:32.047 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920891000
21:01:32.055 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:32.058 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920892057
21:01:32.062 [URI:0138] Имя файла: IMG_20251123_210046_1.jpg
21:01:32.063 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210046_1.jpg
21:01:32.063 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210046_1.jpg (режим замены: true)
21:01:32.071 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:32.075 [URI:0138] Директория для сохранения: Pictures
21:01:32.076 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000144
21:01:32.079 [URI:0138] Сжатие изображения в поток
21:01:32.081 Moving WorkSpec (441d04bf-3cb8-40cc-a42c-3c68064ecc8a) to the foreground
21:01:32.083 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:32.084 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:32.090 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:32.091 Notifying with (id:1, workSpecId: 441d04bf-3cb8-40cc-a42c-3c68064ecc8a, notificationType :1)
21:01:32.107 [FileUtil] Директория для сохранения: Pictures
21:01:32.107 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210048.jpg (режим замены: true)
21:01:32.108 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:32.116 Notifying with (id:1, workSpecId: 441d04bf-3cb8-40cc-a42c-3c68064ecc8a, notificationType :1)
21:01:32.117 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:32.118 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000139 в память
21:01:32.119 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000141
21:01:32.126 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210048.jpg', включен режим замены - удаляем
21:01:32.133 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000139:
21:01:32.133 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:32.133 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:32.133 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:32.133 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:32.134 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:32.134 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:32.134 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:32.134 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:47
21:01:32.134 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:32.135 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:32.135 [URI:0139] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:32.143 [MediaStore] Существующий файл удален (режим замены)
21:01:32.148 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000141, обработка через 10 сек
21:01:32.153 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000145
21:01:32.158 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000136
21:01:32.159 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:32.159 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000145
21:01:32.171 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000145, обработка через 10 сек
21:01:32.171 [FileUtil] Директория для сохранения: Pictures
21:01:32.172 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210046_1.jpg (режим замены: true)
21:01:32.172 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:32.175 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000138
21:01:32.177 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210046_1.jpg', включен режим замены - удаляем
21:01:32.191 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:32.192 [СЖАТИЕ:0136] Запущена работа по сжатию для content://media/external/images/media/1000000136 с тегом compress_1763920892171_IMG_20251123_210045.jpg в батче auto_batch_1_1763920891005
21:01:32.192 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:32.192 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000137
21:01:32.192 [URI:0137] URI scheme: content, authority: media, path: /external/images/media/1000000137
21:01:32.208 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000145
21:01:32.209 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:32.209 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000145, максимальное время: 2000 мс
21:01:32.209 [FileUtil] Обработка EXIF данных: успешно
21:01:32.213 [MediaStore] Существующий файл удален (режим замены)
21:01:32.218 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000139
21:01:32.220 [FileUtil] URI стал доступен через 10 мс, размер: 54820 байт
21:01:32.223 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000137 (всего: 7)
21:01:32.225 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000138, обработка через 10 сек
21:01:32.225 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:32.236 Scheduling work ID 2cebb1c0-94ba-423d-8dc5-0855001ed802Job ID 48
21:01:32.243 [ОШИБКА:Получение размера:0140] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000140
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:234)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:32.253 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920892000
21:01:32.264 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:32.267 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000146
21:01:32.267 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920892267
21:01:32.270 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000145
21:01:32.293 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:32.294 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:32.302 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000139
21:01:32.305 [ФАЙЛ:0140] Сохранение: Изображение успешно сжато: IMG_20251123_210047_1.jpg, 0KB → 54KB
21:01:32.309 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000146
21:01:32.310 Starting work for 2cebb1c0-94ba-423d-8dc5-0855001ed802
21:01:32.317 Processor: processing WorkGenerationalId(workSpecId=2cebb1c0-94ba-423d-8dc5-0855001ed802, generation=0)
21:01:32.321 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000146, обработка через 10 сек
21:01:32.321 onStartJob for WorkGenerationalId(workSpecId=2cebb1c0-94ba-423d-8dc5-0855001ed802, generation=0)
21:01:32.329 [NotificationUtil] Пропуск Toast - другое сообщение уже отображается
21:01:32.330 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:32.333 Work WorkGenerationalId(workSpecId=2cebb1c0-94ba-423d-8dc5-0855001ed802, generation=0) is already enqueued for processing
21:01:32.339 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000146
21:01:32.339 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000146, максимальное время: 2000 мс
21:01:32.344 Failed to get type for: content://media/external/images/media/1000000141 (No item at content://media/external/images/media/1000000141)
21:01:32.344 [FileUtil] URI стал доступен через 5 мс, размер: 54736 байт
21:01:32.347 Moving WorkSpec (2cebb1c0-94ba-423d-8dc5-0855001ed802) to the foreground
21:01:32.369 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920892000
21:01:32.381 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:32.381 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920892381
21:01:32.387 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000146
21:01:32.388 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:32.388 [URI:0139] Изображение требует обработки
21:01:32.388 [URI:0139] Начало тестового сжатия в RAM
21:01:32.388 [URI:0139] Сжатие изображения в поток
21:01:32.389 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:32.389 Notifying with (id:1, workSpecId: 2cebb1c0-94ba-423d-8dc5-0855001ed802, notificationType :1)
21:01:32.393 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:32.393 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000136 в память
21:01:32.393 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:32.394 Notifying with (id:1, workSpecId: 2cebb1c0-94ba-423d-8dc5-0855001ed802, notificationType :1)
21:01:32.399 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:32.400 [URI:0141] URI не существует
21:01:32.401 [ОШИБКА:Обработка:0141] Недействительный URI
21:01:32.421 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000136:
21:01:32.421 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:32.421 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:32.421 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:32.422 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:32.424 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:32.424 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:32.424 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:32.424 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:46
21:01:32.424 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:32.430 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:32.430 [URI:0136] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:32.433 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:32.434 [FileUtil] Обработка EXIF данных: успешно
21:01:32.434 [ФАЙЛ:0141] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000145
21:01:32.435 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000141
21:01:32.435 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:32.438 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:32.439 [ОШИБКА:Удаление:0141] Не удалось удалить оригинальный файл
21:01:32.443 Failed to get type for: content://media/external/images/media/1000000138 (No item at content://media/external/images/media/1000000138)
21:01:32.444 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210048.jpg (1)
21:01:32.444 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210048.jpg
21:01:32.449 Moving WorkSpec (74d351f3-7361-4929-a551-414062706dc2) to the foreground
21:01:32.450 Notifying with (id:1, workSpecId: 74d351f3-7361-4929-a551-414062706dc2, notificationType :1)
21:01:32.452 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000141
21:01:32.454 [СЖАТИЕ:0139] 142KB → 53KB (-62%)
21:01:32.454 [СЖАТИЕ:0139] 142KB → 53KB (-62.162327%)
21:01:32.454 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000139 эффективно (экономия 62.162327%), выполняем полное сжатие
21:01:32.454 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:32.458 Worker result SUCCESS for Work [ id=74d351f3-7361-4929-a551-414062706dc2, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920891355_IMG_20251123_210048.jpg } ]
21:01:32.460 Processor 74d351f3-7361-4929-a551-414062706dc2 executed; reschedule = false
21:01:32.460 74d351f3-7361-4929-a551-414062706dc2 executed on JobScheduler
21:01:32.460 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=74d351f3-7361-4929-a551-414062706dc2, generation=0), notificationType: 1
21:01:32.467 [URI:0139] Имя файла: IMG_20251123_210047.jpg
21:01:32.467 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210047.jpg
21:01:32.467 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210047.jpg (режим замены: true)
21:01:32.472 [URI:0139] Директория для сохранения: Pictures
21:01:32.476 [URI:0138] URI не существует
21:01:32.477 [ОШИБКА:Обработка:0138] Недействительный URI
21:01:32.479 Cancelling work ID 74d351f3-7361-4929-a551-414062706dc2
21:01:32.504 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000137
21:01:32.504 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:32.507 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:32.507 [FileUtil] Обработка EXIF данных: успешно
21:01:32.507 [ФАЙЛ:0138] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000146
21:01:32.509 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000138
21:01:32.510 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:32.516 [URI:0139] Сжатие изображения в поток
21:01:32.541 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:32.542 [ОШИБКА:Удаление:0138] Не удалось удалить оригинальный файл
21:01:32.559 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000139 в память
21:01:32.567 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000139:
21:01:32.571 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:32.572 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:32.572 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:32.572 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:32.573 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:32.576 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:32.576 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:32.577 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:47
21:01:32.577 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:32.577 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:32.581 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210046_1.jpg (2)
21:01:32.581 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210046_1.jpg
21:01:32.591 Moving WorkSpec (2cc0e879-5580-4357-83d5-ccce7493e73d) to the foreground
21:01:32.592 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:32.592 [URI:0139] Сжатие изображения в поток
21:01:32.593 [СЖАТИЕ:0137] Запущена работа по сжатию для content://media/external/images/media/1000000137 с тегом compress_1763920892555_IMG_20251123_210046.jpg в батче auto_batch_1_1763920891005
21:01:32.595 Notifying with (id:1, workSpecId: 2cc0e879-5580-4357-83d5-ccce7493e73d, notificationType :1)
21:01:32.596 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:32.598 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000135
21:01:32.599 [URI:0135] URI scheme: content, authority: media, path: /external/images/media/1000000135
21:01:32.602 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000138
21:01:32.611 Scheduling work ID b3e200c3-bfe1-4129-a188-440dbaabca46Job ID 49
21:01:32.613 [FileUtil] Директория для сохранения: Pictures
21:01:32.614 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210047.jpg (режим замены: true)
21:01:32.614 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:32.617 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000139
21:01:32.619 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000135 (всего: 8)
21:01:32.621 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210047.jpg', включен режим замены - удаляем
21:01:32.628 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000136
21:01:32.629 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:32.632 Starting work for b3e200c3-bfe1-4129-a188-440dbaabca46
21:01:32.634 onStartJob for WorkGenerationalId(workSpecId=b3e200c3-bfe1-4129-a188-440dbaabca46, generation=0)
21:01:32.635 Worker result SUCCESS for Work [ id=2cc0e879-5580-4357-83d5-ccce7493e73d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920891611_IMG_20251123_210046_1.jpg } ]
21:01:32.636 Processor 2cc0e879-5580-4357-83d5-ccce7493e73d executed; reschedule = false
21:01:32.636 2cc0e879-5580-4357-83d5-ccce7493e73d executed on JobScheduler
21:01:32.641 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210047.jpg
21:01:32.641 [MediaStore] Существующий файл удален (режим замены)
21:01:32.641 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=2cc0e879-5580-4357-83d5-ccce7493e73d, generation=0), notificationType: 1
21:01:32.643 Processor: processing WorkGenerationalId(workSpecId=b3e200c3-bfe1-4129-a188-440dbaabca46, generation=0)
21:01:32.644 Work WorkGenerationalId(workSpecId=b3e200c3-bfe1-4129-a188-440dbaabca46, generation=0) is already enqueued for processing
21:01:32.646 Cancelling work ID 2cc0e879-5580-4357-83d5-ccce7493e73d
21:01:32.649 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000147
21:01:32.656 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000147
21:01:32.659 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000139, обработка через 10 сек
21:01:32.661 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000136
21:01:32.667 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000147, обработка через 10 сек
21:01:32.667 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:32.681 [FileUtil] Директория для сохранения: Pictures/CompressPhotoFast
21:01:32.681 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210047.jpg (режим замены: true)
21:01:32.683 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/CompressPhotoFast
21:01:32.684 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:32.684 [URI:0136] Изображение требует обработки
21:01:32.684 [URI:0136] Начало тестового сжатия в RAM
21:01:32.685 [URI:0136] Сжатие изображения в поток
21:01:32.685 Moving WorkSpec (b3e200c3-bfe1-4129-a188-440dbaabca46) to the foreground
21:01:32.688 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:32.688 Notifying with (id:1, workSpecId: b3e200c3-bfe1-4129-a188-440dbaabca46, notificationType :1)
21:01:32.695 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000147
21:01:32.696 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000147, максимальное время: 2000 мс
21:01:32.702 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000147
21:01:32.702 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:32.703 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000137 в память
21:01:32.707 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210047.jpg', включен режим замены - удаляем
21:01:32.709 [FileUtil] URI стал доступен через 13 мс, размер: 55089 байт
21:01:32.719 [MediaStore] Существующий файл удален (режим замены)
21:01:32.720 Notifying with (id:1, workSpecId: b3e200c3-bfe1-4129-a188-440dbaabca46, notificationType :1)
21:01:32.725 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000148
21:01:32.736 [ПРОЦЕСС] Сохранена исходная дата модификации: 0
21:01:32.737 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000148
21:01:32.738 [ОШИБКА:Применение EXIF из памяти:0147] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000147
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openAssetFile(ContentProviderNative.java:737)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1876)
             	at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1689)
             	at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1635)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invokeSuspend(ExifUtil.kt:503)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.applyExifFromMemory(ExifUtil.kt:495)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:823)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.handleExifForSavedImage(ExifUtil.kt:816)
             	at com.compressphotofast.util.MediaStoreUtil$saveCompressedImageFromStream$2.invokeSuspend(MediaStoreUtil.kt:341)
             	at com.compressphotofast.util.MediaStoreUtil$saveCompressedImageFromStream$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.MediaStoreUtil$saveCompressedImageFromStream$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.MediaStoreUtil.saveCompressedImageFromStream(MediaStoreUtil.kt:301)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:32.738 [ПРОЦЕСС] Применение EXIF данных из памяти: неудачно
21:01:32.742 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000148, обработка через 10 сек
21:01:32.757 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000148
21:01:32.757 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000148, максимальное время: 2000 мс
21:01:32.757 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000137:
21:01:32.758 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:32.760 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:32.760 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:32.761 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:32.763 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:32.764 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:32.765 [FileUtil] URI стал доступен через 2 мс, размер: 55089 байт
21:01:32.766 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:32.769 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:46
21:01:32.769 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:32.770 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:32.772 [URI:0137] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:32.785 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920892000
21:01:32.790 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000135
21:01:32.790 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:32.792 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:32.792 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920892792
21:01:32.796 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000148
21:01:32.798 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:32.799 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:32.821 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000137
21:01:32.822 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:32.829 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000137
21:01:32.835 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:32.835 [URI:0137] Изображение требует обработки
21:01:32.835 [URI:0137] Начало тестового сжатия в RAM
21:01:32.836 [URI:0137] Сжатие изображения в поток
21:01:32.840 [СЖАТИЕ:0136] 141KB → 53KB (-62%)
21:01:32.840 [СЖАТИЕ:0136] 141KB → 53KB (-62.260223%)
21:01:32.842 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000136 эффективно (экономия 62.260223%), выполняем полное сжатие
21:01:32.842 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:32.842 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:32.843 [ОШИБКА:Верификация EXIF:0147] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000147
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:848)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:32.843 [FileUtil] Обработка EXIF данных: неудачно
21:01:32.843 [ФАЙЛ:0139] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000147
21:01:32.845 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000139
21:01:32.845 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:32.845 [СЖАТИЕ:0135] Запущена работа по сжатию для content://media/external/images/media/1000000135 с тегом compress_1763920892838_IMG_20251123_210044_2.jpg в батче auto_batch_1_1763920891005
21:01:32.845 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:32.847 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000132
21:01:32.847 [URI:0132] URI scheme: content, authority: media, path: /external/images/media/1000000132
21:01:32.851 [URI:0136] Имя файла: IMG_20251123_210045.jpg
21:01:32.851 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210045.jpg
21:01:32.851 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210045.jpg (режим замены: true)
21:01:32.856 Scheduling work ID 13646ca4-8ccb-4548-a05c-403568fb80d3Job ID 50
21:01:32.856 [URI:0136] Директория для сохранения: Pictures
21:01:32.856 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:32.857 [ОШИБКА:Удаление:0139] Не удалось удалить оригинальный файл
21:01:32.859 onStartJob for WorkGenerationalId(workSpecId=13646ca4-8ccb-4548-a05c-403568fb80d3, generation=0)
21:01:32.860 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000132 (всего: 9)
21:01:32.862 Starting work for 13646ca4-8ccb-4548-a05c-403568fb80d3
21:01:32.865 Processor: processing WorkGenerationalId(workSpecId=13646ca4-8ccb-4548-a05c-403568fb80d3, generation=0)
21:01:32.866 [ОШИБКА:Получение размера:0147] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000147
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:273)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:32.867 Work WorkGenerationalId(workSpecId=13646ca4-8ccb-4548-a05c-403568fb80d3, generation=0) is already enqueued for processing
21:01:32.867 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210047.jpg (3)
21:01:32.867 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210047.jpg
21:01:32.868 [СЖАТИЕ:0137] 141KB → 53KB (-62%)
21:01:32.869 [СЖАТИЕ:0137] 141KB → 53KB (-62.152187%)
21:01:32.869 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000137 эффективно (экономия 62.152187%), выполняем полное сжатие
21:01:32.869 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:32.869 [URI:0136] Сжатие изображения в поток
21:01:32.872 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:32.876 Moving WorkSpec (441d04bf-3cb8-40cc-a42c-3c68064ecc8a) to the foreground
21:01:32.877 [URI:0137] Имя файла: IMG_20251123_210046.jpg
21:01:32.877 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210046.jpg
21:01:32.877 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210046.jpg (режим замены: true)
21:01:32.879 Notifying with (id:1, workSpecId: 441d04bf-3cb8-40cc-a42c-3c68064ecc8a, notificationType :1)
21:01:32.879 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000139
21:01:32.881 [URI:0137] Директория для сохранения: Pictures
21:01:32.883 Moving WorkSpec (13646ca4-8ccb-4548-a05c-403568fb80d3) to the foreground
21:01:32.885 [URI:0137] Сжатие изображения в поток
21:01:32.887 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:32.888 Notifying with (id:1, workSpecId: 13646ca4-8ccb-4548-a05c-403568fb80d3, notificationType :1)
21:01:32.892 Notifying with (id:1, workSpecId: 13646ca4-8ccb-4548-a05c-403568fb80d3, notificationType :1)
21:01:32.894 Worker result SUCCESS for Work [ id=441d04bf-3cb8-40cc-a42c-3c68064ecc8a, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920891976_IMG_20251123_210047.jpg } ]
21:01:32.895 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:32.895 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000135 в память
21:01:32.899 Processor 441d04bf-3cb8-40cc-a42c-3c68064ecc8a executed; reschedule = false
21:01:32.899 441d04bf-3cb8-40cc-a42c-3c68064ecc8a executed on JobScheduler
21:01:32.899 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=441d04bf-3cb8-40cc-a42c-3c68064ecc8a, generation=0), notificationType: 1
21:01:32.901 Cancelling work ID 441d04bf-3cb8-40cc-a42c-3c68064ecc8a
21:01:32.905 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000135:
21:01:32.906 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:32.906 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:32.906 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:32.906 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:32.906 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:32.906 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:32.907 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:32.907 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:45
21:01:32.907 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:32.907 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:32.907 [URI:0135] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:32.909 [FileUtil] Директория для сохранения: Pictures
21:01:32.910 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210045.jpg (режим замены: true)
21:01:32.910 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:32.915 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:32.915 [FileUtil] Обработка EXIF данных: успешно
21:01:32.917 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000136
21:01:32.922 [ОШИБКА:Получение размера:0139] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000139
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:234)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:32.925 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210045.jpg', включен режим замены - удаляем
21:01:32.925 [ФАЙЛ:0139] Сохранение: Изображение успешно сжато: IMG_20251123_210047.jpg, 0KB → 54KB
21:01:32.931 [NotificationUtil] Пропуск Toast - другое сообщение уже отображается
21:01:32.945 [FileUtil] Директория для сохранения: Pictures
21:01:32.945 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210046.jpg (режим замены: true)
21:01:32.945 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:32.950 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000137
21:01:32.952 [MediaStore] Существующий файл удален (режим замены)
21:01:32.952 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210046.jpg', включен режим замены - удаляем
21:01:32.952 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000136, обработка через 10 сек
21:01:32.955 Failed to get type for: content://media/external/images/media/1000000136 (No item at content://media/external/images/media/1000000136)
21:01:32.980 [MediaStore] Существующий файл удален (режим замены)
21:01:32.983 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000137, обработка через 10 сек
21:01:32.987 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000149
21:01:32.989 [URI:0136] URI не существует
21:01:32.991 [ОШИБКА:Обработка:0136] Недействительный URI
21:01:32.993 Background concurrent mark compact GC freed 4764KB AllocSpace bytes, 47(1808KB) LOS objects, 49% free, 5895KB/11MB, paused 478us,21.053ms total 82.749ms
21:01:32.994 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000149, обработка через 10 сек
21:01:32.994 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000149
21:01:32.995 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000132
21:01:32.995 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.012 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000150
21:01:33.013 Failed to get type for: content://media/external/images/media/1000000137 (No item at content://media/external/images/media/1000000137)
21:01:33.016 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.016 [СЖАТИЕ:0132] Запущена работа по сжатию для content://media/external/images/media/1000000132 с тегом compress_1763920893009_IMG_20251123_210043_2.jpg в батче auto_batch_1_1763920891005
21:01:33.017 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.017 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000133
21:01:33.017 [URI:0133] URI scheme: content, authority: media, path: /external/images/media/1000000133
21:01:33.017 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000150, обработка через 10 сек
21:01:33.023 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000150
21:01:33.026 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000133 (всего: 10)
21:01:33.028 Scheduling work ID 1ccfedac-42ea-4e88-9426-6bd6b38240feJob ID 51
21:01:33.031 Starting work for 1ccfedac-42ea-4e88-9426-6bd6b38240fe
21:01:33.031 [URI:0137] URI не существует
21:01:33.031 [ОШИБКА:Обработка:0137] Недействительный URI
21:01:33.031 onStartJob for WorkGenerationalId(workSpecId=1ccfedac-42ea-4e88-9426-6bd6b38240fe, generation=0)
21:01:33.031 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000135
21:01:33.032 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.034 Processor: processing WorkGenerationalId(workSpecId=1ccfedac-42ea-4e88-9426-6bd6b38240fe, generation=0)
21:01:33.035 Work WorkGenerationalId(workSpecId=1ccfedac-42ea-4e88-9426-6bd6b38240fe, generation=0) is already enqueued for processing
21:01:33.038 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.044 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000135
21:01:33.047 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000149
21:01:33.047 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000149, максимальное время: 2000 мс
21:01:33.047 Moving WorkSpec (1ccfedac-42ea-4e88-9426-6bd6b38240fe) to the foreground
21:01:33.053 [FileUtil] URI стал доступен через 6 мс, размер: 54714 байт
21:01:33.054 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.055 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000132 в память
21:01:33.055 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.055 Notifying with (id:1, workSpecId: 1ccfedac-42ea-4e88-9426-6bd6b38240fe, notificationType :1)
21:01:33.057 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.057 [URI:0135] Изображение требует обработки
21:01:33.057 [URI:0135] Начало тестового сжатия в RAM
21:01:33.058 [URI:0135] Сжатие изображения в поток
21:01:33.059 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920892000
21:01:33.060 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000132:
21:01:33.061 Notifying with (id:1, workSpecId: 1ccfedac-42ea-4e88-9426-6bd6b38240fe, notificationType :1)
21:01:33.062 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.062 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.064 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.064 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.065 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.065 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.065 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.065 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.066 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:44
21:01:33.066 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.066 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.066 [URI:0132] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:33.069 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893065
21:01:33.069 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000150
21:01:33.070 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000150, максимальное время: 2000 мс
21:01:33.075 [FileUtil] URI стал доступен через 4 мс, размер: 54871 байт
21:01:33.075 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000135 в память
21:01:33.079 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000149
21:01:33.081 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.082 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.083 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.090 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000135:
21:01:33.090 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.090 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.090 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.090 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.091 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.091 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.091 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.091 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:45
21:01:33.092 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.093 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.093 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.093 [URI:0135] Сжатие изображения в поток
21:01:33.095 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893092
21:01:33.101 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000133
21:01:33.101 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.107 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000150
21:01:33.109 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.110 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.111 [СЖАТИЕ:0135] 141KB → 53KB (-62%)
21:01:33.111 [СЖАТИЕ:0135] 141KB → 53KB (-62.085976%)
21:01:33.111 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000135 эффективно (экономия 62.085976%), выполняем полное сжатие
21:01:33.111 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.111 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.112 [СЖАТИЕ:0133] Запущена работа по сжатию для content://media/external/images/media/1000000133 с тегом compress_1763920893105_IMG_20251123_210044.jpg в батче auto_batch_1_1763920891005
21:01:33.112 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.112 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000134
21:01:33.113 [URI:0134] URI scheme: content, authority: media, path: /external/images/media/1000000134
21:01:33.116 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000134 (всего: 11)
21:01:33.120 Scheduling work ID c1ec36c7-4d3b-4844-a650-1033880b5282Job ID 52
21:01:33.121 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000132
21:01:33.122 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.123 [URI:0135] Имя файла: IMG_20251123_210044_2.jpg
21:01:33.123 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210044_2.jpg
21:01:33.123 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210044_2.jpg (режим замены: true)
21:01:33.128 [URI:0135] Директория для сохранения: Pictures
21:01:33.130 onStartJob for WorkGenerationalId(workSpecId=c1ec36c7-4d3b-4844-a650-1033880b5282, generation=0)
21:01:33.131 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000132
21:01:33.132 [URI:0135] Сжатие изображения в поток
21:01:33.133 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210044_2.jpg
21:01:33.133 Starting work for c1ec36c7-4d3b-4844-a650-1033880b5282
21:01:33.136 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.136 [URI:0132] Изображение требует обработки
21:01:33.136 [URI:0132] Начало тестового сжатия в RAM
21:01:33.136 [URI:0132] Сжатие изображения в поток
21:01:33.137 Processor: processing WorkGenerationalId(workSpecId=c1ec36c7-4d3b-4844-a650-1033880b5282, generation=0)
21:01:33.139 Work WorkGenerationalId(workSpecId=c1ec36c7-4d3b-4844-a650-1033880b5282, generation=0) is already enqueued for processing
21:01:33.143 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.144 [FileUtil] Директория для сохранения: Pictures
21:01:33.146 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210044_2.jpg (режим замены: true)
21:01:33.146 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000134
21:01:33.146 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.146 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.150 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000135
21:01:33.151 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210044_2.jpg', включен режим замены - удаляем
21:01:33.160 Moving WorkSpec (c1ec36c7-4d3b-4844-a650-1033880b5282) to the foreground
21:01:33.162 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.163 [СЖАТИЕ:0134] Запущена работа по сжатию для content://media/external/images/media/1000000134 с тегом compress_1763920893152_IMG_20251123_210044_1.jpg в батче auto_batch_1_1763920891005
21:01:33.163 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.163 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000130
21:01:33.163 [URI:0130] URI scheme: content, authority: media, path: /external/images/media/1000000130
21:01:33.164 [FileUtil] Директория для сохранения: Pictures
21:01:33.164 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210044_2.jpg (режим замены: true)
21:01:33.164 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.169 [MediaStore] Существующий файл удален (режим замены)
21:01:33.171 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000135, обработка через 10 сек
21:01:33.171 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.171 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.172 Notifying with (id:1, workSpecId: c1ec36c7-4d3b-4844-a650-1033880b5282, notificationType :1)
21:01:33.172 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000133 в память
21:01:33.177 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000151
21:01:33.179 Notifying with (id:1, workSpecId: c1ec36c7-4d3b-4844-a650-1033880b5282, notificationType :1)
21:01:33.181 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000130 (всего: 12)
21:01:33.181 [СЖАТИЕ:0132] 142KB → 53KB (-62%)
21:01:33.182 [СЖАТИЕ:0132] 142KB → 53KB (-62.078278%)
21:01:33.182 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000132 эффективно (экономия 62.078278%), выполняем полное сжатие
21:01:33.182 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.186 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000133:
21:01:33.189 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.190 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.190 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.190 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000151
21:01:33.190 [URI:0132] Имя файла: IMG_20251123_210043_2.jpg
21:01:33.190 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.190 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210043_2.jpg
21:01:33.190 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210043_2.jpg (режим замены: true)
21:01:33.191 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.191 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.191 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.191 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:44
21:01:33.191 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.191 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.191 [URI:0133] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:33.194 Scheduling work ID 740663f2-cef1-46ba-9beb-7c7e9b3588fdJob ID 53
21:01:33.196 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000151, обработка через 10 сек
21:01:33.199 [URI:0132] Директория для сохранения: Pictures
21:01:33.199 Starting work for 740663f2-cef1-46ba-9beb-7c7e9b3588fd
21:01:33.202 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000151
21:01:33.203 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.204 [URI:0132] Сжатие изображения в поток
21:01:33.204 [FileUtil] Обработка EXIF данных: успешно
21:01:33.205 [ФАЙЛ:0136] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000149
21:01:33.205 Processor: processing WorkGenerationalId(workSpecId=740663f2-cef1-46ba-9beb-7c7e9b3588fd, generation=0)
21:01:33.206 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000136
21:01:33.207 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:33.207 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000151
21:01:33.209 onStartJob for WorkGenerationalId(workSpecId=740663f2-cef1-46ba-9beb-7c7e9b3588fd, generation=0)
21:01:33.214 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.216 Work WorkGenerationalId(workSpecId=740663f2-cef1-46ba-9beb-7c7e9b3588fd, generation=0) is already enqueued for processing
21:01:33.229 Moving WorkSpec (740663f2-cef1-46ba-9beb-7c7e9b3588fd) to the foreground
21:01:33.233 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:33.234 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.235 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000134 в память
21:01:33.236 [ОШИБКА:Удаление:0136] Не удалось удалить оригинальный файл
21:01:33.241 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.242 Notifying with (id:1, workSpecId: 740663f2-cef1-46ba-9beb-7c7e9b3588fd, notificationType :1)
21:01:33.242 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000134:
21:01:33.243 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.244 [FileUtil] Обработка EXIF данных: успешно
21:01:33.245 [ФАЙЛ:0137] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000150
21:01:33.245 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000137
21:01:33.245 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:33.245 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.245 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210045.jpg (4)
21:01:33.246 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210045.jpg
21:01:33.246 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.246 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.247 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.247 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.247 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.247 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.247 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:44
21:01:33.247 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.247 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.247 [URI:0134] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:33.248 Notifying with (id:1, workSpecId: 740663f2-cef1-46ba-9beb-7c7e9b3588fd, notificationType :1)
21:01:33.257 Moving WorkSpec (2cebb1c0-94ba-423d-8dc5-0855001ed802) to the foreground
21:01:33.260 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000136
21:01:33.264 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000151
21:01:33.264 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000151, максимальное время: 2000 мс
21:01:33.265 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:33.266 [ОШИБКА:Удаление:0137] Не удалось удалить оригинальный файл
21:01:33.269 [FileUtil] URI стал доступен через 4 мс, размер: 54876 байт
21:01:33.269 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000151
21:01:33.270 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000151, максимальное время: 2000 мс
21:01:33.272 [FileUtil] URI стал доступен через 2 мс, размер: 54876 байт
21:01:33.277 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210046.jpg (5)
21:01:33.277 Notifying with (id:1, workSpecId: 2cebb1c0-94ba-423d-8dc5-0855001ed802, notificationType :1)
21:01:33.278 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210046.jpg
21:01:33.280 Worker result SUCCESS for Work [ id=2cebb1c0-94ba-423d-8dc5-0855001ed802, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920892171_IMG_20251123_210045.jpg } ]
21:01:33.283 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.288 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.292 Moving WorkSpec (b3e200c3-bfe1-4129-a188-440dbaabca46) to the foreground
21:01:33.293 Processor 2cebb1c0-94ba-423d-8dc5-0855001ed802 executed; reschedule = false
21:01:33.293 2cebb1c0-94ba-423d-8dc5-0855001ed802 executed on JobScheduler
21:01:33.297 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.297 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893297
21:01:33.297 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=2cebb1c0-94ba-423d-8dc5-0855001ed802, generation=0), notificationType: 1
21:01:33.301 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000137
21:01:33.305 Notifying with (id:1, workSpecId: b3e200c3-bfe1-4129-a188-440dbaabca46, notificationType :1)
21:01:33.306 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000151
21:01:33.306 Cancelling work ID 2cebb1c0-94ba-423d-8dc5-0855001ed802
21:01:33.309 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000133
21:01:33.310 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.313 Worker result SUCCESS for Work [ id=b3e200c3-bfe1-4129-a188-440dbaabca46, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920892555_IMG_20251123_210046.jpg } ]
21:01:33.313 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.313 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893313
21:01:33.315 Processor b3e200c3-bfe1-4129-a188-440dbaabca46 executed; reschedule = false
21:01:33.316 b3e200c3-bfe1-4129-a188-440dbaabca46 executed on JobScheduler
21:01:33.316 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=b3e200c3-bfe1-4129-a188-440dbaabca46, generation=0), notificationType: 1
21:01:33.318 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.319 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.319 Cancelling work ID b3e200c3-bfe1-4129-a188-440dbaabca46
21:01:33.323 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000151
21:01:33.325 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000130
21:01:33.325 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.331 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.332 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.343 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000133
21:01:33.345 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.347 [СЖАТИЕ:0130] Запущена работа по сжатию для content://media/external/images/media/1000000130 с тегом compress_1763920893338_IMG_20251123_210043.jpg в батче auto_batch_1_1763920891005
21:01:33.348 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.350 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000131
21:01:33.351 [URI:0131] URI scheme: content, authority: media, path: /external/images/media/1000000131
21:01:33.353 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.353 [URI:0133] Изображение требует обработки
21:01:33.353 [URI:0133] Начало тестового сжатия в RAM
21:01:33.355 Scheduling work ID b19e9339-21b4-4748-8613-b3470a126af1Job ID 54
21:01:33.356 [URI:0133] Сжатие изображения в поток
21:01:33.359 onStartJob for WorkGenerationalId(workSpecId=b19e9339-21b4-4748-8613-b3470a126af1, generation=0)
21:01:33.360 [FileUtil] Директория для сохранения: Pictures
21:01:33.360 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210043_2.jpg (режим замены: true)
21:01:33.360 Starting work for b19e9339-21b4-4748-8613-b3470a126af1
21:01:33.361 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.364 Processor: processing WorkGenerationalId(workSpecId=b19e9339-21b4-4748-8613-b3470a126af1, generation=0)
21:01:33.366 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000132
21:01:33.366 Work WorkGenerationalId(workSpecId=b19e9339-21b4-4748-8613-b3470a126af1, generation=0) is already enqueued for processing
21:01:33.367 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000131 (всего: 13)
21:01:33.370 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210043_2.jpg', включен режим замены - удаляем
21:01:33.370 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.379 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000134
21:01:33.380 Moving WorkSpec (b19e9339-21b4-4748-8613-b3470a126af1) to the foreground
21:01:33.380 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.385 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.386 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000130 в память
21:01:33.387 [MediaStore] Существующий файл удален (режим замены)
21:01:33.390 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000152
21:01:33.392 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000132, обработка через 10 сек
21:01:33.392 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.392 Notifying with (id:1, workSpecId: b19e9339-21b4-4748-8613-b3470a126af1, notificationType :1)
21:01:33.393 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000152
21:01:33.394 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000134
21:01:33.396 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000130:
21:01:33.397 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.397 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.397 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.397 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.397 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.397 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.397 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.397 Notifying with (id:1, workSpecId: b19e9339-21b4-4748-8613-b3470a126af1, notificationType :1)
21:01:33.397 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:43
21:01:33.398 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.398 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.398 [URI:0130] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:33.404 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.405 [URI:0134] Изображение требует обработки
21:01:33.405 [URI:0134] Начало тестового сжатия в RAM
21:01:33.405 [URI:0134] Сжатие изображения в поток
21:01:33.410 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000152, обработка через 10 сек
21:01:33.414 [СЖАТИЕ:0133] 141KB → 53KB (-62%)
21:01:33.414 [СЖАТИЕ:0133] 141KB → 53KB (-62.056023%)
21:01:33.415 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000133 эффективно (экономия 62.056023%), выполняем полное сжатие
21:01:33.415 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.422 [URI:0133] Имя файла: IMG_20251123_210044.jpg
21:01:33.422 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210044.jpg
21:01:33.422 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210044.jpg (режим замены: true)
21:01:33.425 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.426 [FileUtil] Обработка EXIF данных: успешно
21:01:33.433 [ОШИБКА:Получение размера:0135] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000135
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:234)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:33.435 [URI:0133] Директория для сохранения: Pictures
21:01:33.435 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000131
21:01:33.435 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.439 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000152
21:01:33.439 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000152, максимальное время: 2000 мс
21:01:33.440 [URI:0133] Сжатие изображения в поток
21:01:33.440 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.442 [FileUtil] Обработка EXIF данных: успешно
21:01:33.443 [ФАЙЛ:0135] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000151
21:01:33.443 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000135
21:01:33.443 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:33.446 [ФАЙЛ:0135] Сохранение: Изображение успешно сжато: IMG_20251123_210044_2.jpg, 0KB → 54KB
21:01:33.454 [СЖАТИЕ:0134] 141KB → 53KB (-62%)
21:01:33.454 [СЖАТИЕ:0134] 141KB → 53KB (-62.14657%)
21:01:33.454 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000134 эффективно (экономия 62.14657%), выполняем полное сжатие
21:01:33.455 [FileUtil] URI стал доступен через 16 мс, размер: 55189 байт
21:01:33.455 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.457 [NotificationUtil] Пропуск Toast - другое сообщение уже отображается
21:01:33.459 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:33.459 [ОШИБКА:Удаление:0135] Не удалось удалить оригинальный файл
21:01:33.465 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.469 [СЖАТИЕ:0131] Запущена работа по сжатию для content://media/external/images/media/1000000131 с тегом compress_1763920893453_IMG_20251123_210043_1.jpg в батче auto_batch_1_1763920891005
21:01:33.470 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.470 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000127
21:01:33.472 [URI:0127] URI scheme: content, authority: media, path: /external/images/media/1000000127
21:01:33.474 [URI:0134] Имя файла: IMG_20251123_210044_1.jpg
21:01:33.475 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210044_2.jpg (6)
21:01:33.475 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210044_1.jpg
21:01:33.475 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210044_1.jpg (режим замены: true)
21:01:33.476 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210044_2.jpg
21:01:33.479 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.481 [URI:0134] Директория для сохранения: Pictures
21:01:33.481 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000127 (всего: 14)
21:01:33.485 Scheduling work ID 2deb48c4-f62c-4bff-b3c6-bceb420632c7Job ID 55
21:01:33.487 [FileUtil] Директория для сохранения: Pictures
21:01:33.487 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210044.jpg (режим замены: true)
21:01:33.487 [URI:0134] Сжатие изображения в поток
21:01:33.487 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.490 Failed to get type for: content://media/external/images/media/1000000132 (No item at content://media/external/images/media/1000000132)
21:01:33.493 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000133
21:01:33.493 Starting work for 2deb48c4-f62c-4bff-b3c6-bceb420632c7
21:01:33.495 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210044.jpg', включен режим замены - удаляем
21:01:33.499 onStartJob for WorkGenerationalId(workSpecId=2deb48c4-f62c-4bff-b3c6-bceb420632c7, generation=0)
21:01:33.500 Moving WorkSpec (13646ca4-8ccb-4548-a05c-403568fb80d3) to the foreground
21:01:33.502 Notifying with (id:1, workSpecId: 13646ca4-8ccb-4548-a05c-403568fb80d3, notificationType :1)
21:01:33.505 [MediaStore] Существующий файл удален (режим замены)
21:01:33.508 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.509 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893509
21:01:33.515 [URI:0132] URI не существует
21:01:33.515 [ОШИБКА:Обработка:0132] Недействительный URI
21:01:33.515 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000133, обработка через 10 сек
21:01:33.517 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000135
21:01:33.518 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000153
21:01:33.519 [FileUtil] Директория для сохранения: Pictures
21:01:33.519 Processor: processing WorkGenerationalId(workSpecId=2deb48c4-f62c-4bff-b3c6-bceb420632c7, generation=0)
21:01:33.519 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210044_1.jpg (режим замены: true)
21:01:33.520 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000130
21:01:33.520 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.520 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.521 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000152
21:01:33.522 Work WorkGenerationalId(workSpecId=2deb48c4-f62c-4bff-b3c6-bceb420632c7, generation=0) is already enqueued for processing
21:01:33.528 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.529 Worker result SUCCESS for Work [ id=13646ca4-8ccb-4548-a05c-403568fb80d3, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920892838_IMG_20251123_210044_2.jpg } ]
21:01:33.530 Processor 13646ca4-8ccb-4548-a05c-403568fb80d3 executed; reschedule = false
21:01:33.530 13646ca4-8ccb-4548-a05c-403568fb80d3 executed on JobScheduler
21:01:33.530 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=13646ca4-8ccb-4548-a05c-403568fb80d3, generation=0), notificationType: 1
21:01:33.531 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000153
21:01:33.533 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000134
21:01:33.541 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210044_1.jpg', включен режим замены - удаляем
21:01:33.541 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.542 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.546 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000130
21:01:33.549 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.550 [URI:0130] Изображение требует обработки
21:01:33.550 [URI:0130] Начало тестового сжатия в RAM
21:01:33.550 [URI:0130] Сжатие изображения в поток
21:01:33.555 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000153
21:01:33.556 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000153, максимальное время: 2000 мс
21:01:33.603 Cancelling work ID 13646ca4-8ccb-4548-a05c-403568fb80d3
21:01:33.603 [MediaStore] Существующий файл удален (режим замены)
21:01:33.607 Failed to get type for: content://media/external/images/media/1000000133 (No item at content://media/external/images/media/1000000133)
21:01:33.610 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000153, обработка через 10 сек
21:01:33.622 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000154
21:01:33.623 Moving WorkSpec (2deb48c4-f62c-4bff-b3c6-bceb420632c7) to the foreground
21:01:33.627 [FileUtil] URI стал доступен через 71 мс, размер: 54996 байт
21:01:33.627 Background concurrent mark compact GC freed 4216KB AllocSpace bytes, 41(1508KB) LOS objects, 49% free, 6071KB/11MB, paused 363us,25.839ms total 108.482ms
21:01:33.627 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.628 Notifying with (id:1, workSpecId: 2deb48c4-f62c-4bff-b3c6-bceb420632c7, notificationType :1)
21:01:33.632 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000154
21:01:33.640 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.641 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000131 в память
21:01:33.646 [СЖАТИЕ:0130] 141KB → 53KB (-62%)
21:01:33.646 [СЖАТИЕ:0130] 141KB → 53KB (-62.258484%)
21:01:33.646 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000130 эффективно (экономия 62.258484%), выполняем полное сжатие
21:01:33.646 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.647 Notifying with (id:1, workSpecId: 2deb48c4-f62c-4bff-b3c6-bceb420632c7, notificationType :1)
21:01:33.651 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.651 [FileUtil] Обработка EXIF данных: успешно
21:01:33.651 [ФАЙЛ:0132] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000152
21:01:33.652 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000132
21:01:33.652 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:33.652 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.652 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000131:
21:01:33.652 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.652 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.652 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.652 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.653 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.653 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.653 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.653 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:43
21:01:33.654 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.654 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.654 [URI:0131] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:33.660 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000134, обработка через 10 сек
21:01:33.666 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:33.666 [ОШИБКА:Удаление:0132] Не удалось удалить оригинальный файл
21:01:33.668 [URI:0133] URI не существует
21:01:33.668 [ОШИБКА:Обработка:0133] Недействительный URI
21:01:33.670 [URI:0130] Имя файла: IMG_20251123_210043.jpg
21:01:33.671 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210043.jpg
21:01:33.671 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210043.jpg (режим замены: true)
21:01:33.677 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.677 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893677
21:01:33.683 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000153
21:01:33.686 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000154, обработка через 10 сек
21:01:33.687 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210043_2.jpg (7)
21:01:33.687 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210043_2.jpg
21:01:33.689 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000127
21:01:33.689 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.693 [URI:0130] Директория для сохранения: Pictures
21:01:33.695 Moving WorkSpec (1ccfedac-42ea-4e88-9426-6bd6b38240fe) to the foreground
21:01:33.696 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000132
21:01:33.699 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.699 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.701 Notifying with (id:1, workSpecId: 1ccfedac-42ea-4e88-9426-6bd6b38240fe, notificationType :1)
21:01:33.702 Failed to get type for: content://media/external/images/media/1000000134 (No item at content://media/external/images/media/1000000134)
21:01:33.705 Worker result SUCCESS for Work [ id=1ccfedac-42ea-4e88-9426-6bd6b38240fe, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893009_IMG_20251123_210043_2.jpg } ]
21:01:33.706 [URI:0130] Сжатие изображения в поток
21:01:33.709 Processor 1ccfedac-42ea-4e88-9426-6bd6b38240fe executed; reschedule = false
21:01:33.709 1ccfedac-42ea-4e88-9426-6bd6b38240fe executed on JobScheduler
21:01:33.709 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=1ccfedac-42ea-4e88-9426-6bd6b38240fe, generation=0), notificationType: 1
21:01:33.713 Cancelling work ID 1ccfedac-42ea-4e88-9426-6bd6b38240fe
21:01:33.718 [URI:0134] URI не существует
21:01:33.718 [ОШИБКА:Обработка:0134] Недействительный URI
21:01:33.735 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000154
21:01:33.735 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000154, максимальное время: 2000 мс
21:01:33.740 [FileUtil] Директория для сохранения: Pictures
21:01:33.740 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210043.jpg (режим замены: true)
21:01:33.741 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.741 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.743 [СЖАТИЕ:0127] Запущена работа по сжатию для content://media/external/images/media/1000000127 с тегом compress_1763920893728_IMG_20251123_210041_2.jpg в батче auto_batch_1_1763920891005
21:01:33.744 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.744 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000128
21:01:33.744 [URI:0128] URI scheme: content, authority: media, path: /external/images/media/1000000128
21:01:33.746 [FileUtil] URI стал доступен через 11 мс, размер: 54917 байт
21:01:33.747 Scheduling work ID ebb25bea-1515-47af-8e2d-0d266b9f4bb9Job ID 56
21:01:33.749 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000130 в память
21:01:33.751 Starting work for ebb25bea-1515-47af-8e2d-0d266b9f4bb9
21:01:33.753 onStartJob for WorkGenerationalId(workSpecId=ebb25bea-1515-47af-8e2d-0d266b9f4bb9, generation=0)
21:01:33.755 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000128 (всего: 15)
21:01:33.755 Processor: processing WorkGenerationalId(workSpecId=ebb25bea-1515-47af-8e2d-0d266b9f4bb9, generation=0)
21:01:33.756 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.759 Work WorkGenerationalId(workSpecId=ebb25bea-1515-47af-8e2d-0d266b9f4bb9, generation=0) is already enqueued for processing
21:01:33.759 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000130:
21:01:33.759 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.759 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.759 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.759 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.759 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.759 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.759 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.760 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:43
21:01:33.760 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.760 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.760 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000130
21:01:33.760 [URI:0130] Сжатие изображения в поток
21:01:33.763 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000131
21:01:33.763 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.764 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.767 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210043.jpg', включен режим замены - удаляем
21:01:33.770 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.770 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893770
21:01:33.771 Moving WorkSpec (ebb25bea-1515-47af-8e2d-0d266b9f4bb9) to the foreground
21:01:33.774 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000154
21:01:33.774 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.774 Notifying with (id:1, workSpecId: ebb25bea-1515-47af-8e2d-0d266b9f4bb9, notificationType :1)
21:01:33.779 Notifying with (id:1, workSpecId: ebb25bea-1515-47af-8e2d-0d266b9f4bb9, notificationType :1)
21:01:33.780 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.781 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000127 в память
21:01:33.789 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000127:
21:01:33.789 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.789 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.789 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.789 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.791 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.792 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.792 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.793 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:42
21:01:33.793 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.793 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.793 [URI:0127] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:33.797 [MediaStore] Существующий файл удален (режим замены)
21:01:33.798 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000131
21:01:33.802 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000130, обработка через 10 сек
21:01:33.805 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210043.jpg
21:01:33.809 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.809 [FileUtil] Обработка EXIF данных: успешно
21:01:33.809 [ФАЙЛ:0133] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000153
21:01:33.809 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000133
21:01:33.809 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:33.811 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.813 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.814 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000155
21:01:33.814 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.815 [URI:0131] Изображение требует обработки
21:01:33.816 [URI:0131] Начало тестового сжатия в RAM
21:01:33.816 [URI:0131] Сжатие изображения в поток
21:01:33.821 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000155, обработка через 10 сек
21:01:33.824 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000155
21:01:33.826 [FileUtil] Директория для сохранения: Pictures/CompressPhotoFast
21:01:33.826 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210043.jpg (режим замены: true)
21:01:33.826 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/CompressPhotoFast
21:01:33.836 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:33.836 [ОШИБКА:Удаление:0133] Не удалось удалить оригинальный файл
21:01:33.841 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210044.jpg (8)
21:01:33.842 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210044.jpg
21:01:33.848 Moving WorkSpec (c1ec36c7-4d3b-4844-a650-1033880b5282) to the foreground
21:01:33.850 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000133
21:01:33.853 [СЖАТИЕ:0131] 142KB → 53KB (-62%)
21:01:33.853 [СЖАТИЕ:0131] 142KB → 53KB (-62.20064%)
21:01:33.853 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000131 эффективно (экономия 62.20064%), выполняем полное сжатие
21:01:33.853 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.853 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000156
21:01:33.857 Notifying with (id:1, workSpecId: c1ec36c7-4d3b-4844-a650-1033880b5282, notificationType :1)
21:01:33.859 [URI:0131] Имя файла: IMG_20251123_210043_1.jpg
21:01:33.859 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210043_1.jpg
21:01:33.859 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210043_1.jpg (режим замены: true)
21:01:33.860 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000128
21:01:33.860 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.862 Worker result SUCCESS for Work [ id=c1ec36c7-4d3b-4844-a650-1033880b5282, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893105_IMG_20251123_210044.jpg } ]
21:01:33.863 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000127
21:01:33.863 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:33.864 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000156
21:01:33.866 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000156, обработка через 10 сек
21:01:33.872 Processor c1ec36c7-4d3b-4844-a650-1033880b5282 executed; reschedule = false
21:01:33.872 c1ec36c7-4d3b-4844-a650-1033880b5282 executed on JobScheduler
21:01:33.872 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=c1ec36c7-4d3b-4844-a650-1033880b5282, generation=0), notificationType: 1
21:01:33.874 [URI:0131] Директория для сохранения: Pictures
21:01:33.875 Cancelling work ID c1ec36c7-4d3b-4844-a650-1033880b5282
21:01:33.876 [URI:0131] Сжатие изображения в поток
21:01:33.880 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000155
21:01:33.880 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000155, максимальное время: 2000 мс
21:01:33.885 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:33.886 [СЖАТИЕ:0128] Запущена работа по сжатию для content://media/external/images/media/1000000128 с тегом compress_1763920893871_IMG_20251123_210042.jpg в батче auto_batch_1_1763920891005
21:01:33.886 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:33.888 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000129
21:01:33.888 [URI:0129] URI scheme: content, authority: media, path: /external/images/media/1000000129
21:01:33.890 [FileUtil] URI стал доступен через 10 мс, размер: 54752 байт
21:01:33.896 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000127
21:01:33.901 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000156
21:01:33.902 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.903 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000156, максимальное время: 2000 мс
21:01:33.904 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:33.904 [URI:0127] Изображение требует обработки
21:01:33.904 [URI:0127] Начало тестового сжатия в RAM
21:01:33.904 [URI:0127] Сжатие изображения в поток
21:01:33.906 [FileUtil] URI стал доступен через 2 мс, размер: 54752 байт
21:01:33.909 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.909 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893909
21:01:33.910 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920893000
21:01:33.911 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000129 (всего: 16)
21:01:33.915 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000155
21:01:33.916 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:33.917 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920893917
21:01:33.919 Scheduling work ID d54bf914-340e-47ab-931e-3ffe4fe42b0aJob ID 57
21:01:33.920 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.920 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.920 [FileUtil] Директория для сохранения: Pictures
21:01:33.920 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210043_1.jpg (режим замены: true)
21:01:33.920 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:33.920 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000156
21:01:33.923 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:33.924 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:33.927 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:33.928 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000131
21:01:33.929 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210043_1.jpg', включен режим замены - удаляем
21:01:33.930 [FileUtil] Обработка EXIF данных: успешно
21:01:33.931 [ПРОЦЕСС] ImageDetectionJobService: начинаем обработку дебаунсного батча из 2 URI
21:01:33.931 [ПРОЦЕСС] PerformanceMonitor: Debounced batch processed with 2 items
21:01:33.933 [ФАЙЛ:0134] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000154
21:01:33.933 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000134
21:01:33.933 Starting work for d54bf914-340e-47ab-931e-3ffe4fe42b0a
21:01:33.934 onStartJob for WorkGenerationalId(workSpecId=d54bf914-340e-47ab-931e-3ffe4fe42b0a, generation=0)
21:01:33.934 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:33.941 Processor: processing WorkGenerationalId(workSpecId=d54bf914-340e-47ab-931e-3ffe4fe42b0a, generation=0)
21:01:33.943 Work WorkGenerationalId(workSpecId=d54bf914-340e-47ab-931e-3ffe4fe42b0a, generation=0) is already enqueued for processing
21:01:33.948 Failed to get type for: content://media/external/images/media/1000000142 (No item at content://media/external/images/media/1000000142)
21:01:33.952 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:33.955 [СЖАТИЕ:0127] 141KB → 53KB (-62%)
21:01:33.955 [СЖАТИЕ:0127] 141KB → 53KB (-62.265503%)
21:01:33.955 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000127 эффективно (экономия 62.265503%), выполняем полное сжатие
21:01:33.955 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:33.961 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000142
21:01:33.964 Moving WorkSpec (d54bf914-340e-47ab-931e-3ffe4fe42b0a) to the foreground
21:01:33.965 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:33.965 [ОШИБКА:Удаление:0134] Не удалось удалить оригинальный файл
21:01:33.967 [MediaStore] Существующий файл удален (режим замены)
21:01:33.971 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000131, обработка через 10 сек
21:01:33.971 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:33.972 Notifying with (id:1, workSpecId: d54bf914-340e-47ab-931e-3ffe4fe42b0a, notificationType :1)
21:01:33.974 [URI:0127] Имя файла: IMG_20251123_210041_2.jpg
21:01:33.976 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210041_2.jpg
21:01:33.976 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210041_2.jpg (режим замены: true)
21:01:33.978 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000157
21:01:33.982 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210044_1.jpg (9)
21:01:33.983 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210044_1.jpg
21:01:33.985 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:33.985 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000128 в память
21:01:33.989 Moving WorkSpec (740663f2-cef1-46ba-9beb-7c7e9b3588fd) to the foreground
21:01:33.989 [ПРОЦЕСС] Пакетное получение метаданных завершено: 1 URI, 1 запросов к MediaStore
21:01:33.990 [ПРОЦЕСС] ImageDetectionJobService: оптимизированная пакетная обработка 1 URI (из 2 изначально)
21:01:33.996 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000134
21:01:33.998 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000128:
21:01:33.998 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:33.998 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:33.998 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:33.998 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:33.999 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:33.999 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:33.999 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:33.999 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:42
21:01:33.999 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:33.999 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:33.999 [URI:0128] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:34.001 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000157, обработка через 10 сек
21:01:34.001 Notifying with (id:1, workSpecId: d54bf914-340e-47ab-931e-3ffe4fe42b0a, notificationType :1)
21:01:34.002 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000157
21:01:34.003 [ПРОЦЕСС] Предзагружен кэш для 1 директорий (1 файлов)
21:01:34.003 [ПРОЦЕСС] ImageDetectionJobService: после быстрой фильтрации осталось 1 из 1 URI
21:01:34.005 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000143
21:01:34.006 [URI:0127] Директория для сохранения: Pictures
21:01:34.007 Notifying with (id:1, workSpecId: 740663f2-cef1-46ba-9beb-7c7e9b3588fd, notificationType :1)
21:01:34.011 Worker result SUCCESS for Work [ id=740663f2-cef1-46ba-9beb-7c7e9b3588fd, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893152_IMG_20251123_210044_1.jpg } ]
21:01:34.012 Processor 740663f2-cef1-46ba-9beb-7c7e9b3588fd executed; reschedule = false
21:01:34.017 [URI:0127] Сжатие изображения в поток
21:01:34.017 740663f2-cef1-46ba-9beb-7c7e9b3588fd executed on JobScheduler
21:01:34.019 Cancelling work ID 740663f2-cef1-46ba-9beb-7c7e9b3588fd
21:01:34.020 Compiler allocated 4886KB to compile java.lang.Object com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(java.lang.Object)
21:01:34.023 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=740663f2-cef1-46ba-9beb-7c7e9b3588fd, generation=0), notificationType: 1
21:01:34.030 onStopJob for WorkGenerationalId(workSpecId=740663f2-cef1-46ba-9beb-7c7e9b3588fd, generation=0)
21:01:34.042 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:34.042 [FileUtil] Обработка EXIF данных: успешно
21:01:34.042 [ФАЙЛ:0130] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000155
21:01:34.044 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000130
21:01:34.044 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000157
21:01:34.044 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:34.044 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:34.045 [FileUtil] Обработка EXIF данных: успешно
21:01:34.046 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000157, максимальное время: 2000 мс
21:01:34.063 [ОШИБКА:Получение размера:0130] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000130
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:234)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:34.063 [FileUtil] Директория для сохранения: Pictures
21:01:34.064 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210041_2.jpg (режим замены: true)
21:01:34.064 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:34.066 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000127
21:01:34.067 [FileUtil] URI стал доступен через 21 мс, размер: 55147 байт
21:01:34.067 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:34.068 [ОШИБКА:Удаление:0130] Не удалось удалить оригинальный файл
21:01:34.072 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210041_2.jpg', включен режим замены - удаляем
21:01:34.074 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000129
21:01:34.074 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.078 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920894000
21:01:34.083 [ПРОЦЕСС] Файл слишком мал для сжатия: 55311 байт
21:01:34.083 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000143
21:01:34.085 [ПРОЦЕСС] ImageDetectionJobService: обработка завершена. Обработано: 0, Пропущено: 2
21:01:34.085 [ПРОЦЕСС] ImageDetectionJobService: начало планирования задания
21:01:34.085 [ПРОЦЕСС] ImageDetectionJobService: состояние автоматического сжатия: включено
21:01:34.087 [ПРОЦЕСС] ImageDetectionJobService: задание уже запланировано, пропускаем
21:01:34.088 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210043.jpg (10)
21:01:34.089 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210043.jpg
21:01:34.090 [ФАЙЛ:0130] Сохранение: Изображение успешно сжато: IMG_20251123_210043.jpg, 0KB → 54KB
21:01:34.092 [NotificationUtil] Пропуск Toast - другое сообщение уже отображается
21:01:34.095 [MediaStore] Существующий файл удален (режим замены)
21:01:34.100 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000127, обработка через 10 сек
21:01:34.102 Moving WorkSpec (b19e9339-21b4-4748-8613-b3470a126af1) to the foreground
21:01:34.105 Notifying with (id:1, workSpecId: b19e9339-21b4-4748-8613-b3470a126af1, notificationType :1)
21:01:34.108 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:34.108 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920894108
21:01:34.108 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000130
21:01:34.111 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000157
21:01:34.111 Failed to get type for: content://media/external/images/media/1000000131 (No item at content://media/external/images/media/1000000131)
21:01:34.119 Worker result SUCCESS for Work [ id=b19e9339-21b4-4748-8613-b3470a126af1, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893338_IMG_20251123_210043.jpg } ]
21:01:34.120 [URI:0131] URI не существует
21:01:34.120 [ОШИБКА:Обработка:0131] Недействительный URI
21:01:34.122 Processor b19e9339-21b4-4748-8613-b3470a126af1 executed; reschedule = false
21:01:34.122 b19e9339-21b4-4748-8613-b3470a126af1 executed on JobScheduler
21:01:34.122 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=b19e9339-21b4-4748-8613-b3470a126af1, generation=0), notificationType: 1
21:01:34.122 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000158
21:01:34.128 Cancelling work ID b19e9339-21b4-4748-8613-b3470a126af1
21:01:34.132 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:34.134 [СЖАТИЕ:0129] Запущена работа по сжатию для content://media/external/images/media/1000000129 с тегом compress_1763920894086_IMG_20251123_210042_1.jpg в батче auto_batch_1_1763920891005
21:01:34.134 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:34.134 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000124
21:01:34.134 [URI:0124] URI scheme: content, authority: media, path: /external/images/media/1000000124
21:01:34.136 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000128
21:01:34.136 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.138 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000158, обработка через 10 сек
21:01:34.141 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000158
21:01:34.146 Scheduling work ID a56f0ff5-a92e-4df5-b843-6d8cff3506adJob ID 58
21:01:34.149 Starting work for a56f0ff5-a92e-4df5-b843-6d8cff3506ad
21:01:34.151 Processor: processing WorkGenerationalId(workSpecId=a56f0ff5-a92e-4df5-b843-6d8cff3506ad, generation=0)
21:01:34.153 onStartJob for WorkGenerationalId(workSpecId=a56f0ff5-a92e-4df5-b843-6d8cff3506ad, generation=0)
21:01:34.153 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000124 (всего: 17)
21:01:34.157 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:34.158 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:34.161 Work WorkGenerationalId(workSpecId=a56f0ff5-a92e-4df5-b843-6d8cff3506ad, generation=0) is already enqueued for processing
21:01:34.162 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:34.164 Failed to get type for: content://media/external/images/media/1000000127 (No item at content://media/external/images/media/1000000127)
21:01:34.174 Moving WorkSpec (a56f0ff5-a92e-4df5-b843-6d8cff3506ad) to the foreground
21:01:34.175 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000128
21:01:34.181 [URI:0127] URI не существует
21:01:34.181 [ОШИБКА:Обработка:0127] Недействительный URI
21:01:34.183 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:34.183 Notifying with (id:1, workSpecId: a56f0ff5-a92e-4df5-b843-6d8cff3506ad, notificationType :1)
21:01:34.186 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:34.187 [URI:0128] Изображение требует обработки
21:01:34.187 [URI:0128] Начало тестового сжатия в RAM
21:01:34.187 [URI:0128] Сжатие изображения в поток
21:01:34.190 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:34.191 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000129 в память
21:01:34.192 Notifying with (id:1, workSpecId: a56f0ff5-a92e-4df5-b843-6d8cff3506ad, notificationType :1)
21:01:34.206 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000129:
21:01:34.206 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:34.207 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:34.207 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:34.207 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:34.207 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:34.207 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:34.208 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:34.208 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:42
21:01:34.208 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:34.208 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:34.208 [URI:0129] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:34.216 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000158
21:01:34.216 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000158, максимальное время: 2000 мс
21:01:34.223 [СЖАТИЕ:0128] 141KB → 53KB (-62%)
21:01:34.223 [СЖАТИЕ:0128] 141KB → 53KB (-62.25406%)
21:01:34.223 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000128 эффективно (экономия 62.25406%), выполняем полное сжатие
21:01:34.223 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:34.225 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000128 в память
21:01:34.232 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000128:
21:01:34.233 [FileUtil] URI стал доступен через 17 мс, размер: 54812 байт
21:01:34.235 [URI:0128] Имя файла: IMG_20251123_210042.jpg
21:01:34.235 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:34.235 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:34.235 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:34.235 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:34.236 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210042.jpg
21:01:34.236 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210042.jpg (режим замены: true)
21:01:34.236 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:34.237 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:34.237 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:34.237 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:42
21:01:34.237 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:34.237 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:34.238 [URI:0128] Сжатие изображения в поток
21:01:34.245 [URI:0128] Директория для сохранения: Pictures
21:01:34.248 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920894000
21:01:34.250 [URI:0128] Сжатие изображения в поток
21:01:34.264 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000129
21:01:34.264 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.266 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:34.268 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920894266
21:01:34.274 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000158
21:01:34.276 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:34.276 [FileUtil] Обработка EXIF данных: успешно
21:01:34.277 [ФАЙЛ:0131] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000157
21:01:34.277 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000131
21:01:34.277 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:34.279 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:34.281 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:34.281 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000129
21:01:34.281 [ОШИБКА:Удаление:0131] Не удалось удалить оригинальный файл
21:01:34.283 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:34.288 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210042.jpg
21:01:34.292 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210043_1.jpg (11)
21:01:34.292 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210043_1.jpg
21:01:34.292 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000124
21:01:34.292 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.300 Moving WorkSpec (2deb48c4-f62c-4bff-b3c6-bceb420632c7) to the foreground
21:01:34.303 [FileUtil] Директория для сохранения: Pictures
21:01:34.304 [FileUtil] Директория для сохранения: Pictures
21:01:34.304 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210042.jpg (режим замены: true)
21:01:34.304 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:34.307 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210042.jpg (режим замены: true)
21:01:34.308 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000131
21:01:34.314 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:34.315 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:34.315 [URI:0129] Изображение требует обработки
21:01:34.315 [URI:0129] Начало тестового сжатия в RAM
21:01:34.316 [URI:0129] Сжатие изображения в поток
21:01:34.316 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000128
21:01:34.322 Notifying with (id:1, workSpecId: 2deb48c4-f62c-4bff-b3c6-bceb420632c7, notificationType :1)
21:01:34.323 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000128
21:01:34.324 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210042.jpg', включен режим замены - удаляем
21:01:34.327 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:34.330 [СЖАТИЕ:0124] Запущена работа по сжатию для content://media/external/images/media/1000000124 с тегом compress_1763920894317_IMG_20251123_210040_2.jpg в батче auto_batch_1_1763920891005
21:01:34.330 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:34.330 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000125
21:01:34.331 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210042.jpg', включен режим замены - удаляем
21:01:34.334 [URI:0125] URI scheme: content, authority: media, path: /external/images/media/1000000125
21:01:34.358 [MediaStore] Существующий файл удален (режим замены)
21:01:34.359 [MediaStore] Существующий файл удален (режим замены)
21:01:34.366 Scheduling work ID 2a069016-ed9c-48b2-add5-aeb40b078eb7Job ID 59
21:01:34.367 Background concurrent mark compact GC freed 4756KB AllocSpace bytes, 43(1632KB) LOS objects, 49% free, 6231KB/12MB, paused 616us,18.805ms total 90.392ms
21:01:34.370 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000159
21:01:34.373 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000128, обработка через 10 сек
21:01:34.376 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000159
21:01:34.377 Starting work for 2a069016-ed9c-48b2-add5-aeb40b078eb7
21:01:34.380 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000125 (всего: 18)
21:01:34.381 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000159
21:01:34.383 Worker result SUCCESS for Work [ id=2deb48c4-f62c-4bff-b3c6-bceb420632c7, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893453_IMG_20251123_210043_1.jpg } ]
21:01:34.385 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000159
21:01:34.389 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000159, обработка через 10 сек
21:01:34.389 onStartJob for WorkGenerationalId(workSpecId=2a069016-ed9c-48b2-add5-aeb40b078eb7, generation=0)
21:01:34.395 Processor: processing WorkGenerationalId(workSpecId=2a069016-ed9c-48b2-add5-aeb40b078eb7, generation=0)
21:01:34.396 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:34.397 [FileUtil] Обработка EXIF данных: успешно
21:01:34.397 [ФАЙЛ:0127] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000158
21:01:34.397 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000127
21:01:34.397 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:34.400 Work WorkGenerationalId(workSpecId=2a069016-ed9c-48b2-add5-aeb40b078eb7, generation=0) is already enqueued for processing
21:01:34.404 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:34.404 [ОШИБКА:Удаление:0127] Не удалось удалить оригинальный файл
21:01:34.405 Processor 2deb48c4-f62c-4bff-b3c6-bceb420632c7 executed; reschedule = false
21:01:34.405 2deb48c4-f62c-4bff-b3c6-bceb420632c7 executed on JobScheduler
21:01:34.405 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=2deb48c4-f62c-4bff-b3c6-bceb420632c7, generation=0), notificationType: 1
21:01:34.413 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210041_2.jpg (12)
21:01:34.413 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210041_2.jpg
21:01:34.416 Cancelling work ID 2deb48c4-f62c-4bff-b3c6-bceb420632c7
21:01:34.422 [СЖАТИЕ:0129] 141KB → 53KB (-62%)
21:01:34.422 [СЖАТИЕ:0129] 141KB → 53KB (-62.36682%)
21:01:34.422 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000129 эффективно (экономия 62.36682%), выполняем полное сжатие
21:01:34.423 Moving WorkSpec (ebb25bea-1515-47af-8e2d-0d266b9f4bb9) to the foreground
21:01:34.424 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:34.424 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000159
21:01:34.425 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000159, максимальное время: 2000 мс
21:01:34.425 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:34.426 onStopJob for WorkGenerationalId(workSpecId=2deb48c4-f62c-4bff-b3c6-bceb420632c7, generation=0)
21:01:34.429 [FileUtil] Ошибка при проверке доступности URI: open failed: ENOENT (No such file or directory)
21:01:34.429 [URI:0129] Имя файла: IMG_20251123_210042_1.jpg
21:01:34.430 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210042_1.jpg
21:01:34.430 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210042_1.jpg (режим замены: true)
21:01:34.436 [URI:0129] Директория для сохранения: Pictures
21:01:34.439 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000127
21:01:34.440 Moving WorkSpec (2a069016-ed9c-48b2-add5-aeb40b078eb7) to the foreground
21:01:34.440 [URI:0129] Сжатие изображения в поток
21:01:34.440 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000159
21:01:34.441 Notifying with (id:1, workSpecId: ebb25bea-1515-47af-8e2d-0d266b9f4bb9, notificationType :1)
21:01:34.442 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000159, максимальное время: 2000 мс
21:01:34.449 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.452 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:34.452 Notifying with (id:1, workSpecId: 2a069016-ed9c-48b2-add5-aeb40b078eb7, notificationType :1)
21:01:34.454 Worker result SUCCESS for Work [ id=ebb25bea-1515-47af-8e2d-0d266b9f4bb9, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893728_IMG_20251123_210041_2.jpg } ]
21:01:34.455 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:34.455 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000124 в память
21:01:34.461 Notifying with (id:1, workSpecId: 2a069016-ed9c-48b2-add5-aeb40b078eb7, notificationType :1)
21:01:34.463 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000124:
21:01:34.463 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:34.463 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:34.463 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:34.463 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:34.463 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:34.463 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:34.463 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:34.464 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:41
21:01:34.464 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:34.464 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:34.464 [URI:0124] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:34.467 Processor ebb25bea-1515-47af-8e2d-0d266b9f4bb9 executed; reschedule = false
21:01:34.467 ebb25bea-1515-47af-8e2d-0d266b9f4bb9 executed on JobScheduler
21:01:34.468 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=ebb25bea-1515-47af-8e2d-0d266b9f4bb9, generation=0), notificationType: 1
21:01:34.472 Cancelling work ID ebb25bea-1515-47af-8e2d-0d266b9f4bb9
21:01:34.496 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000125
21:01:34.496 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.504 [FileUtil] Директория для сохранения: Pictures
21:01:34.504 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210042_1.jpg (режим замены: true)
21:01:34.504 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:34.509 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000129
21:01:34.514 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210042_1.jpg', включен режим замены - удаляем
21:01:34.514 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:34.519 [СЖАТИЕ:0125] Запущена работа по сжатию для content://media/external/images/media/1000000125 с тегом compress_1763920894507_IMG_20251123_210041.jpg в батче auto_batch_1_1763920891005
21:01:34.522 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:34.523 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000126
21:01:34.524 [URI:0126] URI scheme: content, authority: media, path: /external/images/media/1000000126
21:01:34.530 [MediaStore] Существующий файл удален (режим замены)
21:01:34.535 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000129, обработка через 10 сек
21:01:34.541 Scheduling work ID f17c98dc-1bfb-4f52-b423-b5571be3a630Job ID 60
21:01:34.542 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000124
21:01:34.544 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.548 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.548 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000160
21:01:34.550 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000126 (всего: 19)
21:01:34.552 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.566 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000124
21:01:34.568 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000160, обработка через 10 сек
21:01:34.568 onStartJob for WorkGenerationalId(workSpecId=f17c98dc-1bfb-4f52-b423-b5571be3a630, generation=0)
21:01:34.570 Starting work for f17c98dc-1bfb-4f52-b423-b5571be3a630
21:01:34.578 Processor: processing WorkGenerationalId(workSpecId=f17c98dc-1bfb-4f52-b423-b5571be3a630, generation=0)
21:01:34.582 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000160
21:01:34.583 Work WorkGenerationalId(workSpecId=f17c98dc-1bfb-4f52-b423-b5571be3a630, generation=0) is already enqueued for processing
21:01:34.590 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:34.590 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:34.590 [URI:0124] Изображение требует обработки
21:01:34.590 [URI:0124] Начало тестового сжатия в RAM
21:01:34.591 [URI:0124] Сжатие изображения в поток
21:01:34.623 Moving WorkSpec (f17c98dc-1bfb-4f52-b423-b5571be3a630) to the foreground
21:01:34.628 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:34.628 Notifying with (id:1, workSpecId: f17c98dc-1bfb-4f52-b423-b5571be3a630, notificationType :1)
21:01:34.634 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000160
21:01:34.641 Notifying with (id:1, workSpecId: f17c98dc-1bfb-4f52-b423-b5571be3a630, notificationType :1)
21:01:34.642 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000160, максимальное время: 2000 мс
21:01:34.643 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:34.645 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000125 в память
21:01:34.645 [FileUtil] URI стал доступен через 2 мс, размер: 54500 байт
21:01:34.652 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920894000
21:01:34.654 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.663 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000125:
21:01:34.663 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:34.663 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:34.663 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:34.664 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:34.664 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:34.664 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:34.664 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:34.665 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:41
21:01:34.665 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:34.665 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:34.666 [URI:0125] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:34.667 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:34.668 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920894667
21:01:34.671 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.672 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000160
21:01:34.677 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:34.683 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:34.700 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000126
21:01:34.700 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.712 [СЖАТИЕ:0124] 141KB → 53KB (-62%)
21:01:34.712 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:34.712 [СЖАТИЕ:0124] 141KB → 53KB (-62.213634%)
21:01:34.713 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000124 эффективно (экономия 62.213634%), выполняем полное сжатие
21:01:34.713 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:34.715 [СЖАТИЕ:0126] Запущена работа по сжатию для content://media/external/images/media/1000000126 с тегом compress_1763920894706_IMG_20251123_210041_1.jpg в батче auto_batch_1_1763920891005
21:01:34.715 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:34.715 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000122
21:01:34.716 [URI:0122] URI scheme: content, authority: media, path: /external/images/media/1000000122
21:01:34.732 Scheduling work ID 5d91d3fb-b43a-41b5-be29-0619a97cb640Job ID 61
21:01:34.735 [URI:0124] Имя файла: IMG_20251123_210040_2.jpg
21:01:34.736 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210040_2.jpg
21:01:34.737 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210040_2.jpg (режим замены: true)
21:01:34.737 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000122 (всего: 20)
21:01:34.740 Starting work for 5d91d3fb-b43a-41b5-be29-0619a97cb640
21:01:34.741 onStartJob for WorkGenerationalId(workSpecId=5d91d3fb-b43a-41b5-be29-0619a97cb640, generation=0)
21:01:34.746 Processor: processing WorkGenerationalId(workSpecId=5d91d3fb-b43a-41b5-be29-0619a97cb640, generation=0)
21:01:34.748 [URI:0124] Директория для сохранения: Pictures
21:01:34.750 Work WorkGenerationalId(workSpecId=5d91d3fb-b43a-41b5-be29-0619a97cb640, generation=0) is already enqueued for processing
21:01:34.755 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:34.758 [URI:0124] Сжатие изображения в поток
21:01:34.759 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.761 Moving WorkSpec (5d91d3fb-b43a-41b5-be29-0619a97cb640) to the foreground
21:01:34.763 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:34.763 Notifying with (id:1, workSpecId: 5d91d3fb-b43a-41b5-be29-0619a97cb640, notificationType :1)
21:01:34.764 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000125
21:01:34.765 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.769 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:34.770 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000126 в память
21:01:34.771 Notifying with (id:1, workSpecId: 5d91d3fb-b43a-41b5-be29-0619a97cb640, notificationType :1)
21:01:34.772 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000125
21:01:34.775 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.781 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:34.781 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000126:
21:01:34.781 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:34.781 [URI:0125] Изображение требует обработки
21:01:34.781 [URI:0125] Начало тестового сжатия в RAM
21:01:34.781 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:34.781 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:34.782 [URI:0125] Сжатие изображения в поток
21:01:34.782 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:34.783 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:34.783 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:34.783 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:34.784 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:41
21:01:34.784 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:34.784 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:34.786 [URI:0126] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:34.788 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:34.788 [FileUtil] Обработка EXIF данных: успешно
21:01:34.788 [ФАЙЛ:0129] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000160
21:01:34.789 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000129
21:01:34.789 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:34.794 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:34.794 [ОШИБКА:Удаление:0129] Не удалось удалить оригинальный файл
21:01:34.799 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210042_1.jpg (13)
21:01:34.799 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210042_1.jpg
21:01:34.802 Moving WorkSpec (a56f0ff5-a92e-4df5-b843-6d8cff3506ad) to the foreground
21:01:34.805 Notifying with (id:1, workSpecId: a56f0ff5-a92e-4df5-b843-6d8cff3506ad, notificationType :1)
21:01:34.805 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000129
21:01:34.810 Worker result SUCCESS for Work [ id=a56f0ff5-a92e-4df5-b843-6d8cff3506ad, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920894086_IMG_20251123_210042_1.jpg } ]
21:01:34.812 [FileUtil] Директория для сохранения: Pictures
21:01:34.812 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210040_2.jpg (режим замены: true)
21:01:34.813 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:34.813 Processor a56f0ff5-a92e-4df5-b843-6d8cff3506ad executed; reschedule = false
21:01:34.813 a56f0ff5-a92e-4df5-b843-6d8cff3506ad executed on JobScheduler
21:01:34.813 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=a56f0ff5-a92e-4df5-b843-6d8cff3506ad, generation=0), notificationType: 1
21:01:34.816 Cancelling work ID a56f0ff5-a92e-4df5-b843-6d8cff3506ad
21:01:34.816 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000124
21:01:34.818 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210040_2.jpg', включен режим замены - удаляем
21:01:34.824 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000122
21:01:34.824 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.825 [MediaStore] Существующий файл удален (режим замены)
21:01:34.829 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000161
21:01:34.833 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000161
21:01:34.835 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:34.836 [СЖАТИЕ:0122] Запущена работа по сжатию для content://media/external/images/media/1000000122 с тегом compress_1763920894830_IMG_20251123_210040.jpg в батче auto_batch_1_1763920891005
21:01:34.836 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:34.836 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000123
21:01:34.837 [URI:0123] URI scheme: content, authority: media, path: /external/images/media/1000000123
21:01:34.846 [СЖАТИЕ:0125] 141KB → 53KB (-62%)
21:01:34.848 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000126
21:01:34.848 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000123 (всего: 21)
21:01:34.849 [СЖАТИЕ:0125] 141KB → 53KB (-62.111046%)
21:01:34.849 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000125 эффективно (экономия 62.111046%), выполняем полное сжатие
21:01:34.849 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.849 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:34.850 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000161
21:01:34.851 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000161, максимальное время: 2000 мс
21:01:34.852 Scheduling work ID 3ab59c76-a72a-4aad-99e2-00c91df7232bJob ID 62
21:01:34.854 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000124, обработка через 10 сек
21:01:34.856 [FileUtil] URI стал доступен через 5 мс, размер: 54760 байт
21:01:34.861 [URI:0125] Имя файла: IMG_20251123_210041.jpg
21:01:34.861 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210041.jpg
21:01:34.861 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210041.jpg (режим замены: true)
21:01:34.861 Starting work for 3ab59c76-a72a-4aad-99e2-00c91df7232b
21:01:34.863 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.863 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000161, обработка через 10 сек
21:01:34.864 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920894000
21:01:34.868 Processor: processing WorkGenerationalId(workSpecId=3ab59c76-a72a-4aad-99e2-00c91df7232b, generation=0)
21:01:34.870 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:34.870 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920894870
21:01:34.871 [URI:0125] Директория для сохранения: Pictures
21:01:34.872 onStartJob for WorkGenerationalId(workSpecId=3ab59c76-a72a-4aad-99e2-00c91df7232b, generation=0)
21:01:34.874 [URI:0125] Сжатие изображения в поток
21:01:34.875 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000161
21:01:34.876 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:34.878 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.879 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:34.879 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:34.880 Work WorkGenerationalId(workSpecId=3ab59c76-a72a-4aad-99e2-00c91df7232b, generation=0) is already enqueued for processing
21:01:34.889 Moving WorkSpec (3ab59c76-a72a-4aad-99e2-00c91df7232b) to the foreground
21:01:34.899 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000126
21:01:34.899 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:34.900 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000122 в память
21:01:34.903 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:34.904 Notifying with (id:1, workSpecId: 3ab59c76-a72a-4aad-99e2-00c91df7232b, notificationType :1)
21:01:34.904 [FileUtil] Директория для сохранения: Pictures
21:01:34.905 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210041.jpg (режим замены: true)
21:01:34.905 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:34.907 Notifying with (id:1, workSpecId: 3ab59c76-a72a-4aad-99e2-00c91df7232b, notificationType :1)
21:01:34.908 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000125
21:01:34.908 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:34.909 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210041.jpg', включен режим замены - удаляем
21:01:34.909 [URI:0126] Изображение требует обработки
21:01:34.909 [URI:0126] Начало тестового сжатия в RAM
21:01:34.909 [URI:0126] Сжатие изображения в поток
21:01:34.915 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000122:
21:01:34.915 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:34.916 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:34.916 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:34.916 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:34.917 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:34.917 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:34.917 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:34.917 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:40
21:01:34.917 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:34.917 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:34.917 [URI:0122] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:34.921 [MediaStore] Существующий файл удален (режим замены)
21:01:34.923 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000123
21:01:34.923 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.927 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000125, обработка через 10 сек
21:01:34.932 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000162
21:01:34.933 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:34.934 [СЖАТИЕ:0123] Запущена работа по сжатию для content://media/external/images/media/1000000123 с тегом compress_1763920894928_IMG_20251123_210040_1.jpg в батче auto_batch_1_1763920891005
21:01:34.934 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:34.934 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000120
21:01:34.934 [URI:0120] URI scheme: content, authority: media, path: /external/images/media/1000000120
21:01:34.935 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000162
21:01:34.945 [СЖАТИЕ:0126] 142KB → 53KB (-62%)
21:01:34.945 [СЖАТИЕ:0126] 142KB → 53KB (-62.14111%)
21:01:34.945 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000126 эффективно (экономия 62.14111%), выполняем полное сжатие
21:01:34.945 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:34.947 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000120 (всего: 22)
21:01:34.948 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000162, обработка через 10 сек
21:01:34.950 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000162
21:01:34.951 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000162, максимальное время: 2000 мс
21:01:34.955 Scheduling work ID a418f1b6-a0bf-426f-9e53-86a2c80c687dJob ID 63
21:01:34.956 [URI:0126] Имя файла: IMG_20251123_210041_1.jpg
21:01:34.956 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210041_1.jpg
21:01:34.956 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210041_1.jpg (режим замены: true)
21:01:34.957 [FileUtil] URI стал доступен через 5 мс, размер: 54892 байт
21:01:34.966 Starting work for a418f1b6-a0bf-426f-9e53-86a2c80c687d
21:01:34.967 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.968 onStartJob for WorkGenerationalId(workSpecId=a418f1b6-a0bf-426f-9e53-86a2c80c687d, generation=0)
21:01:34.969 [URI:0126] Директория для сохранения: Pictures
21:01:34.972 Processor: processing WorkGenerationalId(workSpecId=a418f1b6-a0bf-426f-9e53-86a2c80c687d, generation=0)
21:01:34.972 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920894000
21:01:34.973 [URI:0126] Сжатие изображения в поток
21:01:34.976 Work WorkGenerationalId(workSpecId=a418f1b6-a0bf-426f-9e53-86a2c80c687d, generation=0) is already enqueued for processing
21:01:34.977 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000122
21:01:34.977 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:34.982 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:34.983 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:34.984 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920894983
21:01:34.987 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:34.987 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:34.987 [FileUtil] Обработка EXIF данных: успешно
21:01:34.987 [ФАЙЛ:0124] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000161
21:01:34.988 Moving WorkSpec (a418f1b6-a0bf-426f-9e53-86a2c80c687d) to the foreground
21:01:34.988 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000124
21:01:34.988 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:34.989 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000162
21:01:34.990 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:34.990 [ОШИБКА:Удаление:0124] Не удалось удалить оригинальный файл
21:01:34.995 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:34.995 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:34.997 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210040_2.jpg (14)
21:01:34.997 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210040_2.jpg
21:01:34.999 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000122
21:01:34.999 [FileUtil] Директория для сохранения: Pictures
21:01:35.000 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210041_1.jpg (режим замены: true)
21:01:35.001 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.002 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.002 Notifying with (id:1, workSpecId: a418f1b6-a0bf-426f-9e53-86a2c80c687d, notificationType :1)
21:01:35.003 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.003 [URI:0122] Изображение требует обработки
21:01:35.003 [URI:0122] Начало тестового сжатия в RAM
21:01:35.003 [URI:0122] Сжатие изображения в поток
21:01:35.004 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000120
21:01:35.004 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.011 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000126
21:01:35.014 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210041_1.jpg', включен режим замены - удаляем
21:01:35.019 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.019 [MediaStore] Существующий файл удален (режим замены)
21:01:35.023 [СЖАТИЕ:0120] Запущена работа по сжатию для content://media/external/images/media/1000000120 с тегом compress_1763920895011_IMG_20251123_210038_1.jpg в батче auto_batch_1_1763920891005
21:01:35.023 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.024 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000121
21:01:35.024 [URI:0121] URI scheme: content, authority: media, path: /external/images/media/1000000121
21:01:35.024 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000163
21:01:35.024 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.024 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000123 в память
21:01:35.025 Moving WorkSpec (2a069016-ed9c-48b2-add5-aeb40b078eb7) to the foreground
21:01:35.029 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000163
21:01:35.030 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000121 (всего: 23)
21:01:35.036 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000124
21:01:35.041 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000126, обработка через 10 сек
21:01:35.041 Notifying with (id:1, workSpecId: a418f1b6-a0bf-426f-9e53-86a2c80c687d, notificationType :1)
21:01:35.054 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000123:
21:01:35.054 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.054 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.054 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.054 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.054 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.054 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.055 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.055 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:40
21:01:35.055 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.055 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.055 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000163
21:01:35.055 [URI:0123] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.055 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000163, максимальное время: 2000 мс
21:01:35.056 Scheduling work ID 3528d77f-60eb-4871-9bd4-e4aab5d51f5eJob ID 64
21:01:35.058 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000163, обработка через 10 сек
21:01:35.059 Notifying with (id:1, workSpecId: 2a069016-ed9c-48b2-add5-aeb40b078eb7, notificationType :1)
21:01:35.060 Starting work for 3528d77f-60eb-4871-9bd4-e4aab5d51f5e
21:01:35.062 [СЖАТИЕ:0122] 141KB → 53KB (-62%)
21:01:35.063 [СЖАТИЕ:0122] 141KB → 53KB (-62.06093%)
21:01:35.063 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000122 эффективно (экономия 62.06093%), выполняем полное сжатие
21:01:35.063 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.065 Processor: processing WorkGenerationalId(workSpecId=3528d77f-60eb-4871-9bd4-e4aab5d51f5e, generation=0)
21:01:35.067 [FileUtil] URI стал доступен через 12 мс, размер: 55065 байт
21:01:35.067 Worker result SUCCESS for Work [ id=2a069016-ed9c-48b2-add5-aeb40b078eb7, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920894317_IMG_20251123_210040_2.jpg } ]
21:01:35.073 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.075 [URI:0122] Имя файла: IMG_20251123_210040.jpg
21:01:35.077 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210040.jpg
21:01:35.077 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210040.jpg (режим замены: true)
21:01:35.080 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:35.089 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:35.089 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920895089
21:01:35.091 onStartJob for WorkGenerationalId(workSpecId=3528d77f-60eb-4871-9bd4-e4aab5d51f5e, generation=0)
21:01:35.093 Work WorkGenerationalId(workSpecId=3528d77f-60eb-4871-9bd4-e4aab5d51f5e, generation=0) is already enqueued for processing
21:01:35.093 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000163
21:01:35.093 Processor 2a069016-ed9c-48b2-add5-aeb40b078eb7 executed; reschedule = false
21:01:35.093 2a069016-ed9c-48b2-add5-aeb40b078eb7 executed on JobScheduler
21:01:35.093 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=2a069016-ed9c-48b2-add5-aeb40b078eb7, generation=0), notificationType: 1
21:01:35.093 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:35.095 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:35.095 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:35.096 [URI:0122] Директория для сохранения: Pictures
21:01:35.097 Cancelling work ID 2a069016-ed9c-48b2-add5-aeb40b078eb7
21:01:35.098 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.099 [URI:0122] Сжатие изображения в поток
21:01:35.100 Moving WorkSpec (3528d77f-60eb-4871-9bd4-e4aab5d51f5e) to the foreground
21:01:35.101 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.101 Notifying with (id:1, workSpecId: 3528d77f-60eb-4871-9bd4-e4aab5d51f5e, notificationType :1)
21:01:35.108 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:35.108 [FileUtil] Обработка EXIF данных: успешно
21:01:35.108 [ФАЙЛ:0125] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000162
21:01:35.108 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000125
21:01:35.108 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:35.111 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:35.112 [ОШИБКА:Удаление:0125] Не удалось удалить оригинальный файл
21:01:35.113 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.114 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000120 в память
21:01:35.117 Notifying with (id:1, workSpecId: 3528d77f-60eb-4871-9bd4-e4aab5d51f5e, notificationType :1)
21:01:35.122 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000120:
21:01:35.122 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.122 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.122 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.122 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.122 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210041.jpg (15)
21:01:35.122 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210041.jpg
21:01:35.126 Moving WorkSpec (f17c98dc-1bfb-4f52-b423-b5571be3a630) to the foreground
21:01:35.127 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.127 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.127 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.127 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:39
21:01:35.127 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.127 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.127 [URI:0120] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.133 Notifying with (id:1, workSpecId: f17c98dc-1bfb-4f52-b423-b5571be3a630, notificationType :1)
21:01:35.134 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000125
21:01:35.143 Worker result SUCCESS for Work [ id=f17c98dc-1bfb-4f52-b423-b5571be3a630, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920894507_IMG_20251123_210041.jpg } ]
21:01:35.148 Processor f17c98dc-1bfb-4f52-b423-b5571be3a630 executed; reschedule = false
21:01:35.148 f17c98dc-1bfb-4f52-b423-b5571be3a630 executed on JobScheduler
21:01:35.148 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=f17c98dc-1bfb-4f52-b423-b5571be3a630, generation=0), notificationType: 1
21:01:35.150 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000121
21:01:35.150 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.154 Cancelling work ID f17c98dc-1bfb-4f52-b423-b5571be3a630
21:01:35.155 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000123
21:01:35.155 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.155 [FileUtil] Директория для сохранения: Pictures
21:01:35.155 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210040.jpg (режим замены: true)
21:01:35.156 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.158 onStopJob for WorkGenerationalId(workSpecId=f17c98dc-1bfb-4f52-b423-b5571be3a630, generation=0)
21:01:35.162 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000122
21:01:35.163 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.164 [СЖАТИЕ:0121] Запущена работа по сжатию для content://media/external/images/media/1000000121 с тегом compress_1763920895158_IMG_20251123_210039.jpg в батче auto_batch_1_1763920891005
21:01:35.164 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.164 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000119
21:01:35.164 [URI:0119] URI scheme: content, authority: media, path: /external/images/media/1000000119
21:01:35.170 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000119 (всего: 24)
21:01:35.172 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000123
21:01:35.173 Scheduling work ID d1a0ffe1-4dce-44d6-aa8e-a2350b52df8dJob ID 65
21:01:35.174 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210040.jpg', включен режим замены - удаляем
21:01:35.179 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.181 onStartJob for WorkGenerationalId(workSpecId=d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, generation=0)
21:01:35.182 Starting work for d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d
21:01:35.183 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.183 [URI:0123] Изображение требует обработки
21:01:35.183 [URI:0123] Начало тестового сжатия в RAM
21:01:35.184 [URI:0123] Сжатие изображения в поток
21:01:35.185 Processor: processing WorkGenerationalId(workSpecId=d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, generation=0)
21:01:35.190 [MediaStore] Существующий файл удален (режим замены)
21:01:35.191 Work WorkGenerationalId(workSpecId=d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, generation=0) is already enqueued for processing
21:01:35.200 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:35.200 [FileUtil] Обработка EXIF данных: успешно
21:01:35.201 [ФАЙЛ:0126] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000163
21:01:35.201 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000126
21:01:35.201 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:35.203 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.206 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000122, обработка через 10 сек
21:01:35.206 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:35.208 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000164
21:01:35.229 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000164
21:01:35.232 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:35.233 [ОШИБКА:Удаление:0126] Не удалось удалить оригинальный файл
21:01:35.236 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000164, обработка через 10 сек
21:01:35.237 Moving WorkSpec (d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d) to the foreground
21:01:35.241 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.242 Notifying with (id:1, workSpecId: d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, notificationType :1)
21:01:35.249 Notifying with (id:1, workSpecId: d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, notificationType :1)
21:01:35.251 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.251 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000121 в память
21:01:35.254 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210041_1.jpg (16)
21:01:35.255 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210041_1.jpg
21:01:35.260 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000121:
21:01:35.260 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.260 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.260 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.260 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.261 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.261 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.261 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.261 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:39
21:01:35.261 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.261 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.261 [URI:0121] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.267 Background concurrent mark compact GC freed 4392KB AllocSpace bytes, 48(1864KB) LOS objects, 49% free, 6379KB/12MB, paused 297us,16.364ms total 110.700ms
21:01:35.269 [СЖАТИЕ:0123] 141KB → 53KB (-62%)
21:01:35.270 Moving WorkSpec (5d91d3fb-b43a-41b5-be29-0619a97cb640) to the foreground
21:01:35.270 [СЖАТИЕ:0123] 141KB → 53KB (-62.246468%)
21:01:35.271 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000123 эффективно (экономия 62.246468%), выполняем полное сжатие
21:01:35.272 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.273 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000126
21:01:35.278 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000120
21:01:35.278 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.280 Notifying with (id:1, workSpecId: 5d91d3fb-b43a-41b5-be29-0619a97cb640, notificationType :1)
21:01:35.286 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.288 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000120
21:01:35.289 Worker result SUCCESS for Work [ id=5d91d3fb-b43a-41b5-be29-0619a97cb640, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920894706_IMG_20251123_210041_1.jpg } ]
21:01:35.292 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.292 [URI:0120] Изображение требует обработки
21:01:35.292 [URI:0120] Начало тестового сжатия в RAM
21:01:35.292 [URI:0120] Сжатие изображения в поток
21:01:35.302 Processor 5d91d3fb-b43a-41b5-be29-0619a97cb640 executed; reschedule = false
21:01:35.302 5d91d3fb-b43a-41b5-be29-0619a97cb640 executed on JobScheduler
21:01:35.302 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=5d91d3fb-b43a-41b5-be29-0619a97cb640, generation=0), notificationType: 1
21:01:35.305 [URI:0123] Имя файла: IMG_20251123_210040_1.jpg
21:01:35.305 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210040_1.jpg
21:01:35.305 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210040_1.jpg (режим замены: true)
21:01:35.308 Cancelling work ID 5d91d3fb-b43a-41b5-be29-0619a97cb640
21:01:35.315 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000119
21:01:35.315 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.316 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000164
21:01:35.318 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000164, максимальное время: 2000 мс
21:01:35.320 [СЖАТИЕ:0120] 141KB → 53KB (-62%)
21:01:35.320 [СЖАТИЕ:0120] 141KB → 53KB (-62.243366%)
21:01:35.320 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000121
21:01:35.320 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000120 эффективно (экономия 62.243366%), выполняем полное сжатие
21:01:35.320 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.321 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.324 [URI:0123] Директория для сохранения: Pictures
21:01:35.324 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.325 [FileUtil] URI стал доступен через 6 мс, размер: 55020 байт
21:01:35.334 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:35.337 [URI:0120] Имя файла: IMG_20251123_210038_1.jpg
21:01:35.337 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210038_1.jpg
21:01:35.337 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210038_1.jpg (режим замены: true)
21:01:35.339 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:35.339 [URI:0123] Сжатие изображения в поток
21:01:35.339 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920895339
21:01:35.342 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000164
21:01:35.344 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:35.345 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:35.348 [URI:0120] Директория для сохранения: Pictures
21:01:35.360 [URI:0120] Сжатие изображения в поток
21:01:35.361 [FileUtil] Директория для сохранения: Pictures
21:01:35.361 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210040_1.jpg (режим замены: true)
21:01:35.361 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.362 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.363 [СЖАТИЕ:0119] Запущена работа по сжатию для content://media/external/images/media/1000000119 с тегом compress_1763920895345_IMG_20251123_210038.jpg в батче auto_batch_1_1763920891005
21:01:35.364 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.364 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000117
21:01:35.364 [URI:0117] URI scheme: content, authority: media, path: /external/images/media/1000000117
21:01:35.367 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000121
21:01:35.371 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000117 (всего: 25)
21:01:35.372 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000123
21:01:35.374 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210040_1.jpg', включен режим замены - удаляем
21:01:35.376 Scheduling work ID 59980603-20a2-4fbd-b306-0ab0bae64621Job ID 66
21:01:35.380 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.382 [URI:0121] Изображение требует обработки
21:01:35.382 [URI:0121] Начало тестового сжатия в RAM
21:01:35.383 [URI:0121] Сжатие изображения в поток
21:01:35.388 [MediaStore] Существующий файл удален (режим замены)
21:01:35.392 Starting work for 59980603-20a2-4fbd-b306-0ab0bae64621
21:01:35.394 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000123, обработка через 10 сек
21:01:35.394 onStartJob for WorkGenerationalId(workSpecId=59980603-20a2-4fbd-b306-0ab0bae64621, generation=0)
21:01:35.395 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.398 [FileUtil] Директория для сохранения: Pictures
21:01:35.398 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210038_1.jpg (режим замены: true)
21:01:35.399 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.400 Processor: processing WorkGenerationalId(workSpecId=59980603-20a2-4fbd-b306-0ab0bae64621, generation=0)
21:01:35.402 Work WorkGenerationalId(workSpecId=59980603-20a2-4fbd-b306-0ab0bae64621, generation=0) is already enqueued for processing
21:01:35.408 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:35.422 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000120
21:01:35.425 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000165
21:01:35.436 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000165, обработка через 10 сек
21:01:35.437 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210038_1.jpg', включен режим замены - удаляем
21:01:35.439 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.440 [СЖАТИЕ:0121] 141KB → 53KB (-62%)
21:01:35.440 [СЖАТИЕ:0121] 141KB → 53KB (-62.31269%)
21:01:35.440 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000121 эффективно (экономия 62.31269%), выполняем полное сжатие
21:01:35.440 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.446 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000165
21:01:35.447 Moving WorkSpec (59980603-20a2-4fbd-b306-0ab0bae64621) to the foreground
21:01:35.462 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.462 Notifying with (id:1, workSpecId: 59980603-20a2-4fbd-b306-0ab0bae64621, notificationType :1)
21:01:35.463 [MediaStore] Существующий файл удален (режим замены)
21:01:35.470 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:35.471 [FileUtil] Обработка EXIF данных: успешно
21:01:35.471 [ФАЙЛ:0122] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000164
21:01:35.472 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000122
21:01:35.474 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:35.474 [URI:0121] Имя файла: IMG_20251123_210039.jpg
21:01:35.475 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210039.jpg
21:01:35.476 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210039.jpg (режим замены: true)
21:01:35.477 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.478 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000119 в память
21:01:35.491 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000120, обработка через 10 сек
21:01:35.495 Notifying with (id:1, workSpecId: 59980603-20a2-4fbd-b306-0ab0bae64621, notificationType :1)
21:01:35.496 [URI:0121] Директория для сохранения: Pictures
21:01:35.497 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000166
21:01:35.503 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000119:
21:01:35.503 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.503 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.503 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.503 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.504 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:35.504 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.504 [ОШИБКА:Удаление:0122] Не удалось удалить оригинальный файл
21:01:35.504 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.504 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.504 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:38
21:01:35.504 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.504 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.504 [URI:0119] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.516 [URI:0121] Сжатие изображения в поток
21:01:35.516 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.523 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000165
21:01:35.524 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000166, обработка через 10 сек
21:01:35.524 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000165, максимальное время: 2000 мс
21:01:35.526 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000117
21:01:35.527 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.531 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000166
21:01:35.532 [FileUtil] URI стал доступен через 8 мс, размер: 54891 байт
21:01:35.539 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210040.jpg (17)
21:01:35.539 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210040.jpg
21:01:35.544 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.549 Moving WorkSpec (3ab59c76-a72a-4aad-99e2-00c91df7232b) to the foreground
21:01:35.553 Notifying with (id:1, workSpecId: 3ab59c76-a72a-4aad-99e2-00c91df7232b, notificationType :1)
21:01:35.555 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:35.564 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000122
21:01:35.567 Worker result SUCCESS for Work [ id=3ab59c76-a72a-4aad-99e2-00c91df7232b, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920894830_IMG_20251123_210040.jpg } ]
21:01:35.568 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.572 [СЖАТИЕ:0117] Запущена работа по сжатию для content://media/external/images/media/1000000117 с тегом compress_1763920895548_IMG_20251123_210036_1.jpg в батче auto_batch_1_1763920891005
21:01:35.575 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.576 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:35.578 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000118
21:01:35.579 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920895576
21:01:35.581 [URI:0118] URI scheme: content, authority: media, path: /external/images/media/1000000118
21:01:35.583 Processor 3ab59c76-a72a-4aad-99e2-00c91df7232b executed; reschedule = false
21:01:35.583 3ab59c76-a72a-4aad-99e2-00c91df7232b executed on JobScheduler
21:01:35.583 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=3ab59c76-a72a-4aad-99e2-00c91df7232b, generation=0), notificationType: 1
21:01:35.584 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000165
21:01:35.589 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:35.589 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:35.595 Scheduling work ID 5f241a71-d16e-4f5a-be8c-d15855a91935Job ID 67
21:01:35.598 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000166
21:01:35.600 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000166, максимальное время: 2000 мс
21:01:35.601 [FileUtil] Директория для сохранения: Pictures
21:01:35.601 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210039.jpg (режим замены: true)
21:01:35.606 Starting work for 5f241a71-d16e-4f5a-be8c-d15855a91935
21:01:35.606 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.609 onStartJob for WorkGenerationalId(workSpecId=5f241a71-d16e-4f5a-be8c-d15855a91935, generation=0)
21:01:35.616 Cancelling work ID 3ab59c76-a72a-4aad-99e2-00c91df7232b
21:01:35.621 Processor: processing WorkGenerationalId(workSpecId=5f241a71-d16e-4f5a-be8c-d15855a91935, generation=0)
21:01:35.623 Work WorkGenerationalId(workSpecId=5f241a71-d16e-4f5a-be8c-d15855a91935, generation=0) is already enqueued for processing
21:01:35.627 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:35.630 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000118 (всего: 26)
21:01:35.632 Moving WorkSpec (5f241a71-d16e-4f5a-be8c-d15855a91935) to the foreground
21:01:35.633 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.635 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.635 [FileUtil] URI стал доступен через 34 мс, размер: 54675 байт
21:01:35.635 Notifying with (id:1, workSpecId: 5f241a71-d16e-4f5a-be8c-d15855a91935, notificationType :1)
21:01:35.642 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000121
21:01:35.649 Notifying with (id:1, workSpecId: 5f241a71-d16e-4f5a-be8c-d15855a91935, notificationType :1)
21:01:35.653 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.653 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000117 в память
21:01:35.656 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210039.jpg', включен режим замены - удаляем
21:01:35.659 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000119
21:01:35.659 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.659 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.661 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:35.671 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:35.672 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920895671
21:01:35.676 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000166
21:01:35.684 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:35.684 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:35.693 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000117:
21:01:35.693 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.693 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.693 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.694 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.694 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.695 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.695 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.695 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:37
21:01:35.695 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.695 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.696 [URI:0117] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.696 [MediaStore] Существующий файл удален (режим замены)
21:01:35.698 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:35.699 [FileUtil] Обработка EXIF данных: успешно
21:01:35.699 [ФАЙЛ:0123] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000165
21:01:35.699 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000123
21:01:35.699 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:35.706 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000167
21:01:35.707 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000121, обработка через 10 сек
21:01:35.709 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:35.709 [ОШИБКА:Удаление:0123] Не удалось удалить оригинальный файл
21:01:35.714 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210040_1.jpg (18)
21:01:35.715 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000167
21:01:35.716 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210040_1.jpg
21:01:35.721 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000167, обработка через 10 сек
21:01:35.727 Moving WorkSpec (a418f1b6-a0bf-426f-9e53-86a2c80c687d) to the foreground
21:01:35.731 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000123
21:01:35.731 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000119
21:01:35.732 Notifying with (id:1, workSpecId: a418f1b6-a0bf-426f-9e53-86a2c80c687d, notificationType :1)
21:01:35.736 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.737 Worker result SUCCESS for Work [ id=a418f1b6-a0bf-426f-9e53-86a2c80c687d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920894928_IMG_20251123_210040_1.jpg } ]
21:01:35.738 Processor a418f1b6-a0bf-426f-9e53-86a2c80c687d executed; reschedule = false
21:01:35.739 a418f1b6-a0bf-426f-9e53-86a2c80c687d executed on JobScheduler
21:01:35.739 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=a418f1b6-a0bf-426f-9e53-86a2c80c687d, generation=0), notificationType: 1
21:01:35.743 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.744 [URI:0119] Изображение требует обработки
21:01:35.744 [URI:0119] Начало тестового сжатия в RAM
21:01:35.744 [URI:0119] Сжатие изображения в поток
21:01:35.746 Cancelling work ID a418f1b6-a0bf-426f-9e53-86a2c80c687d
21:01:35.760 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000167
21:01:35.760 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000167, максимальное время: 2000 мс
21:01:35.761 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.773 [FileUtil] URI стал доступен через 13 мс, размер: 54653 байт
21:01:35.788 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:35.788 [FileUtil] Обработка EXIF данных: успешно
21:01:35.788 [ФАЙЛ:0120] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000166
21:01:35.788 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000120
21:01:35.789 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:35.789 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:35.793 [СЖАТИЕ:0119] 141KB → 53KB (-62%)
21:01:35.794 [СЖАТИЕ:0119] 141KB → 53KB (-62.092667%)
21:01:35.794 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000119 эффективно (экономия 62.092667%), выполняем полное сжатие
21:01:35.794 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.795 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:35.795 [ОШИБКА:Удаление:0120] Не удалось удалить оригинальный файл
21:01:35.799 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210038_1.jpg (19)
21:01:35.800 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210038_1.jpg
21:01:35.800 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:35.801 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920895801
21:01:35.802 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000118
21:01:35.802 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.804 Moving WorkSpec (3528d77f-60eb-4871-9bd4-e4aab5d51f5e) to the foreground
21:01:35.804 [URI:0119] Имя файла: IMG_20251123_210038.jpg
21:01:35.804 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210038.jpg
21:01:35.804 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210038.jpg (режим замены: true)
21:01:35.807 Notifying with (id:1, workSpecId: 3528d77f-60eb-4871-9bd4-e4aab5d51f5e, notificationType :1)
21:01:35.808 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000167
21:01:35.809 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000120
21:01:35.809 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000117
21:01:35.810 [URI:0119] Директория для сохранения: Pictures
21:01:35.810 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.811 Worker result SUCCESS for Work [ id=3528d77f-60eb-4871-9bd4-e4aab5d51f5e, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895011_IMG_20251123_210038_1.jpg } ]
21:01:35.811 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:35.812 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:35.812 Processor 3528d77f-60eb-4871-9bd4-e4aab5d51f5e executed; reschedule = false
21:01:35.812 3528d77f-60eb-4871-9bd4-e4aab5d51f5e executed on JobScheduler
21:01:35.812 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=3528d77f-60eb-4871-9bd4-e4aab5d51f5e, generation=0), notificationType: 1
21:01:35.814 [URI:0119] Сжатие изображения в поток
21:01:35.815 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.817 Cancelling work ID 3528d77f-60eb-4871-9bd4-e4aab5d51f5e
21:01:35.817 [СЖАТИЕ:0118] Запущена работа по сжатию для content://media/external/images/media/1000000118 с тегом compress_1763920895806_IMG_20251123_210037.jpg в батче auto_batch_1_1763920891005
21:01:35.818 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.818 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000115
21:01:35.818 [URI:0115] URI scheme: content, authority: media, path: /external/images/media/1000000115
21:01:35.818 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000117
21:01:35.825 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.826 [URI:0117] Изображение требует обработки
21:01:35.826 [URI:0117] Начало тестового сжатия в RAM
21:01:35.826 [URI:0117] Сжатие изображения в поток
21:01:35.830 Scheduling work ID 009212ae-0316-449f-8594-2ab1649b72d2Job ID 68
21:01:35.831 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000115 (всего: 27)
21:01:35.833 Starting work for 009212ae-0316-449f-8594-2ab1649b72d2
21:01:35.833 onStartJob for WorkGenerationalId(workSpecId=009212ae-0316-449f-8594-2ab1649b72d2, generation=0)
21:01:35.836 [FileUtil] Директория для сохранения: Pictures
21:01:35.836 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210038.jpg (режим замены: true)
21:01:35.836 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.839 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.840 Processor: processing WorkGenerationalId(workSpecId=009212ae-0316-449f-8594-2ab1649b72d2, generation=0)
21:01:35.843 Work WorkGenerationalId(workSpecId=009212ae-0316-449f-8594-2ab1649b72d2, generation=0) is already enqueued for processing
21:01:35.846 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000119
21:01:35.848 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:35.851 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210038.jpg', включен режим замены - удаляем
21:01:35.854 Moving WorkSpec (009212ae-0316-449f-8594-2ab1649b72d2) to the foreground
21:01:35.857 [MediaStore] Существующий файл удален (режим замены)
21:01:35.863 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000119, обработка через 10 сек
21:01:35.864 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.865 Notifying with (id:1, workSpecId: 009212ae-0316-449f-8594-2ab1649b72d2, notificationType :1)
21:01:35.865 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.865 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.866 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000118 в память
21:01:35.867 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000168
21:01:35.867 Notifying with (id:1, workSpecId: 009212ae-0316-449f-8594-2ab1649b72d2, notificationType :1)
21:01:35.869 [СЖАТИЕ:0117] 141KB → 53KB (-62%)
21:01:35.869 [СЖАТИЕ:0117] 141KB → 53KB (-62.224724%)
21:01:35.869 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000117 эффективно (экономия 62.224724%), выполняем полное сжатие
21:01:35.870 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.872 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000168
21:01:35.877 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000118:
21:01:35.878 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.879 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.879 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000168, обработка через 10 сек
21:01:35.880 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.880 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.880 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.880 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.881 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.881 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:37
21:01:35.881 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.882 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.882 [URI:0118] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.884 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000168
21:01:35.884 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000168, максимальное время: 2000 мс
21:01:35.888 [FileUtil] URI стал доступен через 4 мс, размер: 54988 байт
21:01:35.892 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000115
21:01:35.892 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.893 [URI:0117] Имя файла: IMG_20251123_210036_1.jpg
21:01:35.894 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210036_1.jpg
21:01:35.894 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210036_1.jpg (режим замены: true)
21:01:35.898 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:35.901 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:35.901 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920895901
21:01:35.901 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.902 [СЖАТИЕ:0115] Запущена работа по сжатию для content://media/external/images/media/1000000115 с тегом compress_1763920895896_IMG_20251123_210035_1.jpg в батче auto_batch_1_1763920891005
21:01:35.903 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.903 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000116
21:01:35.903 [URI:0116] URI scheme: content, authority: media, path: /external/images/media/1000000116
21:01:35.904 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000168
21:01:35.904 [URI:0117] Директория для сохранения: Pictures
21:01:35.907 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:35.908 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:35.908 Scheduling work ID ae2b65a3-3780-4664-b78e-4623f23c623aJob ID 69
21:01:35.911 [URI:0117] Сжатие изображения в поток
21:01:35.912 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000116 (всего: 28)
21:01:35.915 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:35.915 [FileUtil] Обработка EXIF данных: успешно
21:01:35.915 [ФАЙЛ:0121] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000167
21:01:35.916 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000121
21:01:35.916 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:35.923 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:35.924 [ОШИБКА:Удаление:0121] Не удалось удалить оригинальный файл
21:01:35.926 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210039.jpg (20)
21:01:35.926 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210039.jpg
21:01:35.927 Starting work for ae2b65a3-3780-4664-b78e-4623f23c623a
21:01:35.930 onStartJob for WorkGenerationalId(workSpecId=ae2b65a3-3780-4664-b78e-4623f23c623a, generation=0)
21:01:35.931 Processor: processing WorkGenerationalId(workSpecId=ae2b65a3-3780-4664-b78e-4623f23c623a, generation=0)
21:01:35.932 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000118
21:01:35.932 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.933 Work WorkGenerationalId(workSpecId=ae2b65a3-3780-4664-b78e-4623f23c623a, generation=0) is already enqueued for processing
21:01:35.935 Moving WorkSpec (d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d) to the foreground
21:01:35.936 Notifying with (id:1, workSpecId: d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, notificationType :1)
21:01:35.940 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:35.942 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000118
21:01:35.942 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.943 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000121
21:01:35.946 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:35.946 [URI:0118] Изображение требует обработки
21:01:35.946 [URI:0118] Начало тестового сжатия в RAM
21:01:35.946 [URI:0118] Сжатие изображения в поток
21:01:35.947 Worker result SUCCESS for Work [ id=d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895158_IMG_20251123_210039.jpg } ]
21:01:35.948 Processor d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d executed; reschedule = false
21:01:35.948 d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d executed on JobScheduler
21:01:35.948 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d, generation=0), notificationType: 1
21:01:35.949 Moving WorkSpec (ae2b65a3-3780-4664-b78e-4623f23c623a) to the foreground
21:01:35.950 [FileUtil] Директория для сохранения: Pictures
21:01:35.950 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210036_1.jpg (режим замены: true)
21:01:35.951 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:35.951 Notifying with (id:1, workSpecId: ae2b65a3-3780-4664-b78e-4623f23c623a, notificationType :1)
21:01:35.951 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:35.954 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000117
21:01:35.956 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210036_1.jpg', включен режим замены - удаляем
21:01:35.956 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:35.956 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000115 в память
21:01:35.957 Cancelling work ID d1a0ffe1-4dce-44d6-aa8e-a2350b52df8d
21:01:35.960 Notifying with (id:1, workSpecId: ae2b65a3-3780-4664-b78e-4623f23c623a, notificationType :1)
21:01:35.963 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000116
21:01:35.963 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:35.965 [MediaStore] Существующий файл удален (режим замены)
21:01:35.969 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:35.969 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000169
21:01:35.971 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000117, обработка через 10 сек
21:01:35.976 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000115:
21:01:35.977 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:35.977 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000169
21:01:35.977 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:35.977 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:35.977 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:35.977 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:35.977 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:35.979 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:35.980 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:36
21:01:35.980 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:35.980 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:35.980 [URI:0115] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:35.983 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000169, обработка через 10 сек
21:01:35.983 [СЖАТИЕ:0118] 142KB → 53KB (-62%)
21:01:35.983 [СЖАТИЕ:0118] 142KB → 53KB (-62.239372%)
21:01:35.984 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000118 эффективно (экономия 62.239372%), выполняем полное сжатие
21:01:35.984 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:35.985 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:35.985 [СЖАТИЕ:0116] Запущена работа по сжатию для content://media/external/images/media/1000000116 с тегом compress_1763920895973_IMG_20251123_210036.jpg в батче auto_batch_1_1763920891005
21:01:35.985 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:35.985 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000114
21:01:35.986 [URI:0114] URI scheme: content, authority: media, path: /external/images/media/1000000114
21:01:35.987 [URI:0118] Имя файла: IMG_20251123_210037.jpg
21:01:35.987 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210037.jpg
21:01:35.987 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210037.jpg (режим замены: true)
21:01:35.990 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000114 (всего: 29)
21:01:35.993 [URI:0118] Директория для сохранения: Pictures
21:01:35.993 Scheduling work ID 51fae9d7-f600-4d15-b7f6-ac3c08790fbcJob ID 70
21:01:35.996 [URI:0118] Сжатие изображения в поток
21:01:35.998 onStartJob for WorkGenerationalId(workSpecId=51fae9d7-f600-4d15-b7f6-ac3c08790fbc, generation=0)
21:01:35.999 Starting work for 51fae9d7-f600-4d15-b7f6-ac3c08790fbc
21:01:36.001 Processor: processing WorkGenerationalId(workSpecId=51fae9d7-f600-4d15-b7f6-ac3c08790fbc, generation=0)
21:01:36.003 Work WorkGenerationalId(workSpecId=51fae9d7-f600-4d15-b7f6-ac3c08790fbc, generation=0) is already enqueued for processing
21:01:36.008 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000169
21:01:36.008 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000169, максимальное время: 2000 мс
21:01:36.015 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:36.019 [FileUtil] URI стал доступен через 11 мс, размер: 54719 байт
21:01:36.020 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:36.021 [FileUtil] Обработка EXIF данных: успешно
21:01:36.021 [ФАЙЛ:0119] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000168
21:01:36.021 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000119
21:01:36.021 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.026 Moving WorkSpec (51fae9d7-f600-4d15-b7f6-ac3c08790fbc) to the foreground
21:01:36.026 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.027 [ОШИБКА:Удаление:0119] Не удалось удалить оригинальный файл
21:01:36.028 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920895000
21:01:36.034 [FileUtil] Директория для сохранения: Pictures
21:01:36.034 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210037.jpg (режим замены: true)
21:01:36.034 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:36.036 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:36.037 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000116 в память
21:01:36.037 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:36.037 Notifying with (id:1, workSpecId: 51fae9d7-f600-4d15-b7f6-ac3c08790fbc, notificationType :1)
21:01:36.041 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000118
21:01:36.043 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210037.jpg', включен режим замены - удаляем
21:01:36.044 Notifying with (id:1, workSpecId: 51fae9d7-f600-4d15-b7f6-ac3c08790fbc, notificationType :1)
21:01:36.048 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:36.048 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920896048
21:01:36.055 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000169
21:01:36.056 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.057 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000116:
21:01:36.057 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:36.057 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:36.057 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:36.057 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:36.057 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:36.057 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:36.058 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:36.058 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:36.058 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:36.058 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:36
21:01:36.058 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:36.058 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:36.059 [URI:0116] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:36.061 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210038.jpg (21)
21:01:36.061 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210038.jpg
21:01:36.062 [MediaStore] Существующий файл удален (режим замены)
21:01:36.067 Moving WorkSpec (59980603-20a2-4fbd-b306-0ab0bae64621) to the foreground
21:01:36.079 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000119
21:01:36.081 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000118, обработка через 10 сек
21:01:36.083 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000170
21:01:36.085 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.089 Background concurrent mark compact GC freed 4704KB AllocSpace bytes, 52(1940KB) LOS objects, 49% free, 6483KB/12MB, paused 456us,8.639ms total 57.688ms
21:01:36.091 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000170, обработка через 10 сек
21:01:36.092 Notifying with (id:1, workSpecId: 59980603-20a2-4fbd-b306-0ab0bae64621, notificationType :1)
21:01:36.094 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000170
21:01:36.095 Worker result SUCCESS for Work [ id=59980603-20a2-4fbd-b306-0ab0bae64621, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895345_IMG_20251123_210038.jpg } ]
21:01:36.099 Processor 59980603-20a2-4fbd-b306-0ab0bae64621 executed; reschedule = false
21:01:36.099 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000115
21:01:36.099 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:36.101 59980603-20a2-4fbd-b306-0ab0bae64621 executed on JobScheduler
21:01:36.101 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=59980603-20a2-4fbd-b306-0ab0bae64621, generation=0), notificationType: 1
21:01:36.104 Cancelling work ID 59980603-20a2-4fbd-b306-0ab0bae64621
21:01:36.113 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000114
21:01:36.113 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000115
21:01:36.113 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:36.121 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:36.122 [URI:0115] Изображение требует обработки
21:01:36.122 [URI:0115] Начало тестового сжатия в RAM
21:01:36.122 [URI:0115] Сжатие изображения в поток
21:01:36.125 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763920891005
21:01:36.126 [СЖАТИЕ:0114] Запущена работа по сжатию для content://media/external/images/media/1000000114 с тегом compress_1763920896119_IMG_20251123_210035.jpg в батче auto_batch_1_1763920891005
21:01:36.127 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:01:36.127 [ПРОЦЕСС] BackgroundMonitoringService: начальное сканирование завершено. Обработано: 29, Пропущено: 51
21:01:36.127 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000170
21:01:36.128 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000170, максимальное время: 2000 мс
21:01:36.130 Scheduling work ID 1cc10c34-e356-4e2b-80d6-96d17da42b19Job ID 71
21:01:36.132 [FileUtil] URI стал доступен через 4 мс, размер: 55001 байт
21:01:36.133 onStartJob for WorkGenerationalId(workSpecId=1cc10c34-e356-4e2b-80d6-96d17da42b19, generation=0)
21:01:36.134 Starting work for 1cc10c34-e356-4e2b-80d6-96d17da42b19
21:01:36.135 [ПРОЦЕСС] GalleryScanUtil: найдено 29 изображений за последние 5 минут
21:01:36.135 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000115 уже в процессе обработки, пропускаем
21:01:36.135 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000116 уже в процессе обработки, пропускаем
21:01:36.135 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000114 уже в процессе обработки, пропускаем
21:01:36.135 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 26 URI
21:01:36.135 Processor: processing WorkGenerationalId(workSpecId=1cc10c34-e356-4e2b-80d6-96d17da42b19, generation=0)
21:01:36.136 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000143
21:01:36.136 Work WorkGenerationalId(workSpecId=1cc10c34-e356-4e2b-80d6-96d17da42b19, generation=0) is already enqueued for processing
21:01:36.138 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920896000
21:01:36.140 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:01:36.144 Moving WorkSpec (1cc10c34-e356-4e2b-80d6-96d17da42b19) to the foreground
21:01:36.144 [ПРОЦЕСС] Пакетное получение метаданных завершено: 26 URI, 25 запросов к MediaStore
21:01:36.145 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:36.146 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920896145
21:01:36.146 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:01:36.147 Notifying with (id:1, workSpecId: 1cc10c34-e356-4e2b-80d6-96d17da42b19, notificationType :1)
21:01:36.149 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000170
21:01:36.151 Notifying with (id:1, workSpecId: 1cc10c34-e356-4e2b-80d6-96d17da42b19, notificationType :1)
21:01:36.153 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:01:36.153 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:36.154 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:36.154 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000116
21:01:36.154 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:36.155 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000114 в память
21:01:36.161 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000114:
21:01:36.161 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:01:36.161 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:01:36.161 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:01:36.161 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:01:36.161 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:36.162 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:01:36.162 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:01:36.162 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:01:36.162 [FileUtil] Обработка EXIF данных: успешно
21:01:36.162 [ФАЙЛ:0117] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000169
21:01:36.162 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000117
21:01:36.162 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.163 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.165 [СЖАТИЕ:0115] 141KB → 53KB (-62%)
21:01:36.165 [СЖАТИЕ:0115] 141KB → 53KB (-62.0947%)
21:01:36.165 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000115 эффективно (экономия 62.0947%), выполняем полное сжатие
21:01:36.165 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:36.165 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:00:35
21:01:36.165 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:01:36.165 [ПРОЦЕСС] Прочитано 25 EXIF-тегов
21:01:36.166 [URI:0114] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:01:36.168 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.168 [ОШИБКА:Удаление:0117] Не удалось удалить оригинальный файл
21:01:36.169 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000116
21:01:36.173 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210036_1.jpg (22)
21:01:36.173 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:36.173 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210036_1.jpg
21:01:36.173 [URI:0116] Изображение требует обработки
21:01:36.173 [URI:0116] Начало тестового сжатия в RAM
21:01:36.173 [URI:0115] Имя файла: IMG_20251123_210035_1.jpg
21:01:36.173 [URI:0116] Сжатие изображения в поток
21:01:36.173 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210035_1.jpg
21:01:36.173 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210035_1.jpg (режим замены: true)
21:01:36.177 Moving WorkSpec (5f241a71-d16e-4f5a-be8c-d15855a91935) to the foreground
21:01:36.178 [URI:0115] Директория для сохранения: Pictures
21:01:36.180 [URI:0115] Сжатие изображения в поток
21:01:36.183 Notifying with (id:1, workSpecId: 5f241a71-d16e-4f5a-be8c-d15855a91935, notificationType :1)
21:01:36.186 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000117
21:01:36.188 Worker result SUCCESS for Work [ id=5f241a71-d16e-4f5a-be8c-d15855a91935, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895548_IMG_20251123_210036_1.jpg } ]
21:01:36.191 Processor 5f241a71-d16e-4f5a-be8c-d15855a91935 executed; reschedule = false
21:01:36.191 5f241a71-d16e-4f5a-be8c-d15855a91935 executed on JobScheduler
21:01:36.191 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=5f241a71-d16e-4f5a-be8c-d15855a91935, generation=0), notificationType: 1
21:01:36.191 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.193 Cancelling work ID 5f241a71-d16e-4f5a-be8c-d15855a91935
21:01:36.194 onStopJob for WorkGenerationalId(workSpecId=5f241a71-d16e-4f5a-be8c-d15855a91935, generation=0)
21:01:36.199 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.203 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896145 для URI: content://media/external/images/media/1000000170
21:01:36.203 [FileUtil] Директория для сохранения: Pictures
21:01:36.204 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210035_1.jpg (режим замены: true)
21:01:36.204 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:36.204 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000170
21:01:36.205 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.206 [СЖАТИЕ:0116] 141KB → 53KB (-62%)
21:01:36.206 [СЖАТИЕ:0116] 141KB → 53KB (-62.258167%)
21:01:36.206 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000170
21:01:36.206 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000116 эффективно (экономия 62.258167%), выполняем полное сжатие
21:01:36.206 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:36.207 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000115
21:01:36.208 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000114
21:01:36.208 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:36.209 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210035_1.jpg', включен режим замены - удаляем
21:01:36.209 [URI:0116] Имя файла: IMG_20251123_210036.jpg
21:01:36.210 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210036.jpg
21:01:36.210 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210036.jpg (режим замены: true)
21:01:36.213 [MediaStore] Существующий файл удален (режим замены)
21:01:36.218 [URI:0116] Директория для сохранения: Pictures
21:01:36.218 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000114
21:01:36.220 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000115, обработка через 10 сек
21:01:36.221 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000171
21:01:36.224 [URI:0116] Сжатие изображения в поток
21:01:36.227 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000171
21:01:36.228 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000171, обработка через 10 сек
21:01:36.230 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:01:36.230 [URI:0114] Изображение требует обработки
21:01:36.231 [URI:0114] Начало тестового сжатия в RAM
21:01:36.231 [URI:0114] Сжатие изображения в поток
21:01:36.243 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000171
21:01:36.244 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000171, максимальное время: 2000 мс
21:01:36.247 [FileUtil] URI стал доступен через 3 мс, размер: 55062 байт
21:01:36.250 [FileUtil] Директория для сохранения: Pictures
21:01:36.250 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210036.jpg (режим замены: true)
21:01:36.250 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:36.253 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000116
21:01:36.255 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210036.jpg', включен режим замены - удаляем
21:01:36.257 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920896000
21:01:36.258 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:36.259 [FileUtil] Обработка EXIF данных: успешно
21:01:36.259 [ФАЙЛ:0118] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000170
21:01:36.259 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000118
21:01:36.259 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.261 [MediaStore] Существующий файл удален (режим замены)
21:01:36.264 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.264 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.265 [ОШИБКА:Удаление:0118] Не удалось удалить оригинальный файл
21:01:36.266 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000172
21:01:36.266 [СЖАТИЕ:0114] 142KB → 53KB (-62%)
21:01:36.266 [СЖАТИЕ:0114] 142KB → 53KB (-62.114895%)
21:01:36.266 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000114 эффективно (экономия 62.114895%), выполняем полное сжатие
21:01:36.266 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:01:36.268 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.270 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210037.jpg (23)
21:01:36.270 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210037.jpg
21:01:36.274 [URI:0114] Имя файла: IMG_20251123_210035.jpg
21:01:36.274 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_210035.jpg
21:01:36.274 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_210035.jpg (режим замены: true)
21:01:36.275 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895089 для URI: content://media/external/images/media/1000000163
21:01:36.275 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000163
21:01:36.275 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.275 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000163
21:01:36.277 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000172
21:01:36.277 Moving WorkSpec (009212ae-0316-449f-8594-2ab1649b72d2) to the foreground
21:01:36.277 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:36.278 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920896277
21:01:36.279 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000116, обработка через 10 сек
21:01:36.280 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000171
21:01:36.281 [URI:0114] Директория для сохранения: Pictures
21:01:36.283 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:36.286 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:36.286 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000172, обработка через 10 сек
21:01:36.286 Notifying with (id:1, workSpecId: 009212ae-0316-449f-8594-2ab1649b72d2, notificationType :1)
21:01:36.287 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000118
21:01:36.292 [URI:0114] Сжатие изображения в поток
21:01:36.294 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.297 Worker result SUCCESS for Work [ id=009212ae-0316-449f-8594-2ab1649b72d2, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895806_IMG_20251123_210037.jpg } ]
21:01:36.299 Processor 009212ae-0316-449f-8594-2ab1649b72d2 executed; reschedule = false
21:01:36.299 009212ae-0316-449f-8594-2ab1649b72d2 executed on JobScheduler
21:01:36.299 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=009212ae-0316-449f-8594-2ab1649b72d2, generation=0), notificationType: 1
21:01:36.303 Cancelling work ID 009212ae-0316-449f-8594-2ab1649b72d2
21:01:36.310 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000172
21:01:36.311 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000172, максимальное время: 2000 мс
21:01:36.314 [FileUtil] URI стал доступен через 3 мс, размер: 54760 байт
21:01:36.318 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920896000
21:01:36.318 [FileUtil] Директория для сохранения: Pictures
21:01:36.319 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_210035.jpg (режим замены: true)
21:01:36.319 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:01:36.321 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.323 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:36.324 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920896323
21:01:36.325 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000114
21:01:36.327 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_210035.jpg', включен режим замены - удаляем
21:01:36.328 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000172
21:01:36.329 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895339 для URI: content://media/external/images/media/1000000164
21:01:36.329 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000164
21:01:36.329 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.329 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000164
21:01:36.334 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:36.336 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:36.344 [MediaStore] Существующий файл удален (режим замены)
21:01:36.349 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000114, обработка через 10 сек
21:01:36.352 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000173
21:01:36.358 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000173
21:01:36.361 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000173, обработка через 10 сек
21:01:36.371 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.372 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.375 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000173
21:01:36.375 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000173, максимальное время: 2000 мс
21:01:36.376 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895576 для URI: content://media/external/images/media/1000000165
21:01:36.376 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000165
21:01:36.376 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.376 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000165
21:01:36.379 [FileUtil] URI стал доступен через 4 мс, размер: 55127 байт
21:01:36.385 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763920896000
21:01:36.390 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:36.391 [FileUtil] Обработка EXIF данных: успешно
21:01:36.391 [ФАЙЛ:0115] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000171
21:01:36.391 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000115
21:01:36.391 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.392 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:01:36.392 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763920896392
21:01:36.394 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000173
21:01:36.396 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.396 [ОШИБКА:Удаление:0115] Не удалось удалить оригинальный файл
21:01:36.397 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
21:01:36.397 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:01:36.399 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:01:36.399 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210035_1.jpg (24)
21:01:36.400 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210035_1.jpg
21:01:36.401 Moving WorkSpec (ae2b65a3-3780-4664-b78e-4623f23c623a) to the foreground
21:01:36.403 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000115
21:01:36.405 Notifying with (id:1, workSpecId: ae2b65a3-3780-4664-b78e-4623f23c623a, notificationType :1)
21:01:36.408 Worker result SUCCESS for Work [ id=ae2b65a3-3780-4664-b78e-4623f23c623a, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895896_IMG_20251123_210035_1.jpg } ]
21:01:36.413 Processor ae2b65a3-3780-4664-b78e-4623f23c623a executed; reschedule = false
21:01:36.413 ae2b65a3-3780-4664-b78e-4623f23c623a executed on JobScheduler
21:01:36.413 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=ae2b65a3-3780-4664-b78e-4623f23c623a, generation=0), notificationType: 1
21:01:36.414 Cancelling work ID ae2b65a3-3780-4664-b78e-4623f23c623a
21:01:36.417 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.420 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895671 для URI: content://media/external/images/media/1000000166
21:01:36.420 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000166
21:01:36.420 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.420 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000166
21:01:36.439 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:36.439 [FileUtil] Обработка EXIF данных: успешно
21:01:36.439 [ФАЙЛ:0116] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000172
21:01:36.440 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000116
21:01:36.440 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.442 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.442 [ОШИБКА:Удаление:0116] Не удалось удалить оригинальный файл
21:01:36.443 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.446 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210036.jpg (25)
21:01:36.446 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210036.jpg
21:01:36.446 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895801 для URI: content://media/external/images/media/1000000167
21:01:36.446 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000167
21:01:36.446 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.446 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000167
21:01:36.449 Moving WorkSpec (51fae9d7-f600-4d15-b7f6-ac3c08790fbc) to the foreground
21:01:36.450 Notifying with (id:1, workSpecId: 51fae9d7-f600-4d15-b7f6-ac3c08790fbc, notificationType :1)
21:01:36.450 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000116
21:01:36.453 Worker result SUCCESS for Work [ id=51fae9d7-f600-4d15-b7f6-ac3c08790fbc, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920895973_IMG_20251123_210036.jpg } ]
21:01:36.453 Processor 51fae9d7-f600-4d15-b7f6-ac3c08790fbc executed; reschedule = false
21:01:36.453 51fae9d7-f600-4d15-b7f6-ac3c08790fbc executed on JobScheduler
21:01:36.453 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=51fae9d7-f600-4d15-b7f6-ac3c08790fbc, generation=0), notificationType: 1
21:01:36.455 Cancelling work ID 51fae9d7-f600-4d15-b7f6-ac3c08790fbc
21:01:36.467 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.470 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895901 для URI: content://media/external/images/media/1000000168
21:01:36.470 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000168
21:01:36.470 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.470 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000168
21:01:36.471 [ПРОЦЕСС] Время ожидания истекло, URI не стал доступен за 2000 мс
21:01:36.472 [ПРОЦЕСС] URI не стал доступен после ожидания: content://media/external/images/media/1000000159
21:01:36.478 [ПРОЦЕСС] Сохранена исходная дата модификации: 0
21:01:36.479 [ОШИБКА:Применение EXIF из памяти:0159] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openAssetFile(ContentProviderNative.java:737)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1876)
             	at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1689)
             	at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1635)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invokeSuspend(ExifUtil.kt:503)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.applyExifFromMemory(ExifUtil.kt:495)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:823)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.handleExifForSavedImage(ExifUtil.kt:816)
             	at com.compressphotofast.util.MediaStoreUtil$saveCompressedImageFromStream$2.invokeSuspend(MediaStoreUtil.kt:341)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.480 [ПРОЦЕСС] Применение EXIF данных из памяти: неудачно
21:01:36.495 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.498 [ПРОЦЕСС] Время ожидания истекло, URI не стал доступен за 2000 мс
21:01:36.498 [ПРОЦЕСС] URI не стал доступен после ожидания: content://media/external/images/media/1000000159
21:01:36.498 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896048 для URI: content://media/external/images/media/1000000169
21:01:36.498 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000169
21:01:36.499 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.499 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000169
21:01:36.501 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:01:36.502 [FileUtil] Обработка EXIF данных: успешно
21:01:36.502 [ФАЙЛ:0114] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000173
21:01:36.502 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000114
21:01:36.502 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.505 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.505 [ОШИБКА:Удаление:0114] Не удалось удалить оригинальный файл
21:01:36.507 [ПРОЦЕСС] Сохранена исходная дата модификации: 0
21:01:36.509 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210035.jpg (26)
21:01:36.509 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210035.jpg
21:01:36.510 [ОШИБКА:Применение EXIF из памяти:0159] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openAssetFile(ContentProviderNative.java:737)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1876)
             	at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1689)
             	at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:1635)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invokeSuspend(ExifUtil.kt:503)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$applyExifFromMemory$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.applyExifFromMemory(ExifUtil.kt:495)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:823)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invoke(Unknown Source:8)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invoke(Unknown Source:4)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
             	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
             	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
             	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
             	at com.compressphotofast.util.ExifUtil.handleExifForSavedImage(ExifUtil.kt:816)
             	at com.compressphotofast.util.MediaStoreUtil$saveCompressedImageFromStream$2.invokeSuspend(MediaStoreUtil.kt:341)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.510 [ПРОЦЕСС] Применение EXIF данных из памяти: неудачно
21:01:36.512 Moving WorkSpec (1cc10c34-e356-4e2b-80d6-96d17da42b19) to the foreground
21:01:36.513 Notifying with (id:1, workSpecId: 1cc10c34-e356-4e2b-80d6-96d17da42b19, notificationType :1)
21:01:36.515 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000114
21:01:36.516 Worker result SUCCESS for Work [ id=1cc10c34-e356-4e2b-80d6-96d17da42b19, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920896119_IMG_20251123_210035.jpg } ]
21:01:36.517 Processor 1cc10c34-e356-4e2b-80d6-96d17da42b19 executed; reschedule = false
21:01:36.517 1cc10c34-e356-4e2b-80d6-96d17da42b19 executed on JobScheduler
21:01:36.518 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=1cc10c34-e356-4e2b-80d6-96d17da42b19, generation=0), notificationType: 1
21:01:36.519 Cancelling work ID 1cc10c34-e356-4e2b-80d6-96d17da42b19
21:01:36.528 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.532 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894266 для URI: content://media/external/images/media/1000000158
21:01:36.532 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000158
21:01:36.532 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.532 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000158
21:01:36.554 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.558 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894667 для URI: content://media/external/images/media/1000000160
21:01:36.559 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000160
21:01:36.559 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.559 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000160
21:01:36.582 [ОШИБКА:Верификация EXIF:0159] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:848)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.583 [FileUtil] Обработка EXIF данных: неудачно
21:01:36.583 [ФАЙЛ:0128] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000159
21:01:36.583 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000128
21:01:36.583 [ПРОЦЕСС] Удаляем файл через MediaStore (Android 10+)
21:01:36.585 [ПРОЦЕСС] Результат удаления через MediaStore: false
21:01:36.586 [ОШИБКА:Удаление:0128] Не удалось удалить оригинальный файл
21:01:36.586 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.590 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894870 для URI: content://media/external/images/media/1000000161
21:01:36.590 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000161
21:01:36.591 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.591 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000161
21:01:36.593 [ОШИБКА:Получение размера:0159] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:273)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.593 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763920891005: IMG_20251123_210042.jpg (27)
21:01:36.593 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_210042.jpg
21:01:36.596 Moving WorkSpec (d54bf914-340e-47ab-931e-3ffe4fe42b0a) to the foreground
21:01:36.598 Notifying with (id:1, workSpecId: d54bf914-340e-47ab-931e-3ffe4fe42b0a, notificationType :1)
21:01:36.598 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000128
21:01:36.601 Worker result SUCCESS for Work [ id=d54bf914-340e-47ab-931e-3ffe4fe42b0a, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763920893871_IMG_20251123_210042.jpg } ]
21:01:36.603 Processor d54bf914-340e-47ab-931e-3ffe4fe42b0a executed; reschedule = false
21:01:36.603 d54bf914-340e-47ab-931e-3ffe4fe42b0a executed on JobScheduler
21:01:36.603 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=d54bf914-340e-47ab-931e-3ffe4fe42b0a, generation=0), notificationType: 1
21:01:36.603 Stopping foreground service
21:01:36.603 Shutting down.
21:01:36.607 androidx.work.impl.background.systemalarm.RescheduleReceiver disabled
21:01:36.608 Cancelling work ID d54bf914-340e-47ab-931e-3ffe4fe42b0a
21:01:36.613 [ОШИБКА:Верификация EXIF:0159] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:848)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.613 [FileUtil] Обработка EXIF данных: неудачно
21:01:36.619 [ОШИБКА:Получение размера:0128] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000128
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:234)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.622 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.625 [ОШИБКА:Получение размера:0159] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000159
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:235)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:01:36.625 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894983 для URI: content://media/external/images/media/1000000162
21:01:36.625 [ФАЙЛ:0128] Сохранение: Изображение успешно сжато: IMG_20251123_210042.jpg, 0KB → 0KB
21:01:36.626 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000162
21:01:36.626 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.626 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000162
21:01:36.630 [NotificationUtil] Показан Toast: 🖼️ IMG_20251123_210042.jpg: 0 B → 0 B (-0%)
21:01:36.637 Failed to get type for: content://media/external/images/media/1000000129 (No item at content://media/external/images/media/1000000129)
21:01:36.643 [URI:0129] URI не существует
21:01:36.644 [ОШИБКА:Обработка:0129] Недействительный URI
21:01:36.655 Failed to get type for: content://media/external/images/media/1000000124 (No item at content://media/external/images/media/1000000124)
21:01:36.665 [URI:0124] URI не существует
21:01:36.665 [ОШИБКА:Обработка:0124] Недействительный URI
21:01:36.669 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.675 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893313 для URI: content://media/external/images/media/1000000151
21:01:36.675 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000151
21:01:36.675 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.676 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000151
21:01:36.677 Failed to get type for: content://media/external/images/media/1000000125 (No item at content://media/external/images/media/1000000125)
21:01:36.686 [URI:0125] URI не существует
21:01:36.687 [ОШИБКА:Обработка:0125] Недействительный URI
21:01:36.698 Failed to get type for: content://media/external/images/media/1000000126 (No item at content://media/external/images/media/1000000126)
21:01:36.704 [URI:0126] URI не существует
21:01:36.704 [ОШИБКА:Обработка:0126] Недействительный URI
21:01:36.709 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.712 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893509 для URI: content://media/external/images/media/1000000152
21:01:36.712 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000152
21:01:36.713 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.713 Failed to get type for: content://media/external/images/media/1000000122 (No item at content://media/external/images/media/1000000122)
21:01:36.713 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000152
21:01:36.721 [URI:0122] URI не существует
21:01:36.722 [ОШИБКА:Обработка:0122] Недействительный URI
21:01:36.749 Failed to get type for: content://media/external/images/media/1000000123 (No item at content://media/external/images/media/1000000123)
21:01:36.752 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.759 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893677 для URI: content://media/external/images/media/1000000153
21:01:36.760 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000153
21:01:36.760 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.761 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000153
21:01:36.761 [URI:0123] URI не существует
21:01:36.761 [ОШИБКА:Обработка:0123] Недействительный URI
21:01:36.777 Failed to get type for: content://media/external/images/media/1000000120 (No item at content://media/external/images/media/1000000120)
21:01:36.791 [URI:0120] URI не существует
21:01:36.791 [ОШИБКА:Обработка:0120] Недействительный URI
21:01:36.804 Failed to get type for: content://media/external/images/media/1000000121 (No item at content://media/external/images/media/1000000121)
21:01:36.812 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.817 [URI:0121] URI не существует
21:01:36.818 [ОШИБКА:Обработка:0121] Недействительный URI
21:01:36.820 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893770 для URI: content://media/external/images/media/1000000154
21:01:36.820 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000154
21:01:36.820 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.820 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000154
21:01:36.837 Failed to get type for: content://media/external/images/media/1000000119 (No item at content://media/external/images/media/1000000119)
21:01:36.844 [URI:0119] URI не существует
21:01:36.845 [ОШИБКА:Обработка:0119] Недействительный URI
21:01:36.856 Failed to get type for: content://media/external/images/media/1000000117 (No item at content://media/external/images/media/1000000117)
21:01:36.861 [URI:0117] URI не существует
21:01:36.862 [ОШИБКА:Обработка:0117] Недействительный URI
21:01:36.874 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.876 Failed to get type for: content://media/external/images/media/1000000118 (No item at content://media/external/images/media/1000000118)
21:01:36.877 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893909 для URI: content://media/external/images/media/1000000155
21:01:36.878 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000155
21:01:36.879 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.879 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000155
21:01:36.886 [URI:0118] URI не существует
21:01:36.886 [ОШИБКА:Обработка:0118] Недействительный URI
21:01:36.897 Failed to get type for: content://media/external/images/media/1000000115 (No item at content://media/external/images/media/1000000115)
21:01:36.900 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210043.jpg
21:01:36.900 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:36.900 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000156
21:01:36.906 [URI:0115] URI не существует
21:01:36.906 [ОШИБКА:Обработка:0115] Недействительный URI
21:01:36.916 Failed to get type for: content://media/external/images/media/1000000116 (No item at content://media/external/images/media/1000000116)
21:01:36.925 [URI:0116] URI не существует
21:01:36.925 [ОШИБКА:Обработка:0116] Недействительный URI
21:01:36.933 Failed to get type for: content://media/external/images/media/1000000114 (No item at content://media/external/images/media/1000000114)
21:01:36.940 [URI:0114] URI не существует
21:01:36.940 [ОШИБКА:Обработка:0114] Недействительный URI
21:01:36.942 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.947 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894108 для URI: content://media/external/images/media/1000000157
21:01:36.947 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000157
21:01:36.947 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.947 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000157
21:01:36.994 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:36.999 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892267 для URI: content://media/external/images/media/1000000145
21:01:36.999 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000145
21:01:36.999 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:36.999 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000145
21:01:37.031 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.034 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892381 для URI: content://media/external/images/media/1000000146
21:01:37.035 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000146
21:01:37.035 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.035 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000146
21:01:37.048 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210047.jpg
21:01:37.049 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:37.049 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000148
21:01:37.076 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.080 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893065 для URI: content://media/external/images/media/1000000149
21:01:37.080 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000149
21:01:37.080 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.080 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000149
21:01:37.105 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.108 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893092 для URI: content://media/external/images/media/1000000150
21:01:37.109 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000150
21:01:37.109 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.109 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000150
21:01:37.130 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.133 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920891271 для URI: content://media/external/images/media/1000000143
21:01:37.133 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000143
21:01:37.133 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.133 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000143
21:01:37.161 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.165 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892057 для URI: content://media/external/images/media/1000000144
21:01:37.165 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000144
21:01:37.165 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.165 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000144
21:01:37.165 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 0, Пропущено: 29
21:01:37.167 [ПРОЦЕСС] BackgroundMonitoringService: сканирование завершено. Обработано: 0, Пропущено: 29
21:01:37.171 [ПРОЦЕСС] GalleryScanUtil: найдено 29 изображений за последние 5 минут
21:01:37.173 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 29 URI
21:01:37.173 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000170
21:01:37.173 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000163
21:01:37.173 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000164
21:01:37.174 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000165
21:01:37.174 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000166
21:01:37.174 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000167
21:01:37.175 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000168
21:01:37.175 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000169
21:01:37.175 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000158
21:01:37.175 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000160
21:01:37.175 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000161
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000162
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000151
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000152
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000153
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000154
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000155
21:01:37.176 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000156
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000157
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000145
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000146
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000148
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000149
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000150
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000143
21:01:37.177 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000144
21:01:37.182 [ПРОЦЕСС] Пакетное получение метаданных завершено: 29 URI, 3 запросов к MediaStore
21:01:37.204 Background concurrent mark compact GC freed 5672KB AllocSpace bytes, 37(1652KB) LOS objects, 49% free, 5351KB/10MB, paused 303us,5.033ms total 30.124ms
21:01:37.214 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000170
21:01:37.214 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.214 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.214 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000170
21:01:37.239 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.243 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896277 для URI: content://media/external/images/media/1000000171
21:01:37.244 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000171
21:01:37.244 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.244 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000171
21:01:37.268 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.272 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896323 для URI: content://media/external/images/media/1000000172
21:01:37.272 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000172
21:01:37.272 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.272 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000172
21:01:37.296 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:01:37.301 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896392 для URI: content://media/external/images/media/1000000173
21:01:37.301 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000173
21:01:37.301 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.301 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000173
21:01:37.347 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000163
21:01:37.347 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.347 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.348 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000163
21:01:37.390 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000164
21:01:37.390 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.391 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.391 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000164
21:01:37.422 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000165
21:01:37.422 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.422 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.422 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000165
21:01:37.449 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000166
21:01:37.449 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.449 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.449 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000166
21:01:37.496 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000167
21:01:37.497 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.498 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.498 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000167
21:01:37.565 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000168
21:01:37.566 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.567 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.567 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000168
21:01:37.628 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000169
21:01:37.629 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.629 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.629 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000169
21:01:37.680 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000158
21:01:37.680 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.680 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.680 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000158
21:01:37.713 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000160
21:01:37.713 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.713 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.713 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000160
21:01:37.748 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000161
21:01:37.748 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.748 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.748 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000161
21:01:37.792 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000162
21:01:37.792 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.792 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.792 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000162
21:01:37.870 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000151
21:01:37.871 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.872 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.873 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000151
21:01:37.930 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000152
21:01:37.931 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.931 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.931 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000152
21:01:37.976 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000153
21:01:37.976 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:37.977 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:37.977 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000153
21:01:38.051 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000154
21:01:38.051 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.051 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.051 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000154
21:01:38.109 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000155
21:01:38.110 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.111 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.111 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000155
21:01:38.141 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210043.jpg
21:01:38.142 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:38.143 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000156
21:01:38.243 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000157
21:01:38.245 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.247 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.249 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000157
21:01:38.350 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000145
21:01:38.351 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.353 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.354 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000145
21:01:38.447 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000146
21:01:38.448 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.449 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.449 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000146
21:01:38.504 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210047.jpg
21:01:38.506 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:38.508 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000148
21:01:38.591 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000149
21:01:38.591 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.592 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.592 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000149
21:01:38.631 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000150
21:01:38.632 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.632 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.632 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000150
21:01:38.666 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000143
21:01:38.666 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.666 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.666 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000143
21:01:38.692 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000144
21:01:38.692 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:38.692 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:38.692 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000144
21:01:38.692 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 0, Пропущено: 29
21:01:38.695 [ПРОЦЕСС] BackgroundMonitoringService: сканирование завершено. Обработано: 0, Пропущено: 29
21:01:41.083 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000142 после задержки
21:01:41.088 Failed to get type for: content://media/external/images/media/1000000142 (No item at content://media/external/images/media/1000000142)
21:01:41.097 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000142
21:01:41.112 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000143 после задержки
21:01:41.117 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000143
21:01:41.118 [URI:0143] URI scheme: content, authority: media, path: /external/images/media/1000000143
21:01:41.124 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000143 (всего: 30)
21:01:41.156 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000143
21:01:41.157 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:41.157 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:41.157 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000143 (осталось: 29)
21:01:41.158 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:41.913 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000140 после задержки
21:01:41.918 Failed to get type for: content://media/external/images/media/1000000140 (No item at content://media/external/images/media/1000000140)
21:01:41.926 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000140
21:01:41.943 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000144 после задержки
21:01:41.949 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000144
21:01:41.950 [URI:0144] URI scheme: content, authority: media, path: /external/images/media/1000000144
21:01:41.955 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000144 (всего: 30)
21:01:41.984 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000144
21:01:41.984 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:41.984 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:41.985 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000144 (осталось: 29)
21:01:41.985 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:42.149 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000141 после задержки
21:01:42.153 Failed to get type for: content://media/external/images/media/1000000141 (No item at content://media/external/images/media/1000000141)
21:01:42.161 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000141
21:01:42.171 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000145 после задержки
21:01:42.177 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000145
21:01:42.178 [URI:0145] URI scheme: content, authority: media, path: /external/images/media/1000000145
21:01:42.181 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000145 (всего: 30)
21:01:42.212 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000145
21:01:42.212 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:42.212 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:42.212 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000145 (осталось: 29)
21:01:42.213 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:42.226 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000138 после задержки
21:01:42.229 Failed to get type for: content://media/external/images/media/1000000138 (No item at content://media/external/images/media/1000000138)
21:01:42.236 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000138
21:01:42.322 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000146 после задержки
21:01:42.328 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000146
21:01:42.329 [URI:0146] URI scheme: content, authority: media, path: /external/images/media/1000000146
21:01:42.333 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000146 (всего: 30)
21:01:42.364 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000146
21:01:42.364 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:42.364 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:42.364 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000146 (осталось: 29)
21:01:42.365 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:42.660 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000139 после задержки
21:01:42.663 Failed to get type for: content://media/external/images/media/1000000139 (No item at content://media/external/images/media/1000000139)
21:01:42.669 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000139
21:01:42.670 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000147 после задержки
21:01:42.673 Failed to get type for: content://media/external/images/media/1000000147 (No item at content://media/external/images/media/1000000147)
21:01:42.679 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000147
21:01:42.743 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000148 после задержки
21:01:42.750 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000148
21:01:42.750 [URI:0148] URI scheme: content, authority: media, path: /external/images/media/1000000148
21:01:42.756 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000148 (всего: 30)
21:01:42.773 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210047.jpg
21:01:42.773 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:42.773 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000148 (осталось: 29)
21:01:42.774 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:42.954 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000136 после задержки
21:01:42.957 Failed to get type for: content://media/external/images/media/1000000136 (No item at content://media/external/images/media/1000000136)
21:01:42.963 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000136
21:01:42.983 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000137 после задержки
21:01:42.985 Failed to get type for: content://media/external/images/media/1000000137 (No item at content://media/external/images/media/1000000137)
21:01:42.993 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000137
21:01:42.995 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000149 после задержки
21:01:43.001 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000149
21:01:43.001 [URI:0149] URI scheme: content, authority: media, path: /external/images/media/1000000149
21:01:43.007 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000149 (всего: 30)
21:01:43.017 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000150 после задержки
21:01:43.037 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000149
21:01:43.037 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.037 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.038 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000149 (осталось: 29)
21:01:43.038 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.039 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000150
21:01:43.039 [URI:0150] URI scheme: content, authority: media, path: /external/images/media/1000000150
21:01:43.043 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000150 (всего: 30)
21:01:43.068 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000150
21:01:43.068 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.069 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.069 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000150 (осталось: 29)
21:01:43.070 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.171 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000135 после задержки
21:01:43.175 Failed to get type for: content://media/external/images/media/1000000135 (No item at content://media/external/images/media/1000000135)
21:01:43.183 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000135
21:01:43.197 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000151 после задержки
21:01:43.203 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000151
21:01:43.203 [URI:0151] URI scheme: content, authority: media, path: /external/images/media/1000000151
21:01:43.209 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000151 (всего: 30)
21:01:43.236 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000151
21:01:43.236 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.236 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.237 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000151 (осталось: 29)
21:01:43.237 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.392 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000132 после задержки
21:01:43.396 Failed to get type for: content://media/external/images/media/1000000132 (No item at content://media/external/images/media/1000000132)
21:01:43.405 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000132
21:01:43.411 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000152 после задержки
21:01:43.418 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000152
21:01:43.418 [URI:0152] URI scheme: content, authority: media, path: /external/images/media/1000000152
21:01:43.424 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000152 (всего: 30)
21:01:43.457 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000152
21:01:43.457 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.457 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.457 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000152 (осталось: 29)
21:01:43.458 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.516 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000133 после задержки
21:01:43.520 Failed to get type for: content://media/external/images/media/1000000133 (No item at content://media/external/images/media/1000000133)
21:01:43.527 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000133
21:01:43.611 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000153 после задержки
21:01:43.615 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000153
21:01:43.615 [URI:0153] URI scheme: content, authority: media, path: /external/images/media/1000000153
21:01:43.619 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000153 (всего: 30)
21:01:43.647 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000153
21:01:43.647 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.647 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.647 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000153 (осталось: 29)
21:01:43.648 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.659 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000134 после задержки
21:01:43.663 Failed to get type for: content://media/external/images/media/1000000134 (No item at content://media/external/images/media/1000000134)
21:01:43.669 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000134
21:01:43.687 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000154 после задержки
21:01:43.692 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000154
21:01:43.692 [URI:0154] URI scheme: content, authority: media, path: /external/images/media/1000000154
21:01:43.695 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000154 (всего: 30)
21:01:43.721 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000154
21:01:43.721 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.721 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.721 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000154 (осталось: 29)
21:01:43.721 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.803 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000130 после задержки
21:01:43.807 Failed to get type for: content://media/external/images/media/1000000130 (No item at content://media/external/images/media/1000000130)
21:01:43.814 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000130
21:01:43.822 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000155 после задержки
21:01:43.826 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000155
21:01:43.827 [URI:0155] URI scheme: content, authority: media, path: /external/images/media/1000000155
21:01:43.832 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000155 (всего: 30)
21:01:43.861 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000155
21:01:43.861 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:43.862 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:43.862 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000155 (осталось: 29)
21:01:43.862 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.865 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000156 после задержки
21:01:43.870 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000156
21:01:43.871 [URI:0156] URI scheme: content, authority: media, path: /external/images/media/1000000156
21:01:43.875 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000156 (всего: 30)
21:01:43.887 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210043.jpg
21:01:43.887 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:01:43.887 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000156 (осталось: 29)
21:01:43.888 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:43.972 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000131 после задержки
21:01:43.976 Failed to get type for: content://media/external/images/media/1000000131 (No item at content://media/external/images/media/1000000131)
21:01:43.983 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000131
21:01:44.001 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000157 после задержки
21:01:44.005 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000157
21:01:44.006 [URI:0157] URI scheme: content, authority: media, path: /external/images/media/1000000157
21:01:44.010 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000157 (всего: 30)
21:01:44.035 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000157
21:01:44.035 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:44.035 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:44.035 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000157 (осталось: 29)
21:01:44.036 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:44.101 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000127 после задержки
21:01:44.105 Failed to get type for: content://media/external/images/media/1000000127 (No item at content://media/external/images/media/1000000127)
21:01:44.112 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000127
21:01:44.139 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000158 после задержки
21:01:44.145 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000158
21:01:44.146 [URI:0158] URI scheme: content, authority: media, path: /external/images/media/1000000158
21:01:44.152 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000158 (всего: 30)
21:01:44.187 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000158
21:01:44.187 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:44.187 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:44.188 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000158 (осталось: 29)
21:01:44.188 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:44.374 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000128 после задержки
21:01:44.378 Failed to get type for: content://media/external/images/media/1000000128 (No item at content://media/external/images/media/1000000128)
21:01:44.385 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000128
21:01:44.389 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000159 после задержки
21:01:44.392 Failed to get type for: content://media/external/images/media/1000000159 (No item at content://media/external/images/media/1000000159)
21:01:44.400 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000159
21:01:44.535 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000129 после задержки
21:01:44.538 Failed to get type for: content://media/external/images/media/1000000129 (No item at content://media/external/images/media/1000000129)
21:01:44.545 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000129
21:01:44.569 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000160 после задержки
21:01:44.574 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000160
21:01:44.574 [URI:0160] URI scheme: content, authority: media, path: /external/images/media/1000000160
21:01:44.578 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000160 (всего: 30)
21:01:44.615 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000160
21:01:44.616 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:44.616 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:44.616 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000160 (осталось: 29)
21:01:44.617 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:44.855 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000124 после задержки
21:01:44.859 Failed to get type for: content://media/external/images/media/1000000124 (No item at content://media/external/images/media/1000000124)
21:01:44.866 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000124
21:01:44.867 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000161 после задержки
21:01:44.872 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000161
21:01:44.873 [URI:0161] URI scheme: content, authority: media, path: /external/images/media/1000000161
21:01:44.879 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000161 (всего: 30)
21:01:44.916 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000161
21:01:44.916 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:44.916 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:44.916 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000161 (осталось: 29)
21:01:44.917 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:44.927 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000125 после задержки
21:01:44.930 Failed to get type for: content://media/external/images/media/1000000125 (No item at content://media/external/images/media/1000000125)
21:01:44.936 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000125
21:01:44.949 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000162 после задержки
21:01:44.954 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000162
21:01:44.955 [URI:0162] URI scheme: content, authority: media, path: /external/images/media/1000000162
21:01:44.961 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000162 (всего: 30)
21:01:44.990 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000162
21:01:44.990 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:44.990 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:44.990 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000162 (осталось: 29)
21:01:44.991 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.042 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000126 после задержки
21:01:45.046 Failed to get type for: content://media/external/images/media/1000000126 (No item at content://media/external/images/media/1000000126)
21:01:45.052 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000126
21:01:45.060 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000163 после задержки
21:01:45.065 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000163
21:01:45.065 [URI:0163] URI scheme: content, authority: media, path: /external/images/media/1000000163
21:01:45.069 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000163 (всего: 30)
21:01:45.102 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000163
21:01:45.102 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:45.102 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:45.102 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000163 (осталось: 29)
21:01:45.103 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.206 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000122 после задержки
21:01:45.209 Failed to get type for: content://media/external/images/media/1000000122 (No item at content://media/external/images/media/1000000122)
21:01:45.216 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000122
21:01:45.237 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000164 после задержки
21:01:45.243 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000164
21:01:45.243 [URI:0164] URI scheme: content, authority: media, path: /external/images/media/1000000164
21:01:45.249 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000164 (всего: 30)
21:01:45.283 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000164
21:01:45.283 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:45.284 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:45.284 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000164 (осталось: 29)
21:01:45.285 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.395 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000123 после задержки
21:01:45.399 Failed to get type for: content://media/external/images/media/1000000123 (No item at content://media/external/images/media/1000000123)
21:01:45.405 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000123
21:01:45.437 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000165 после задержки
21:01:45.443 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000165
21:01:45.444 [URI:0165] URI scheme: content, authority: media, path: /external/images/media/1000000165
21:01:45.448 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000165 (всего: 30)
21:01:45.480 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000165
21:01:45.480 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:45.480 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:45.481 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000165 (осталось: 29)
21:01:45.481 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.491 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000120 после задержки
21:01:45.496 Failed to get type for: content://media/external/images/media/1000000120 (No item at content://media/external/images/media/1000000120)
21:01:45.504 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000120
21:01:45.524 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000166 после задержки
21:01:45.529 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000166
21:01:45.529 [URI:0166] URI scheme: content, authority: media, path: /external/images/media/1000000166
21:01:45.533 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000166 (всего: 30)
21:01:45.559 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000166
21:01:45.559 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:45.559 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:45.560 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000166 (осталось: 29)
21:01:45.560 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.708 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000121 после задержки
21:01:45.712 Failed to get type for: content://media/external/images/media/1000000121 (No item at content://media/external/images/media/1000000121)
21:01:45.720 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000121
21:01:45.722 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000167 после задержки
21:01:45.726 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000167
21:01:45.727 [URI:0167] URI scheme: content, authority: media, path: /external/images/media/1000000167
21:01:45.732 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000167 (всего: 30)
21:01:45.768 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000167
21:01:45.768 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:45.769 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:45.769 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000167 (осталось: 29)
21:01:45.770 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.864 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000119 после задержки
21:01:45.868 Failed to get type for: content://media/external/images/media/1000000119 (No item at content://media/external/images/media/1000000119)
21:01:45.875 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000119
21:01:45.880 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000168 после задержки
21:01:45.889 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000168
21:01:45.889 [URI:0168] URI scheme: content, authority: media, path: /external/images/media/1000000168
21:01:45.898 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000168 (всего: 30)
21:01:45.934 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000168
21:01:45.934 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:45.934 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:45.934 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000168 (осталось: 29)
21:01:45.935 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:45.971 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000117 после задержки
21:01:45.975 Failed to get type for: content://media/external/images/media/1000000117 (No item at content://media/external/images/media/1000000117)
21:01:45.983 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000117
21:01:45.984 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000169 после задержки
21:01:45.989 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000169
21:01:45.989 [URI:0169] URI scheme: content, authority: media, path: /external/images/media/1000000169
21:01:45.995 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000169 (всего: 30)
21:01:46.023 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000169
21:01:46.023 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:46.023 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:46.024 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000169 (осталось: 29)
21:01:46.024 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:46.082 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000118 после задержки
21:01:46.087 Failed to get type for: content://media/external/images/media/1000000118 (No item at content://media/external/images/media/1000000118)
21:01:46.093 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000118
21:01:46.094 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000170 после задержки
21:01:46.099 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000170
21:01:46.099 [URI:0170] URI scheme: content, authority: media, path: /external/images/media/1000000170
21:01:46.103 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000170 (всего: 30)
21:01:46.133 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000170
21:01:46.134 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:46.134 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:46.134 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000170 (осталось: 29)
21:01:46.134 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:46.221 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000115 после задержки
21:01:46.224 Failed to get type for: content://media/external/images/media/1000000115 (No item at content://media/external/images/media/1000000115)
21:01:46.229 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000115
21:01:46.229 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000171 после задержки
21:01:46.234 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000171
21:01:46.234 [URI:0171] URI scheme: content, authority: media, path: /external/images/media/1000000171
21:01:46.239 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000171 (всего: 30)
21:01:46.269 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000171
21:01:46.269 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:46.269 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:46.269 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000171 (осталось: 29)
21:01:46.269 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:46.279 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000116 после задержки
21:01:46.283 Failed to get type for: content://media/external/images/media/1000000116 (No item at content://media/external/images/media/1000000116)
21:01:46.289 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000116
21:01:46.290 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000172 после задержки
21:01:46.297 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000172
21:01:46.297 [URI:0172] URI scheme: content, authority: media, path: /external/images/media/1000000172
21:01:46.300 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000172 (всего: 30)
21:01:46.339 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000172
21:01:46.339 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:46.339 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:46.339 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000172 (осталось: 29)
21:01:46.339 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:01:46.350 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000114 после задержки
21:01:46.352 Failed to get type for: content://media/external/images/media/1000000114 (No item at content://media/external/images/media/1000000114)
21:01:46.358 [ПРОЦЕСС] MediaStoreObserver: URI не существует, пропускаем обработку: content://media/external/images/media/1000000114
21:01:46.362 [ПРОЦЕСС] MediaStoreObserver: начинаем обработку URI content://media/external/images/media/1000000173 после задержки
21:01:46.366 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000173
21:01:46.366 [URI:0173] URI scheme: content, authority: media, path: /external/images/media/1000000173
21:01:46.371 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000173 (всего: 30)
21:01:46.398 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000173
21:01:46.398 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:01:46.398 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:01:46.398 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000173 (осталось: 29)
21:01:46.399 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Изображение уже оптимизировано
21:02:28.185 [ПРОЦЕСС] Запуск периодического сканирования галереи
21:02:28.201 [ПРОЦЕСС] GalleryScanUtil: найдено 29 изображений за последние 5 минут
21:02:28.203 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 29 URI
21:02:28.204 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000170
21:02:28.204 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000171
21:02:28.204 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000172
21:02:28.204 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000173
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000163
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000164
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000165
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000166
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000167
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000168
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000169
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000158
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000160
21:02:28.205 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000161
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000162
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000151
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000152
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000153
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000154
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000155
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000156
21:02:28.206 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000157
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000145
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000146
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000148
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000149
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000150
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000143
21:02:28.207 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000144
21:02:28.241 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000170
21:02:28.241 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.241 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.241 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000170
21:02:28.273 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000171
21:02:28.273 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.273 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.273 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000171
21:02:28.306 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000172
21:02:28.306 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.306 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.306 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000172
21:02:28.330 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000173
21:02:28.330 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.330 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.340 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000173
21:02:28.364 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000163
21:02:28.364 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.364 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.364 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000163
21:02:28.393 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000164
21:02:28.393 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.393 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.393 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000164
21:02:28.415 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000165
21:02:28.415 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.415 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.415 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000165
21:02:28.441 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000166
21:02:28.442 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.442 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.442 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000166
21:02:28.472 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000167
21:02:28.473 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.473 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.474 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000167
21:02:28.499 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000168
21:02:28.499 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.500 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.500 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000168
21:02:28.533 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000169
21:02:28.533 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.533 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.533 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000169
21:02:28.565 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000158
21:02:28.565 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.565 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.565 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000158
21:02:28.593 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000160
21:02:28.593 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.593 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.593 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000160
21:02:28.620 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000161
21:02:28.620 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.620 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.620 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000161
21:02:28.651 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000162
21:02:28.651 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.651 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.652 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000162
21:02:28.688 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000151
21:02:28.688 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.688 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.689 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000151
21:02:28.716 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000152
21:02:28.716 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.716 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.716 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000152
21:02:28.744 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000153
21:02:28.744 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.744 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.744 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000153
21:02:28.792 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000154
21:02:28.793 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.793 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.793 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000154
21:02:28.841 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000155
21:02:28.841 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.841 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.842 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000155
21:02:28.853 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210043.jpg
21:02:28.853 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:02:28.853 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000156
21:02:28.880 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000157
21:02:28.880 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.880 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.881 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000157
21:02:28.909 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000145
21:02:28.909 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.909 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.909 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000145
21:02:28.944 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000146
21:02:28.944 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.944 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.945 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000146
21:02:28.966 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210047.jpg
21:02:28.966 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:02:28.966 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000148
21:02:28.995 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000149
21:02:28.995 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:28.995 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:28.995 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000149
21:02:29.014 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000150
21:02:29.014 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:29.014 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:29.015 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000150
21:02:29.032 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000143
21:02:29.032 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:29.033 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:29.033 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000143
21:02:29.053 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000144
21:02:29.053 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:02:29.053 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:02:29.053 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000144
21:02:29.053 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 0, Пропущено: 29
21:02:29.055 [ПРОЦЕСС] BackgroundMonitoringService: сканирование завершено. Обработано: 0, Пропущено: 29
21:02:36.599 [ПРОЦЕСС] Истек таймаут для батча: auto_batch_1_1763920891005
21:02:36.600 [ПРОЦЕСС] Обработан батч auto_batch_1_1763920891005: 27 результатов
21:02:36.612 [NotificationUtil] Показано summary notification: 📦 Сжато 27 фото
21:02:36.613 [ПРОЦЕСС] Показан групповой результат: 27 файлов (27 успешно, 0 пропущено)
21:02:36.620 [NotificationUtil] Показан Toast: Сжато 27 фото: 3.7 MB → 1.3 MB (-64.5%)
