--------- beginning of main
--------- beginning of system
21:43:18.436 Opening libGLESv1_CM_emulation.so
21:43:18.439 Opening libGLESv2_emulation.so
21:43:18.459 Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...
21:43:18.459 Failed to initialize 101010-2 format, error = EGL_SUCCESS
21:43:20.036 app_time_stats: avg=165.60ms min=4.52ms max=1346.70ms count=9
21:43:24.546 [ПРОЦЕСС] Автоматическое сжатие: включено
21:43:24.547 [ПРОЦЕСС] setupBackgroundService: автоматическое сжатие включено
21:43:24.552 [ПРОЦЕСС] ImageDetectionJobService: начало планирования задания
21:43:24.554 [ПРОЦЕСС] ImageDetectionJobService: состояние автоматического сжатия: включено
21:43:24.555 [ПРОЦЕСС] ImageDetectionJobService: создан триггер для MediaStore
21:43:24.558 [ПРОЦЕСС] ImageDetectionJobService: создан JobInfo с параметрами: maxDelay=15000, updateDelay=0
21:43:24.560 app_time_stats: avg=282.62ms min=13.13ms max=4273.84ms count=16
21:43:24.562 [ПРОЦЕСС] ImageDetectionJobService: задание успешно запланировано
21:43:24.562 [ПРОЦЕСС] setupBackgroundService: JobService запланирован
21:43:24.563 [ПРОЦЕСС] setupBackgroundService: запуск как foreground сервис (Android O+)
21:43:24.567 [ПРОЦЕСС] Фоновые сервисы запущены успешно
21:43:24.592 [ПРОЦЕСС] BackgroundMonitoringService: onCreate
21:43:24.631 [ПРОЦЕСС] MediaStoreObserver: ContentObserver зарегистрирован для MediaStore.Images.Media.EXTERNAL_CONTENT_URI
21:43:24.634 [ПРОЦЕСС] BackgroundMonitoringService: зарегистрирован BroadcastReceiver для ACTION_PROCESS_IMAGE
21:43:24.636 [ПРОЦЕСС] BackgroundMonitoringService: состояние автоматического сжатия: включено
21:43:24.636 [ПРОЦЕСС] BackgroundMonitoringService: периодическое сканирование запущено
21:43:24.636 [ПРОЦЕСС] BackgroundMonitoringService: периодическая очистка временных файлов запущена
21:43:24.637 [ПРОЦЕСС] BackgroundMonitoringService: onStartCommand(startId=1)
21:43:24.637 [ПРОЦЕСС] BackgroundMonitoringService: запуск первоначального сканирования
21:43:24.647 [ПРОЦЕСС] Запуск периодического сканирования галереи
21:43:24.647 [ПРОЦЕСС] Запуск периодической очистки временных файлов
21:43:24.656 [ПРОЦЕСС] GalleryScanUtil: найдено 166 изображений за последние 1440 минут
21:43:24.664 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 166 URI
21:43:24.670 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.701 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000305
21:43:24.732 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.738 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000303
21:43:24.748 [ПРОЦЕСС] Пакетное получение метаданных завершено: 166 URI, 166 запросов к MediaStore
21:43:24.771 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.775 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000304
21:43:24.778 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000305
21:43:24.779 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.803 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.806 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000303
21:43:24.807 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.808 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000301
21:43:24.829 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000304
21:43:24.829 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.839 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.844 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000302
21:43:24.881 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000301
21:43:24.881 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.899 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.911 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000299
21:43:24.923 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000302
21:43:24.924 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.943 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.946 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000300
21:43:24.955 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000299
21:43:24.955 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.979 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:24.982 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000300
21:43:24.982 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:24.983 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000296
21:43:25.025 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.025 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000296
21:43:25.025 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.028 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000297
21:43:25.061 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.065 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000298
21:43:25.071 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000297
21:43:25.073 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.099 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.104 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000294
21:43:25.108 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000298
21:43:25.109 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.138 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.140 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000294
21:43:25.141 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.143 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000295
21:43:25.164 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000295
21:43:25.164 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.171 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.176 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000291
21:43:25.197 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000291
21:43:25.197 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.209 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.213 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000292
21:43:25.229 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000292
21:43:25.229 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.244 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.248 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000293
21:43:25.260 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000293
21:43:25.260 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.276 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.279 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000289
21:43:25.287 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000289
21:43:25.287 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.311 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.314 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.314 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000290
21:43:25.318 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000290
21:43:25.350 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.352 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.357 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000287
21:43:25.358 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000287
21:43:25.392 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.392 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.395 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000288
21:43:25.396 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000288
21:43:25.438 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.440 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.442 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000284
21:43:25.448 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000284
21:43:25.468 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.471 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000285
21:43:25.475 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000285
21:43:25.475 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.495 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.497 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000286
21:43:25.501 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000286
21:43:25.501 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:25.521 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.523 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.524 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000282
21:43:25.525 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000282
21:43:25.546 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.547 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.550 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000283
21:43:25.551 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000283
21:43:25.574 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.574 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.577 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000279
21:43:25.577 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000279
21:43:25.598 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.600 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.601 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000280
21:43:25.602 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000280
21:43:25.622 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.623 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.625 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000281
21:43:25.626 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000281
21:43:25.681 Background concurrent mark compact GC freed 3537KB AllocSpace bytes, 2(104KB) LOS objects, 49% free, 5203KB/10MB, paused 370us,13.628ms total 58.004ms
21:43:25.686 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.686 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.689 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000277
21:43:25.693 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000277
21:43:25.718 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.719 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.722 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000278
21:43:25.722 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000278
21:43:25.746 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.748 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.749 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000275
21:43:25.751 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000275
21:43:25.771 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.771 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.774 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000276
21:43:25.774 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000276
21:43:25.794 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.796 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.797 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000273
21:43:25.800 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000273
21:43:25.818 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.820 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.820 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000274
21:43:25.824 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000274
21:43:25.841 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.843 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.844 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000271
21:43:25.846 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000271
21:43:25.870 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.873 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.874 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000272
21:43:25.876 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000272
21:43:25.897 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.899 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.901 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000269
21:43:25.903 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000269
21:43:25.926 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.927 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.928 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000270
21:43:25.929 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000270
21:43:25.949 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.951 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.952 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000267
21:43:25.953 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000267
21:43:25.975 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:25.977 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000268
21:43:25.979 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000268
21:43:25.979 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:26.003 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.003 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.006 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000266
21:43:26.006 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000266
21:43:26.025 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.025 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.028 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032227 для URI: content://media/external/images/media/1000000263
21:43:26.028 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032227 для URI: content://media/external/images/media/1000000263
21:43:26.029 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000263
21:43:26.029 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000263
21:43:26.029 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.029 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.029 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000263
21:43:26.050 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.052 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032336 для URI: content://media/external/images/media/1000000264
21:43:26.052 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.052 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000264
21:43:26.052 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.055 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032336 для URI: content://media/external/images/media/1000000264
21:43:26.056 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000264
21:43:26.056 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.056 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000264
21:43:26.076 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.078 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.080 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032401 для URI: content://media/external/images/media/1000000265
21:43:26.080 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000265
21:43:26.080 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.082 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032401 для URI: content://media/external/images/media/1000000265
21:43:26.082 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000265
21:43:26.082 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.082 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000265
21:43:26.103 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.105 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.106 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031336 для URI: content://media/external/images/media/1000000256
21:43:26.106 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000256
21:43:26.106 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.108 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031336 для URI: content://media/external/images/media/1000000256
21:43:26.108 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000256
21:43:26.108 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.108 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000256
21:43:26.128 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.130 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031386 для URI: content://media/external/images/media/1000000257
21:43:26.130 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000257
21:43:26.130 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.130 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.134 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031386 для URI: content://media/external/images/media/1000000257
21:43:26.134 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000257
21:43:26.134 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.134 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000257
21:43:26.151 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.152 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.154 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031531 для URI: content://media/external/images/media/1000000258
21:43:26.154 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000258
21:43:26.154 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.154 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000258
21:43:26.155 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031531 для URI: content://media/external/images/media/1000000258
21:43:26.155 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000258
21:43:26.155 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.171 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.172 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.174 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031601 для URI: content://media/external/images/media/1000000259
21:43:26.174 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000259
21:43:26.174 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.174 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000259
21:43:26.175 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031601 для URI: content://media/external/images/media/1000000259
21:43:26.175 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000259
21:43:26.175 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.196 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.197 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.200 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031844 для URI: content://media/external/images/media/1000000260
21:43:26.200 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000260
21:43:26.200 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.200 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000260
21:43:26.200 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922031844 для URI: content://media/external/images/media/1000000260
21:43:26.200 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000260
21:43:26.201 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.221 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.222 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.223 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032056 для URI: content://media/external/images/media/1000000261
21:43:26.223 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000261
21:43:26.223 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.223 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000261
21:43:26.225 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032056 для URI: content://media/external/images/media/1000000261
21:43:26.225 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000261
21:43:26.225 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.242 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.244 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922032069 для URI: content://media/external/images/media/1000000262
21:43:26.244 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000262
21:43:26.244 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.245 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000262
21:43:26.249 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000262
21:43:26.249 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:26.249 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.268 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.271 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922030441 для URI: content://media/external/images/media/1000000253
21:43:26.271 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000253
21:43:26.271 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.271 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000253
21:43:26.271 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000253
21:43:26.272 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:26.272 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.292 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.294 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.295 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922030599 для URI: content://media/external/images/media/1000000254
21:43:26.295 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000254
21:43:26.295 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.296 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922030599 для URI: content://media/external/images/media/1000000254
21:43:26.296 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000254
21:43:26.296 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.297 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000254
21:43:26.316 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.316 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.319 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029472 для URI: content://media/external/images/media/1000000249
21:43:26.319 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029472 для URI: content://media/external/images/media/1000000249
21:43:26.319 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000249
21:43:26.319 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.319 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000249
21:43:26.320 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.320 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000249
21:43:26.348 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.351 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029496 для URI: content://media/external/images/media/1000000250
21:43:26.351 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000250
21:43:26.351 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.352 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000250
21:43:26.352 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:26.352 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.352 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000250
21:43:26.382 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.382 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.386 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029587 для URI: content://media/external/images/media/1000000251
21:43:26.386 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029587 для URI: content://media/external/images/media/1000000251
21:43:26.386 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000251
21:43:26.386 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.386 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000251
21:43:26.386 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000251
21:43:26.387 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.414 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.415 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.418 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922030002 для URI: content://media/external/images/media/1000000252
21:43:26.419 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000252
21:43:26.419 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922030002 для URI: content://media/external/images/media/1000000252
21:43:26.419 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.419 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000252
21:43:26.419 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.419 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000252
21:43:26.443 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.443 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.446 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028164 для URI: content://media/external/images/media/1000000240
21:43:26.446 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028164 для URI: content://media/external/images/media/1000000240
21:43:26.446 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000240
21:43:26.446 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000240
21:43:26.446 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.447 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.447 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000240
21:43:26.470 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.470 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.473 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028204 для URI: content://media/external/images/media/1000000241
21:43:26.473 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028204 для URI: content://media/external/images/media/1000000241
21:43:26.473 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000241
21:43:26.473 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.473 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000241
21:43:26.473 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000241
21:43:26.473 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.497 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.497 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.501 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028343 для URI: content://media/external/images/media/1000000242
21:43:26.501 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028343 для URI: content://media/external/images/media/1000000242
21:43:26.501 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000242
21:43:26.501 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000242
21:43:26.501 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.501 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.501 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000242
21:43:26.525 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.526 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.528 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028571 для URI: content://media/external/images/media/1000000243
21:43:26.528 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028571 для URI: content://media/external/images/media/1000000243
21:43:26.528 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000243
21:43:26.528 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000243
21:43:26.528 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.528 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.529 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000243
21:43:26.538 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_211925.jpg
21:43:26.538 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_211925.jpg
21:43:26.538 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:26.538 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:26.538 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000244
21:43:26.562 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.562 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.565 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028712 для URI: content://media/external/images/media/1000000245
21:43:26.565 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028712 для URI: content://media/external/images/media/1000000245
21:43:26.565 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000245
21:43:26.565 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.565 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000245
21:43:26.565 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.565 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000245
21:43:26.587 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.589 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.590 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028742 для URI: content://media/external/images/media/1000000246
21:43:26.590 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000246
21:43:26.590 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.592 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028742 для URI: content://media/external/images/media/1000000246
21:43:26.592 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000246
21:43:26.592 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.592 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000246
21:43:26.612 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.615 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028882 для URI: content://media/external/images/media/1000000247
21:43:26.615 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000247
21:43:26.615 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.616 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000247
21:43:26.616 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:26.617 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.617 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000247
21:43:26.638 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.638 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.641 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029112 для URI: content://media/external/images/media/1000000248
21:43:26.641 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000248
21:43:26.641 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.643 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922029112 для URI: content://media/external/images/media/1000000248
21:43:26.643 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000248
21:43:26.643 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.643 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000248
21:43:26.666 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.666 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.669 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027087 для URI: content://media/external/images/media/1000000233
21:43:26.669 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000233
21:43:26.669 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.671 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027087 для URI: content://media/external/images/media/1000000233
21:43:26.671 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000233
21:43:26.672 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.672 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000233
21:43:26.692 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.693 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.695 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027365 для URI: content://media/external/images/media/1000000234
21:43:26.696 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000234
21:43:26.696 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.696 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027365 для URI: content://media/external/images/media/1000000234
21:43:26.696 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000234
21:43:26.696 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000234
21:43:26.696 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.733 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.733 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.733 Background concurrent mark compact GC freed 5028KB AllocSpace bytes, 0(0B) LOS objects, 49% free, 5395KB/10MB, paused 290us,5.885ms total 37.935ms
21:43:26.736 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027369 для URI: content://media/external/images/media/1000000235
21:43:26.736 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000235
21:43:26.737 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.737 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000235
21:43:26.738 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027369 для URI: content://media/external/images/media/1000000235
21:43:26.738 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000235
21:43:26.738 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.759 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.762 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.762 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027567 для URI: content://media/external/images/media/1000000236
21:43:26.762 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000236
21:43:26.762 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.762 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000236
21:43:26.764 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027567 для URI: content://media/external/images/media/1000000236
21:43:26.765 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000236
21:43:26.765 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.785 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.788 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.789 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027616 для URI: content://media/external/images/media/1000000237
21:43:26.789 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000237
21:43:26.790 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.790 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000237
21:43:26.792 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027616 для URI: content://media/external/images/media/1000000237
21:43:26.792 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000237
21:43:26.793 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.818 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.821 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922027749 для URI: content://media/external/images/media/1000000238
21:43:26.821 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000238
21:43:26.821 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.821 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000238
21:43:26.826 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000238
21:43:26.826 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:26.826 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.845 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.847 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.847 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028006 для URI: content://media/external/images/media/1000000239
21:43:26.848 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000239
21:43:26.848 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.848 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000239
21:43:26.849 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922028006 для URI: content://media/external/images/media/1000000239
21:43:26.850 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000239
21:43:26.850 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.870 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.872 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.873 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026102 для URI: content://media/external/images/media/1000000225
21:43:26.874 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000225
21:43:26.874 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.874 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000225
21:43:26.876 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026102 для URI: content://media/external/images/media/1000000225
21:43:26.876 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000225
21:43:26.876 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.899 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.899 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.902 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026199 для URI: content://media/external/images/media/1000000226
21:43:26.902 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026199 для URI: content://media/external/images/media/1000000226
21:43:26.902 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000226
21:43:26.903 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000226
21:43:26.903 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.903 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.903 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000226
21:43:26.926 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.926 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.929 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026372 для URI: content://media/external/images/media/1000000227
21:43:26.929 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026372 для URI: content://media/external/images/media/1000000227
21:43:26.929 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000227
21:43:26.929 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000227
21:43:26.929 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.929 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.930 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000227
21:43:26.939 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_211946.jpg
21:43:26.939 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:26.941 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_211946.jpg
21:43:26.941 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:26.941 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000229
21:43:26.959 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.961 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.961 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026687 для URI: content://media/external/images/media/1000000230
21:43:26.962 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000230
21:43:26.962 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.964 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026687 для URI: content://media/external/images/media/1000000230
21:43:26.964 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000230
21:43:26.965 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.965 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000230
21:43:26.983 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.986 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026879 для URI: content://media/external/images/media/1000000231
21:43:26.986 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:26.986 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000231
21:43:26.986 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.989 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026879 для URI: content://media/external/images/media/1000000231
21:43:26.989 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000231
21:43:26.989 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:26.989 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000231
21:43:27.011 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.011 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.015 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026946 для URI: content://media/external/images/media/1000000232
21:43:27.015 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922026946 для URI: content://media/external/images/media/1000000232
21:43:27.015 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000232
21:43:27.015 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000232
21:43:27.015 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.015 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.016 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000232
21:43:27.038 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.040 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.041 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025329 для URI: content://media/external/images/media/1000000219
21:43:27.041 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000219
21:43:27.041 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.043 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025329 для URI: content://media/external/images/media/1000000219
21:43:27.043 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000219
21:43:27.043 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.043 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000219
21:43:27.064 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.065 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.068 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025446 для URI: content://media/external/images/media/1000000220
21:43:27.068 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025446 для URI: content://media/external/images/media/1000000220
21:43:27.068 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000220
21:43:27.068 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000220
21:43:27.068 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.068 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.068 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000220
21:43:27.091 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.093 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.094 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025652 для URI: content://media/external/images/media/1000000221
21:43:27.095 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000221
21:43:27.095 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.097 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025652 для URI: content://media/external/images/media/1000000221
21:43:27.097 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000221
21:43:27.097 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.097 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000221
21:43:27.118 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.121 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025718 для URI: content://media/external/images/media/1000000222
21:43:27.121 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000222
21:43:27.122 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.124 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000222
21:43:27.124 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:27.124 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.124 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000222
21:43:27.144 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.144 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.147 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025921 для URI: content://media/external/images/media/1000000223
21:43:27.147 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025921 для URI: content://media/external/images/media/1000000223
21:43:27.147 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000223
21:43:27.147 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000223
21:43:27.147 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.147 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.147 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000223
21:43:27.168 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.171 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922025915 для URI: content://media/external/images/media/1000000224
21:43:27.171 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000224
21:43:27.171 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000224
21:43:27.171 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.171 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:27.171 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000224
21:43:27.171 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.202 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.203 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.206 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922024856 для URI: content://media/external/images/media/1000000218
21:43:27.206 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763922024856 для URI: content://media/external/images/media/1000000218
21:43:27.206 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000218
21:43:27.206 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000218
21:43:27.206 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.206 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.206 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000218
21:43:27.238 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.238 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.240 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896145 для URI: content://media/external/images/media/1000000170
21:43:27.240 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000170
21:43:27.241 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.241 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000170
21:43:27.243 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896145 для URI: content://media/external/images/media/1000000170
21:43:27.243 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000170
21:43:27.243 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.263 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.266 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896277 для URI: content://media/external/images/media/1000000171
21:43:27.266 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.266 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000171
21:43:27.266 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.267 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000171
21:43:27.270 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896277 для URI: content://media/external/images/media/1000000171
21:43:27.270 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000171
21:43:27.270 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.290 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.292 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.293 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896323 для URI: content://media/external/images/media/1000000172
21:43:27.293 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000172
21:43:27.293 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.293 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000172
21:43:27.295 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896323 для URI: content://media/external/images/media/1000000172
21:43:27.295 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000172
21:43:27.295 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.320 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.322 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896392 для URI: content://media/external/images/media/1000000173
21:43:27.322 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000173
21:43:27.322 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.323 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000173
21:43:27.323 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000173
21:43:27.323 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:27.323 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.342 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.342 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.344 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895089 для URI: content://media/external/images/media/1000000163
21:43:27.345 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000163
21:43:27.345 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895089 для URI: content://media/external/images/media/1000000163
21:43:27.345 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.345 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000163
21:43:27.345 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.345 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000163
21:43:27.363 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.363 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.366 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895339 для URI: content://media/external/images/media/1000000164
21:43:27.366 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895339 для URI: content://media/external/images/media/1000000164
21:43:27.366 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000164
21:43:27.366 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000164
21:43:27.366 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.366 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000164
21:43:27.366 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.389 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.391 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.392 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895576 для URI: content://media/external/images/media/1000000165
21:43:27.392 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000165
21:43:27.393 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.393 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000165
21:43:27.394 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895576 для URI: content://media/external/images/media/1000000165
21:43:27.395 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000165
21:43:27.395 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.413 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.413 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.416 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895671 для URI: content://media/external/images/media/1000000166
21:43:27.417 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000166
21:43:27.417 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.417 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000166
21:43:27.417 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895671 для URI: content://media/external/images/media/1000000166
21:43:27.417 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000166
21:43:27.417 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.438 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.438 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.441 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895801 для URI: content://media/external/images/media/1000000167
21:43:27.441 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000167
21:43:27.441 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895801 для URI: content://media/external/images/media/1000000167
21:43:27.441 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.442 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000167
21:43:27.442 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.442 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000167
21:43:27.461 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.462 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.464 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895901 для URI: content://media/external/images/media/1000000168
21:43:27.464 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000168
21:43:27.464 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920895901 для URI: content://media/external/images/media/1000000168
21:43:27.464 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.465 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000168
21:43:27.465 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.465 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000168
21:43:27.484 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.484 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.487 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896048 для URI: content://media/external/images/media/1000000169
21:43:27.487 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000169
21:43:27.487 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.487 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000169
21:43:27.489 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920896048 для URI: content://media/external/images/media/1000000169
21:43:27.489 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000169
21:43:27.489 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.505 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.507 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.507 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894266 для URI: content://media/external/images/media/1000000158
21:43:27.508 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000158
21:43:27.508 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.508 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000158
21:43:27.510 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894266 для URI: content://media/external/images/media/1000000158
21:43:27.510 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000158
21:43:27.511 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.531 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.531 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.534 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894667 для URI: content://media/external/images/media/1000000160
21:43:27.534 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894667 для URI: content://media/external/images/media/1000000160
21:43:27.534 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000160
21:43:27.534 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.534 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000160
21:43:27.534 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000160
21:43:27.534 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.556 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.557 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.558 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894870 для URI: content://media/external/images/media/1000000161
21:43:27.559 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000161
21:43:27.559 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.559 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000161
21:43:27.561 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894870 для URI: content://media/external/images/media/1000000161
21:43:27.561 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000161
21:43:27.561 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.578 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.581 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894983 для URI: content://media/external/images/media/1000000162
21:43:27.581 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.581 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000162
21:43:27.581 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.581 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000162
21:43:27.584 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894983 для URI: content://media/external/images/media/1000000162
21:43:27.584 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000162
21:43:27.584 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.603 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.606 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893313 для URI: content://media/external/images/media/1000000151
21:43:27.606 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000151
21:43:27.606 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.607 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000151
21:43:27.609 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000151
21:43:27.609 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:27.609 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.632 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.633 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.634 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893509 для URI: content://media/external/images/media/1000000152
21:43:27.635 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000152
21:43:27.635 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.635 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000152
21:43:27.636 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893509 для URI: content://media/external/images/media/1000000152
21:43:27.636 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000152
21:43:27.636 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.652 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.652 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.655 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893677 для URI: content://media/external/images/media/1000000153
21:43:27.655 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893677 для URI: content://media/external/images/media/1000000153
21:43:27.655 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000153
21:43:27.655 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000153
21:43:27.655 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.655 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.655 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000153
21:43:27.681 Background concurrent mark compact GC freed 5484KB AllocSpace bytes, 0(0B) LOS objects, 49% free, 5363KB/10MB, paused 275us,7.889ms total 28.746ms
21:43:27.687 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.687 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.691 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893770 для URI: content://media/external/images/media/1000000154
21:43:27.691 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893770 для URI: content://media/external/images/media/1000000154
21:43:27.692 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000154
21:43:27.692 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000154
21:43:27.692 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.692 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.692 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000154
21:43:27.714 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.714 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.717 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893909 для URI: content://media/external/images/media/1000000155
21:43:27.717 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000155
21:43:27.717 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.717 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000155
21:43:27.719 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893909 для URI: content://media/external/images/media/1000000155
21:43:27.719 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000155
21:43:27.719 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.727 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210043.jpg
21:43:27.727 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210043.jpg
21:43:27.727 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:27.727 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000156
21:43:27.727 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:27.751 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.751 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.754 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894108 для URI: content://media/external/images/media/1000000157
21:43:27.755 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000157
21:43:27.755 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.755 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920894108 для URI: content://media/external/images/media/1000000157
21:43:27.755 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000157
21:43:27.755 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.756 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000157
21:43:27.778 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.779 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.781 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892267 для URI: content://media/external/images/media/1000000145
21:43:27.781 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892267 для URI: content://media/external/images/media/1000000145
21:43:27.782 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000145
21:43:27.782 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000145
21:43:27.782 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.782 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.782 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000145
21:43:27.804 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.806 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.807 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892381 для URI: content://media/external/images/media/1000000146
21:43:27.807 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000146
21:43:27.807 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.809 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892381 для URI: content://media/external/images/media/1000000146
21:43:27.809 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000146
21:43:27.809 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.809 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000146
21:43:27.819 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210047.jpg
21:43:27.819 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:27.820 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_210047.jpg
21:43:27.820 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:27.820 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000148
21:43:27.840 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.841 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.843 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893065 для URI: content://media/external/images/media/1000000149
21:43:27.843 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893065 для URI: content://media/external/images/media/1000000149
21:43:27.843 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000149
21:43:27.843 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000149
21:43:27.843 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.843 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.844 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000149
21:43:27.865 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.867 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.869 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893092 для URI: content://media/external/images/media/1000000150
21:43:27.869 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000150
21:43:27.869 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.872 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920893092 для URI: content://media/external/images/media/1000000150
21:43:27.872 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000150
21:43:27.872 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.872 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000150
21:43:27.896 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.896 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.899 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920891271 для URI: content://media/external/images/media/1000000143
21:43:27.900 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000143
21:43:27.900 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920891271 для URI: content://media/external/images/media/1000000143
21:43:27.900 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.900 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000143
21:43:27.900 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.900 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000143
21:43:27.925 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.927 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.929 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892057 для URI: content://media/external/images/media/1000000144
21:43:27.929 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000144
21:43:27.929 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.931 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920892057 для URI: content://media/external/images/media/1000000144
21:43:27.931 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000144
21:43:27.931 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.931 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000144
21:43:27.956 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.958 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.959 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223172 для URI: content://media/external/images/media/1000000108
21:43:27.959 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000108
21:43:27.959 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.959 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000108
21:43:27.961 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223172 для URI: content://media/external/images/media/1000000108
21:43:27.961 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000108
21:43:27.961 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.983 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.985 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:27.986 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223354 для URI: content://media/external/images/media/1000000109
21:43:27.986 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000109
21:43:27.987 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.987 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000109
21:43:27.988 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223354 для URI: content://media/external/images/media/1000000109
21:43:27.988 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000109
21:43:27.988 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:27.994 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000110
21:43:27.994 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:27.994 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000110
21:43:27.997 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000110
21:43:27.997 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.021 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.025 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223569 для URI: content://media/external/images/media/1000000111
21:43:28.025 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.026 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000111
21:43:28.027 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.027 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000111
21:43:28.030 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223569 для URI: content://media/external/images/media/1000000111
21:43:28.030 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000111
21:43:28.030 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.052 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.053 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.056 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223662 для URI: content://media/external/images/media/1000000112
21:43:28.056 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000112
21:43:28.056 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920223662 для URI: content://media/external/images/media/1000000112
21:43:28.056 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.056 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000112
21:43:28.056 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000112
21:43:28.056 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.064 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000113
21:43:28.064 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.064 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000113
21:43:28.065 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000113
21:43:28.065 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.089 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.089 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.092 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222187 для URI: content://media/external/images/media/1000000102
21:43:28.092 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222187 для URI: content://media/external/images/media/1000000102
21:43:28.092 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000102
21:43:28.092 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000102
21:43:28.092 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.092 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000102
21:43:28.092 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.113 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.113 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.116 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222272 для URI: content://media/external/images/media/1000000103
21:43:28.116 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000103
21:43:28.116 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222272 для URI: content://media/external/images/media/1000000103
21:43:28.116 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.116 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000103
21:43:28.116 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000103
21:43:28.117 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.137 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.138 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.141 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222417 для URI: content://media/external/images/media/1000000104
21:43:28.141 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000104
21:43:28.141 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.141 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222417 для URI: content://media/external/images/media/1000000104
21:43:28.141 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000104
21:43:28.142 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.142 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000104
21:43:28.148 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000105
21:43:28.149 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.150 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000105
21:43:28.151 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.151 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000105
21:43:28.173 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.175 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.176 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222712 для URI: content://media/external/images/media/1000000106
21:43:28.177 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000106
21:43:28.177 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.178 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222712 для URI: content://media/external/images/media/1000000106
21:43:28.178 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000106
21:43:28.178 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.179 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000106
21:43:28.196 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.198 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.198 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222817 для URI: content://media/external/images/media/1000000107
21:43:28.198 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000107
21:43:28.199 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.201 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920222817 для URI: content://media/external/images/media/1000000107
21:43:28.201 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000107
21:43:28.202 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.203 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000107
21:43:28.220 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.223 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.223 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221323 для URI: content://media/external/images/media/1000000095
21:43:28.223 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000095
21:43:28.224 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.227 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221323 для URI: content://media/external/images/media/1000000095
21:43:28.227 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000095
21:43:28.228 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.228 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000095
21:43:28.247 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.251 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221380 для URI: content://media/external/images/media/1000000096
21:43:28.251 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.251 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000096
21:43:28.252 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.256 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221380 для URI: content://media/external/images/media/1000000096
21:43:28.256 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000096
21:43:28.256 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.256 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000096
21:43:28.274 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.277 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.277 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221478 для URI: content://media/external/images/media/1000000097
21:43:28.278 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000097
21:43:28.278 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.280 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221478 для URI: content://media/external/images/media/1000000097
21:43:28.281 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000097
21:43:28.281 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.281 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000097
21:43:28.285 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000099
21:43:28.285 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.288 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000099
21:43:28.288 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.288 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000099
21:43:28.304 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.306 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.307 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221790 для URI: content://media/external/images/media/1000000100
21:43:28.307 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000100
21:43:28.307 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.310 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221790 для URI: content://media/external/images/media/1000000100
21:43:28.310 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000100
21:43:28.310 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.310 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000100
21:43:28.335 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.335 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.338 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221977 для URI: content://media/external/images/media/1000000101
21:43:28.338 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920221977 для URI: content://media/external/images/media/1000000101
21:43:28.338 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000101
21:43:28.339 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000101
21:43:28.339 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.339 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.339 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000101
21:43:28.362 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.362 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.365 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220253 для URI: content://media/external/images/media/1000000088
21:43:28.365 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000088
21:43:28.365 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220253 для URI: content://media/external/images/media/1000000088
21:43:28.365 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.365 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000088
21:43:28.366 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.366 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000088
21:43:28.372 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000089
21:43:28.372 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.372 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000089
21:43:28.374 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000089
21:43:28.374 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.397 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.400 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.400 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220463 для URI: content://media/external/images/media/1000000090
21:43:28.401 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000090
21:43:28.401 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.401 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000090
21:43:28.403 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220463 для URI: content://media/external/images/media/1000000090
21:43:28.403 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000090
21:43:28.403 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.428 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.430 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.431 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220611 для URI: content://media/external/images/media/1000000091
21:43:28.431 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000091
21:43:28.432 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.432 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000091
21:43:28.433 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220611 для URI: content://media/external/images/media/1000000091
21:43:28.434 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000091
21:43:28.434 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.453 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.453 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.456 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220643 для URI: content://media/external/images/media/1000000092
21:43:28.456 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220643 для URI: content://media/external/images/media/1000000092
21:43:28.456 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000092
21:43:28.456 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.456 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000092
21:43:28.456 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000092
21:43:28.456 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.463 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000093
21:43:28.463 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000093
21:43:28.463 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.464 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.464 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000093
21:43:28.485 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.485 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.487 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220987 для URI: content://media/external/images/media/1000000094
21:43:28.487 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000094
21:43:28.487 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.487 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220987 для URI: content://media/external/images/media/1000000094
21:43:28.488 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000094
21:43:28.488 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.488 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000094
21:43:28.507 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.509 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219116 для URI: content://media/external/images/media/1000000081
21:43:28.509 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.510 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000081
21:43:28.510 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.513 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219116 для URI: content://media/external/images/media/1000000081
21:43:28.513 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000081
21:43:28.513 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.513 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000081
21:43:28.533 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.536 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219333 для URI: content://media/external/images/media/1000000082
21:43:28.537 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000082
21:43:28.537 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.537 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000082
21:43:28.537 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:28.537 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.537 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000082
21:43:28.560 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.560 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.563 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219581 для URI: content://media/external/images/media/1000000083
21:43:28.563 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219581 для URI: content://media/external/images/media/1000000083
21:43:28.563 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000083
21:43:28.563 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000083
21:43:28.563 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.563 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000083
21:43:28.563 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.584 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.584 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.587 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219616 для URI: content://media/external/images/media/1000000084
21:43:28.587 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000084
21:43:28.587 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219616 для URI: content://media/external/images/media/1000000084
21:43:28.587 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.588 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000084
21:43:28.588 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.588 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000084
21:43:28.595 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000085
21:43:28.595 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000085
21:43:28.595 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.595 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.595 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000085
21:43:28.615 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.618 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219824 для URI: content://media/external/images/media/1000000086
21:43:28.618 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000086
21:43:28.618 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.618 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000086
21:43:28.618 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.621 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920219824 для URI: content://media/external/images/media/1000000086
21:43:28.624 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000086
21:43:28.624 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.642 Background concurrent mark compact GC freed 5352KB AllocSpace bytes, 0(0B) LOS objects, 49% free, 5383KB/10MB, paused 286us,6.618ms total 32.318ms
21:43:28.649 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.652 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920220089 для URI: content://media/external/images/media/1000000087
21:43:28.652 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000087
21:43:28.652 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.652 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000087
21:43:28.655 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000087
21:43:28.655 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:28.655 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.674 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.677 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.677 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218103 для URI: content://media/external/images/media/1000000075
21:43:28.677 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000075
21:43:28.677 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.677 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000075
21:43:28.679 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218103 для URI: content://media/external/images/media/1000000075
21:43:28.680 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000075
21:43:28.680 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.700 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.702 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.702 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218347 для URI: content://media/external/images/media/1000000076
21:43:28.702 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000076
21:43:28.702 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.702 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000076
21:43:28.705 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218347 для URI: content://media/external/images/media/1000000076
21:43:28.705 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000076
21:43:28.705 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.724 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.727 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218493 для URI: content://media/external/images/media/1000000077
21:43:28.727 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000077
21:43:28.728 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.728 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000077
21:43:28.731 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000077
21:43:28.731 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:28.731 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.756 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.758 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.759 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218626 для URI: content://media/external/images/media/1000000078
21:43:28.759 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000078
21:43:28.760 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.760 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000078
21:43:28.762 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218626 для URI: content://media/external/images/media/1000000078
21:43:28.762 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000078
21:43:28.762 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.787 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.788 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.790 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218759 для URI: content://media/external/images/media/1000000079
21:43:28.790 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000079
21:43:28.790 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.791 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920218759 для URI: content://media/external/images/media/1000000079
21:43:28.792 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000079
21:43:28.792 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.793 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000079
21:43:28.798 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000080
21:43:28.798 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.798 [ПРОЦЕСС] Файл является переименованным оригиналом, пропускаем: content://media/external/images/media/1000000080
21:43:28.798 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:28.799 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000080
21:43:28.829 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.829 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.833 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920217666 для URI: content://media/external/images/media/1000000074
21:43:28.833 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763920217666 для URI: content://media/external/images/media/1000000074
21:43:28.833 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000074
21:43:28.833 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.833 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000074
21:43:28.833 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000074
21:43:28.833 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.874 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.877 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919955315 для URI: content://media/external/images/media/1000000041
21:43:28.877 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000041
21:43:28.877 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.879 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000041
21:43:28.880 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:28.880 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.880 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000041
21:43:28.905 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.906 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.909 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919955789 для URI: content://media/external/images/media/1000000042
21:43:28.909 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000042
21:43:28.909 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.915 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919955789 для URI: content://media/external/images/media/1000000042
21:43:28.915 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000042
21:43:28.915 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.915 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000042
21:43:28.950 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.951 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.953 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919954368 для URI: content://media/external/images/media/1000000039
21:43:28.953 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919954368 для URI: content://media/external/images/media/1000000039
21:43:28.953 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000039
21:43:28.953 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000039
21:43:28.953 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.953 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.954 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000039
21:43:28.983 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:28.986 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919954855 для URI: content://media/external/images/media/1000000040
21:43:28.987 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000040
21:43:28.987 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.989 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000040
21:43:28.989 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:28.989 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:28.989 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000040
21:43:29.020 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.021 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.023 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919953294 для URI: content://media/external/images/media/1000000038
21:43:29.023 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919953294 для URI: content://media/external/images/media/1000000038
21:43:29.023 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000038
21:43:29.023 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000038
21:43:29.023 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.023 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.023 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000038
21:43:29.045 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.045 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.050 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919667963 для URI: content://media/external/images/media/1000000032
21:43:29.050 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000032
21:43:29.050 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.050 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000032
21:43:29.051 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919667963 для URI: content://media/external/images/media/1000000032
21:43:29.051 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000032
21:43:29.051 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.074 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.074 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.077 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919536114 для URI: content://media/external/images/media/1000000029
21:43:29.077 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919536114 для URI: content://media/external/images/media/1000000029
21:43:29.077 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000029
21:43:29.077 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000029
21:43:29.077 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.077 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.077 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000029
21:43:29.096 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.098 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.099 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919536477 для URI: content://media/external/images/media/1000000030
21:43:29.099 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000030
21:43:29.099 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.103 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919536477 для URI: content://media/external/images/media/1000000030
21:43:29.103 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000030
21:43:29.104 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.104 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000030
21:43:29.126 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.130 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919535614 для URI: content://media/external/images/media/1000000028
21:43:29.130 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000028
21:43:29.130 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.131 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000028
21:43:29.131 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.131 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.131 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000028
21:43:29.160 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.162 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.162 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919534853 для URI: content://media/external/images/media/1000000027
21:43:29.163 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000027
21:43:29.163 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.163 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000027
21:43:29.165 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919534853 для URI: content://media/external/images/media/1000000027
21:43:29.165 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000027
21:43:29.165 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.210 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.212 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.215 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919526793 для URI: content://media/external/images/media/1000000026
21:43:29.215 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000026
21:43:29.215 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.221 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919526793 для URI: content://media/external/images/media/1000000026
21:43:29.221 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000026
21:43:29.221 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.221 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000026
21:43:29.247 app_time_stats: avg=90.07ms min=11.21ms max=3843.51ms count=52
21:43:29.336 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:29.342 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763919476230 для URI: content://media/external/images/media/1000000020
21:43:29.342 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000020
21:43:29.344 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.348 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000020
21:43:29.348 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.348 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:29.348 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000020
21:43:29.349 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 40, Пропущено: 126
21:43:29.352 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000305
21:43:29.360 [ПРОЦЕСС] Найдено 40 необработанных изображений
21:43:29.361 [URI:0305] URI scheme: content, authority: media, path: /external/images/media/1000000305
21:43:29.363 [ПРОЦЕСС] Завершена обработка всех изображений (0/0)
21:43:29.364 [ПРОЦЕСС] Счетчики пакетной обработки сброшены
21:43:29.367 [ПРОЦЕСС] Запущена последовательная обработка 40 изображений
21:43:29.369 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000305 (всего: 1)
21:43:29.387 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000305 (всего: 1)
21:43:29.431 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000305 в память (кэш не найден)
21:43:29.438 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000305:
21:43:29.439 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:29.440 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:29.441 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000305
21:43:29.441 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:29.441 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.441 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:29.443 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:29.444 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:29.444 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:29.444 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:07
21:43:29.444 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:29.445 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:29.445 [URI:0305] Сжатие изображения в поток
21:43:29.451 [ПРОЦЕСС] Создан автобатч: auto_batch_1_1763923409451
21:43:29.470 [СЖАТИЕ:0305] Запущена работа по сжатию для content://media/external/images/media/1000000305 с тегом compress_1763923409446_IMG_20251123_214306_1.jpg в батче auto_batch_1_1763923409451
21:43:29.470 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:29.470 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000303
21:43:29.471 [URI:0303] URI scheme: content, authority: media, path: /external/images/media/1000000303
21:43:29.482 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000303 (всего: 2)
21:43:29.484 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214306_1.jpg
21:43:29.492 Scheduling work ID 5b5c825a-198a-46c4-a6d9-2337fa6b57e3Job ID 116
21:43:29.504 Starting work for 5b5c825a-198a-46c4-a6d9-2337fa6b57e3
21:43:29.518 [FileUtil] Директория для сохранения: Pictures
21:43:29.518 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214306_1.jpg (режим замены: true)
21:43:29.520 onStartJob for WorkGenerationalId(workSpecId=5b5c825a-198a-46c4-a6d9-2337fa6b57e3, generation=0)
21:43:29.520 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:29.529 Processor: processing WorkGenerationalId(workSpecId=5b5c825a-198a-46c4-a6d9-2337fa6b57e3, generation=0)
21:43:29.534 Work WorkGenerationalId(workSpecId=5b5c825a-198a-46c4-a6d9-2337fa6b57e3, generation=0) is already enqueued for processing
21:43:29.545 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000305
21:43:29.546 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214306_1.jpg', включен режим замены - удаляем
21:43:29.552 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:29.558 androidx.work.impl.background.systemalarm.RescheduleReceiver enabled
21:43:29.564 [MediaStore] Существующий файл удален (режим замены)
21:43:29.581 Moving WorkSpec (5b5c825a-198a-46c4-a6d9-2337fa6b57e3) to the foreground
21:43:29.588 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000303
21:43:29.589 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.595 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000306
21:43:29.606 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000305, обработка через 10 сек
21:43:29.615 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:29.617 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000305
21:43:29.618 [URI:0305] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:29.623 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000306, обработка через 10 сек
21:43:29.625 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000306
21:43:29.625 Failed to get type for: content://media/external/images/media/1000000305 (No item at content://media/external/images/media/1000000305)
21:43:29.633 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:29.640 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:29.641 [СЖАТИЕ:0303] Запущена работа по сжатию для content://media/external/images/media/1000000303 с тегом compress_1763923409615_IMG_20251123_214305_1.jpg в батче auto_batch_1_1763923409451
21:43:29.641 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:29.641 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000304
21:43:29.642 [URI:0304] URI scheme: content, authority: media, path: /external/images/media/1000000304
21:43:29.642 Notifying with (id:1, workSpecId: 5b5c825a-198a-46c4-a6d9-2337fa6b57e3, notificationType :1)
21:43:29.645 Notifying with (id:1, workSpecId: 5b5c825a-198a-46c4-a6d9-2337fa6b57e3, notificationType :1)
21:43:29.655 Scheduling work ID e4e47576-53fe-4599-a44a-67d50dc5e080Job ID 117
21:43:29.657 [ПРОЦЕСС] URI не существует: content://media/external/images/media/1000000305
21:43:29.660 Failed to get type for: content://media/external/images/media/1000000305 (No item at content://media/external/images/media/1000000305)
21:43:29.661 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000304 (всего: 3)
21:43:29.663 Starting work for e4e47576-53fe-4599-a44a-67d50dc5e080
21:43:29.665 onStartJob for WorkGenerationalId(workSpecId=e4e47576-53fe-4599-a44a-67d50dc5e080, generation=0)
21:43:29.670 Processor: processing WorkGenerationalId(workSpecId=e4e47576-53fe-4599-a44a-67d50dc5e080, generation=0)
21:43:29.673 Work WorkGenerationalId(workSpecId=e4e47576-53fe-4599-a44a-67d50dc5e080, generation=0) is already enqueued for processing
21:43:29.678 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000306
21:43:29.681 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000306, максимальное время: 2000 мс
21:43:29.686 [ОШИБКА:Проверка файла:0305] Файл не существует
21:43:29.694 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:29.697 [FileUtil] URI стал доступен через 16 мс, размер: 54468 байт
21:43:29.702 Moving WorkSpec (e4e47576-53fe-4599-a44a-67d50dc5e080) to the foreground
21:43:29.710 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:29.710 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000303 в память (кэш не найден)
21:43:29.713 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:29.714 Notifying with (id:1, workSpecId: e4e47576-53fe-4599-a44a-67d50dc5e080, notificationType :1)
21:43:29.715 Worker result FAILURE for Work [ id=5b5c825a-198a-46c4-a6d9-2337fa6b57e3, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923409446_IMG_20251123_214306_1.jpg } ]
21:43:29.720 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000303:
21:43:29.720 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:29.720 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:29.720 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:29.720 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:29.721 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:29.721 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:29.721 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:29.721 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:06
21:43:29.721 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:29.722 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:29.723 [URI:0303] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:29.726 Notifying with (id:1, workSpecId: e4e47576-53fe-4599-a44a-67d50dc5e080, notificationType :1)
21:43:29.730 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923409000
21:43:29.737 Processor 5b5c825a-198a-46c4-a6d9-2337fa6b57e3 executed; reschedule = false
21:43:29.740 5b5c825a-198a-46c4-a6d9-2337fa6b57e3 executed on JobScheduler
21:43:29.743 Cancelling work ID 5b5c825a-198a-46c4-a6d9-2337fa6b57e3
21:43:29.743 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=5b5c825a-198a-46c4-a6d9-2337fa6b57e3, generation=0), notificationType: 1
21:43:29.746 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:29.747 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923409747
21:43:29.748 onStopJob for WorkGenerationalId(workSpecId=5b5c825a-198a-46c4-a6d9-2337fa6b57e3, generation=0)
21:43:29.755 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000306
21:43:29.756 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000304
21:43:29.756 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.759 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:29.762 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:29.771 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:29.773 [СЖАТИЕ:0304] Запущена работа по сжатию для content://media/external/images/media/1000000304 с тегом compress_1763923409762_IMG_20251123_214306.jpg в батче auto_batch_1_1763923409451
21:43:29.775 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:29.775 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000301
21:43:29.776 [URI:0301] URI scheme: content, authority: media, path: /external/images/media/1000000301
21:43:29.782 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000301 (всего: 4)
21:43:29.785 Scheduling work ID 8bf55c3b-a7f7-4593-8985-4e4286c3097cJob ID 118
21:43:29.791 onStartJob for WorkGenerationalId(workSpecId=8bf55c3b-a7f7-4593-8985-4e4286c3097c, generation=0)
21:43:29.792 Starting work for 8bf55c3b-a7f7-4593-8985-4e4286c3097c
21:43:29.794 Processor: processing WorkGenerationalId(workSpecId=8bf55c3b-a7f7-4593-8985-4e4286c3097c, generation=0)
21:43:29.795 Work WorkGenerationalId(workSpecId=8bf55c3b-a7f7-4593-8985-4e4286c3097c, generation=0) is already enqueued for processing
21:43:29.798 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000303
21:43:29.798 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.799 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:29.806 Moving WorkSpec (8bf55c3b-a7f7-4593-8985-4e4286c3097c) to the foreground
21:43:29.809 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:29.809 Notifying with (id:1, workSpecId: 8bf55c3b-a7f7-4593-8985-4e4286c3097c, notificationType :1)
21:43:29.812 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:29.812 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000304 в память (кэш не найден)
21:43:29.813 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000303
21:43:29.813 Notifying with (id:1, workSpecId: 8bf55c3b-a7f7-4593-8985-4e4286c3097c, notificationType :1)
21:43:29.820 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000304:
21:43:29.821 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:29.821 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:29.821 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:29.821 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:29.822 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:29.823 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:29.823 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:29.823 [URI:0303] Изображение требует обработки
21:43:29.823 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:29.823 [URI:0303] Начало тестового сжатия в RAM
21:43:29.823 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:06
21:43:29.823 [URI:0303] Сжатие изображения в поток
21:43:29.823 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:29.824 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:29.825 [URI:0304] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:29.841 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000301
21:43:29.841 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.857 [СЖАТИЕ:0303] 142KB → 53KB (-62%)
21:43:29.858 [СЖАТИЕ:0303] 142KB → 53KB (-62.213127%)
21:43:29.859 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000303 эффективно (экономия 62.213127%), выполняем полное сжатие
21:43:29.859 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:29.861 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:29.862 [СЖАТИЕ:0301] Запущена работа по сжатию для content://media/external/images/media/1000000301 с тегом compress_1763923409854_IMG_20251123_214304_2.jpg в батче auto_batch_1_1763923409451
21:43:29.862 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:29.862 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000302
21:43:29.862 [URI:0302] URI scheme: content, authority: media, path: /external/images/media/1000000302
21:43:29.870 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:29.870 [URI:0303] Имя файла: IMG_20251123_214305_1.jpg
21:43:29.871 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214305_1.jpg
21:43:29.871 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214305_1.jpg (режим замены: true)
21:43:29.872 [FileUtil] Обработка EXIF данных: успешно
21:43:29.875 visibilityChanged oldVisibility=true newVisibility=false
21:43:29.879 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000302 (всего: 5)
21:43:29.882 [URI:0303] Директория для сохранения: Pictures
21:43:29.882 Scheduling work ID 49e71551-e790-4724-8190-ef07a8a4732aJob ID 119
21:43:29.892 [URI:0303] Сжатие изображения в поток
21:43:29.893 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000304
21:43:29.894 Starting work for 49e71551-e790-4724-8190-ef07a8a4732a
21:43:29.894 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:29.895 [ОШИБКА:Получение размера:0305] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000305
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:29.900 Processor: processing WorkGenerationalId(workSpecId=49e71551-e790-4724-8190-ef07a8a4732a, generation=0)
21:43:29.919 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000304
21:43:29.919 [ФАЙЛ:0305] Сохранение: Изображение успешно сжато: IMG_20251123_214306_1.jpg, 0KB → 53KB
21:43:29.923 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000305 (осталось: 4)
21:43:29.924 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000303 (всего: 4)
21:43:29.926 onStartJob for WorkGenerationalId(workSpecId=49e71551-e790-4724-8190-ef07a8a4732a, generation=0)
21:43:29.927 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:29.928 [URI:0304] Изображение требует обработки
21:43:29.928 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:29.929 [URI:0304] Начало тестового сжатия в RAM
21:43:29.934 [URI:0304] Сжатие изображения в поток
21:43:29.936 Work WorkGenerationalId(workSpecId=49e71551-e790-4724-8190-ef07a8a4732a, generation=0) is already enqueued for processing
21:43:29.947 Moving WorkSpec (49e71551-e790-4724-8190-ef07a8a4732a) to the foreground
21:43:29.961 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:29.961 Notifying with (id:1, workSpecId: 49e71551-e790-4724-8190-ef07a8a4732a, notificationType :1)
21:43:29.966 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:29.971 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000301 в память (кэш не найден)
21:43:29.974 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000302
21:43:30.001 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.003 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000301:
21:43:30.004 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.005 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.014 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.014 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.015 Notifying with (id:1, workSpecId: 49e71551-e790-4724-8190-ef07a8a4732a, notificationType :1)
21:43:30.015 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.015 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.015 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.015 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000303
21:43:30.016 [URI:0303] Сжатие изображения в поток
21:43:30.017 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.018 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:05
21:43:30.019 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.019 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.019 [URI:0301] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.019 [СЖАТИЕ:0302] Запущена работа по сжатию для content://media/external/images/media/1000000302 с тегом compress_1763923410008_IMG_20251123_214305.jpg в батче auto_batch_1_1763923409451
21:43:30.020 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.021 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000299
21:43:30.021 [URI:0299] URI scheme: content, authority: media, path: /external/images/media/1000000299
21:43:30.025 [FileUtil] Директория для сохранения: Pictures
21:43:30.026 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214305_1.jpg (режим замены: true)
21:43:30.026 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.033 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000299 (всего: 5)
21:43:30.035 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000303
21:43:30.038 Background concurrent mark compact GC freed 4984KB AllocSpace bytes, 7(220KB) LOS objects, 49% free, 6139KB/11MB, paused 4.592ms,23.032ms total 130.797ms
21:43:30.039 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214305_1.jpg', включен режим замены - удаляем
21:43:30.053 Scheduling work ID 4a49258b-20bb-468e-9fdc-62b50359f386Job ID 120
21:43:30.055 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000303, обработка через 10 сек
21:43:30.056 [MediaStore] Существующий файл удален (режим замены)
21:43:30.059 Starting work for 4a49258b-20bb-468e-9fdc-62b50359f386
21:43:30.061 onStartJob for WorkGenerationalId(workSpecId=4a49258b-20bb-468e-9fdc-62b50359f386, generation=0)
21:43:30.062 Processor: processing WorkGenerationalId(workSpecId=4a49258b-20bb-468e-9fdc-62b50359f386, generation=0)
21:43:30.070 [СЖАТИЕ:0304] 141KB → 53KB (-62%)
21:43:30.071 [СЖАТИЕ:0304] 141KB → 53KB (-62.191357%)
21:43:30.071 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000304 эффективно (экономия 62.191357%), выполняем полное сжатие
21:43:30.071 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:30.075 Work WorkGenerationalId(workSpecId=4a49258b-20bb-468e-9fdc-62b50359f386, generation=0) is already enqueued for processing
21:43:30.081 [URI:0304] Имя файла: IMG_20251123_214306.jpg
21:43:30.081 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214306.jpg
21:43:30.083 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214306.jpg (режим замены: true)
21:43:30.086 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:30.089 [URI:0304] Директория для сохранения: Pictures
21:43:30.093 [URI:0304] Сжатие изображения в поток
21:43:30.093 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214305_1.jpg
21:43:30.095 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000301
21:43:30.096 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.098 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000307
21:43:30.101 Moving WorkSpec (4a49258b-20bb-468e-9fdc-62b50359f386) to the foreground
21:43:30.103 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:30.104 Notifying with (id:1, workSpecId: 4a49258b-20bb-468e-9fdc-62b50359f386, notificationType :1)
21:43:30.106 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:30.107 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000302 в память (кэш не найден)
21:43:30.111 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000302:
21:43:30.111 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.112 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000301
21:43:30.113 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.113 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.113 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.115 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.115 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.115 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.116 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:05
21:43:30.116 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.117 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.117 [URI:0302] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.118 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000307
21:43:30.123 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000299
21:43:30.123 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.124 [FileUtil] Директория для сохранения: Pictures/CompressPhotoFast
21:43:30.125 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214305_1.jpg (режим замены: true)
21:43:30.125 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/CompressPhotoFast
21:43:30.130 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:30.130 [URI:0301] Изображение требует обработки
21:43:30.130 [URI:0301] Начало тестового сжатия в RAM
21:43:30.130 [URI:0301] Сжатие изображения в поток
21:43:30.130 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000307, обработка через 10 сек
21:43:30.130 Notifying with (id:1, workSpecId: 4a49258b-20bb-468e-9fdc-62b50359f386, notificationType :1)
21:43:30.136 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000307
21:43:30.139 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214305_1.jpg', включен режим замены - удаляем
21:43:30.140 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.144 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000307
21:43:30.145 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000307, максимальное время: 2000 мс
21:43:30.150 [FileUtil] Ошибка при проверке доступности URI: open failed: ENOENT (No such file or directory)
21:43:30.151 [СЖАТИЕ:0299] Запущена работа по сжатию для content://media/external/images/media/1000000299 с тегом compress_1763923410130_IMG_20251123_214304.jpg в батче auto_batch_1_1763923409451
21:43:30.151 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.151 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000300
21:43:30.151 [URI:0300] URI scheme: content, authority: media, path: /external/images/media/1000000300
21:43:30.154 Scheduling work ID ed9524a2-2120-4518-8bd8-e088246b2bf3Job ID 121
21:43:30.155 [MediaStore] Существующий файл удален (режим замены)
21:43:30.157 [FileUtil] Директория для сохранения: Pictures
21:43:30.158 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214306.jpg (режим замены: true)
21:43:30.159 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.163 Starting work for ed9524a2-2120-4518-8bd8-e088246b2bf3
21:43:30.164 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000308
21:43:30.167 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000300 (всего: 6)
21:43:30.171 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000304
21:43:30.172 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214306.jpg', включен режим замены - удаляем
21:43:30.175 Processor: processing WorkGenerationalId(workSpecId=ed9524a2-2120-4518-8bd8-e088246b2bf3, generation=0)
21:43:30.175 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000308
21:43:30.182 onStartJob for WorkGenerationalId(workSpecId=ed9524a2-2120-4518-8bd8-e088246b2bf3, generation=0)
21:43:30.182 [MediaStore] Существующий файл удален (режим замены)
21:43:30.193 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000308, обработка через 10 сек
21:43:30.197 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000309
21:43:30.201 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000304, обработка через 10 сек
21:43:30.202 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000309
21:43:30.204 Work WorkGenerationalId(workSpecId=ed9524a2-2120-4518-8bd8-e088246b2bf3, generation=0) is already enqueued for processing
21:43:30.209 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000302
21:43:30.209 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.211 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000308
21:43:30.212 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000308, максимальное время: 2000 мс
21:43:30.216 [СЖАТИЕ:0301] 141KB → 53KB (-62%)
21:43:30.217 [СЖАТИЕ:0301] 141KB → 53KB (-62.258755%)
21:43:30.218 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000301 эффективно (экономия 62.258755%), выполняем полное сжатие
21:43:30.220 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:30.222 [FileUtil] URI стал доступен через 9 мс, размер: 55026 байт
21:43:30.224 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000302
21:43:30.227 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000309, обработка через 10 сек
21:43:30.227 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:30.231 [URI:0301] Имя файла: IMG_20251123_214304_2.jpg
21:43:30.231 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214304_2.jpg
21:43:30.231 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214304_2.jpg (режим замены: true)
21:43:30.232 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:30.235 [URI:0302] Изображение требует обработки
21:43:30.236 [URI:0302] Начало тестового сжатия в RAM
21:43:30.237 [URI:0302] Сжатие изображения в поток
21:43:30.237 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000309
21:43:30.239 [URI:0301] Директория для сохранения: Pictures
21:43:30.239 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000309, максимальное время: 2000 мс
21:43:30.240 Moving WorkSpec (ed9524a2-2120-4518-8bd8-e088246b2bf3) to the foreground
21:43:30.243 [URI:0301] Сжатие изображения в поток
21:43:30.251 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923410000
21:43:30.251 [FileUtil] URI стал доступен через 12 мс, размер: 54711 байт
21:43:30.253 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.262 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:30.264 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000300
21:43:30.265 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.265 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:30.266 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000299 в память (кэш не найден)
21:43:30.271 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:30.271 Notifying with (id:1, workSpecId: ed9524a2-2120-4518-8bd8-e088246b2bf3, notificationType :1)
21:43:30.274 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923410274
21:43:30.281 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923410000
21:43:30.282 Notifying with (id:1, workSpecId: ed9524a2-2120-4518-8bd8-e088246b2bf3, notificationType :1)
21:43:30.285 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000308
21:43:30.287 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000299:
21:43:30.287 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.288 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.288 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.288 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.288 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.288 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.293 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.293 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:04
21:43:30.293 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.293 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.294 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:30.295 [URI:0299] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.295 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:30.298 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:30.298 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923410298
21:43:30.301 [FileUtil] Директория для сохранения: Pictures
21:43:30.310 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214304_2.jpg (режим замены: true)
21:43:30.311 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.312 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.312 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000309
21:43:30.313 [СЖАТИЕ:0300] Запущена работа по сжатию для content://media/external/images/media/1000000300 с тегом compress_1763923410287_IMG_20251123_214304_1.jpg в батче auto_batch_1_1763923409451
21:43:30.313 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.313 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000296
21:43:30.313 [URI:0296] URI scheme: content, authority: media, path: /external/images/media/1000000296
21:43:30.319 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:30.320 [СЖАТИЕ:0302] 142KB → 53KB (-62%)
21:43:30.320 [СЖАТИЕ:0302] 142KB → 53KB (-62.16207%)
21:43:30.320 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:30.320 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000302 эффективно (экономия 62.16207%), выполняем полное сжатие
21:43:30.320 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:30.322 Scheduling work ID 0f58f13d-c656-45d5-b229-3ba244e42448Job ID 122
21:43:30.323 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000296 (всего: 7)
21:43:30.326 onStartJob for WorkGenerationalId(workSpecId=0f58f13d-c656-45d5-b229-3ba244e42448, generation=0)
21:43:30.326 Starting work for 0f58f13d-c656-45d5-b229-3ba244e42448
21:43:30.328 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000301
21:43:30.332 Processor: processing WorkGenerationalId(workSpecId=0f58f13d-c656-45d5-b229-3ba244e42448, generation=0)
21:43:30.333 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214304_2.jpg', включен режим замены - удаляем
21:43:30.334 Work WorkGenerationalId(workSpecId=0f58f13d-c656-45d5-b229-3ba244e42448, generation=0) is already enqueued for processing
21:43:30.338 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:30.342 [URI:0302] Имя файла: IMG_20251123_214305.jpg
21:43:30.342 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214305.jpg
21:43:30.342 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214305.jpg (режим замены: true)
21:43:30.350 Moving WorkSpec (0f58f13d-c656-45d5-b229-3ba244e42448) to the foreground
21:43:30.353 [URI:0302] Директория для сохранения: Pictures
21:43:30.355 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.356 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:30.356 Notifying with (id:1, workSpecId: 0f58f13d-c656-45d5-b229-3ba244e42448, notificationType :1)
21:43:30.360 [URI:0302] Сжатие изображения в поток
21:43:30.360 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:30.360 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000300 в память (кэш не найден)
21:43:30.363 [MediaStore] Существующий файл удален (режим замены)
21:43:30.371 Notifying with (id:1, workSpecId: 0f58f13d-c656-45d5-b229-3ba244e42448, notificationType :1)
21:43:30.378 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000310
21:43:30.378 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000300:
21:43:30.378 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.378 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.378 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.378 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.379 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.379 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.379 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.379 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:04
21:43:30.379 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.379 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.380 [URI:0300] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.394 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000310
21:43:30.399 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:30.399 [FileUtil] Обработка EXIF данных: успешно
21:43:30.406 [FileUtil] Директория для сохранения: Pictures
21:43:30.406 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214305.jpg (режим замены: true)
21:43:30.406 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.408 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000310
21:43:30.408 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000310, максимальное время: 2000 мс
21:43:30.412 [FileUtil] URI стал доступен через 4 мс, размер: 54755 байт
21:43:30.414 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000302
21:43:30.417 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000301, обработка через 10 сек
21:43:30.420 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214305.jpg', включен режим замены - удаляем
21:43:30.425 [ОШИБКА:Получение размера:0303] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000303
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:30.432 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000299
21:43:30.433 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.436 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:30.437 [FileUtil] Обработка EXIF данных: успешно
21:43:30.438 [ФАЙЛ:0304] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000309
21:43:30.439 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923410000
21:43:30.442 [MediaStore] Существующий файл удален (режим замены)
21:43:30.444 [ФАЙЛ:0303] Сохранение: Изображение успешно сжато: IMG_20251123_214305_1.jpg, 0KB → 54KB
21:43:30.444 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000303 (осталось: 6)
21:43:30.444 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000304 (всего: 6)
21:43:30.445 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:30.448 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000310, обработка через 10 сек
21:43:30.451 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923410445
21:43:30.454 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000311
21:43:30.463 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000310
21:43:30.463 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000311
21:43:30.465 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.471 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000299
21:43:30.475 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:30.475 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:30.476 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000296
21:43:30.478 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.484 Failed to get type for: content://media/external/images/media/1000000304 (No item at content://media/external/images/media/1000000304)
21:43:30.489 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:30.490 [URI:0299] Изображение требует обработки
21:43:30.491 [URI:0299] Начало тестового сжатия в RAM
21:43:30.492 [URI:0299] Сжатие изображения в поток
21:43:30.493 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000309 до Sun Nov 23 21:43:35 GMT+03:00 2025
21:43:30.496 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000309
21:43:30.496 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000309 пропущен, так как недавно обработан.
21:43:30.497 [URI:0304] URI не существует
21:43:30.499 [ОШИБКА:Обработка:0304] Недействительный URI
21:43:30.501 [ПРОЦЕСС] deleteFile: URI находится в обработке, удаление отменено: content://media/external/images/media/1000000304
21:43:30.502 [ОШИБКА:Удаление:0304] Не удалось удалить оригинальный файл
21:43:30.505 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000311
21:43:30.505 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000304 (осталось: 5)
21:43:30.505 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000311, максимальное время: 2000 мс
21:43:30.507 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000301 (всего: 5)
21:43:30.512 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.513 [FileUtil] URI стал доступен через 7 мс, размер: 55285 байт
21:43:30.513 [СЖАТИЕ:0296] Запущена работа по сжатию для content://media/external/images/media/1000000296 с тегом compress_1763923410503_IMG_20251123_214302_2.jpg в батче auto_batch_1_1763923409451
21:43:30.513 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.513 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000297
21:43:30.517 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000300
21:43:30.521 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.521 [URI:0297] URI scheme: content, authority: media, path: /external/images/media/1000000297
21:43:30.522 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214306.jpg (1)
21:43:30.523 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214306.jpg
21:43:30.525 Scheduling work ID 0ac46877-b255-4be7-9887-35b4d5cf8061Job ID 123
21:43:30.525 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000302, обработка через 10 сек
21:43:30.528 Starting work for 0ac46877-b255-4be7-9887-35b4d5cf8061
21:43:30.533 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923410000
21:43:30.534 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000297 (всего: 6)
21:43:30.536 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000311, обработка через 10 сек
21:43:30.537 Processor: processing WorkGenerationalId(workSpecId=0ac46877-b255-4be7-9887-35b4d5cf8061, generation=0)
21:43:30.541 Moving WorkSpec (8bf55c3b-a7f7-4593-8985-4e4286c3097c) to the foreground
21:43:30.541 Failed to get type for: content://media/external/images/media/1000000301 (No item at content://media/external/images/media/1000000301)
21:43:30.543 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:30.543 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923410543
21:43:30.545 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000300
21:43:30.545 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000304
21:43:30.546 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000311
21:43:30.549 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:30.549 [URI:0300] Изображение требует обработки
21:43:30.549 [URI:0300] Начало тестового сжатия в RAM
21:43:30.551 [URI:0300] Сжатие изображения в поток
21:43:30.554 [СЖАТИЕ:0299] 141KB → 53KB (-62%)
21:43:30.554 [СЖАТИЕ:0299] 141KB → 53KB (-62.30706%)
21:43:30.555 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000299 эффективно (экономия 62.30706%), выполняем полное сжатие
21:43:30.555 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:30.562 onStartJob for WorkGenerationalId(workSpecId=0ac46877-b255-4be7-9887-35b4d5cf8061, generation=0)
21:43:30.563 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:30.564 [URI:0299] Имя файла: IMG_20251123_214304.jpg
21:43:30.565 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214304.jpg
21:43:30.565 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214304.jpg (режим замены: true)
21:43:30.567 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:30.574 [URI:0301] URI не существует
21:43:30.578 [ОШИБКА:Обработка:0301] Недействительный URI
21:43:30.584 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000301 (осталось: 5)
21:43:30.587 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000302 (всего: 5)
21:43:30.589 Notifying with (id:1, workSpecId: 8bf55c3b-a7f7-4593-8985-4e4286c3097c, notificationType :1)
21:43:30.591 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.597 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:30.598 [FileUtil] Обработка EXIF данных: успешно
21:43:30.598 [ФАЙЛ:0301] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000310
21:43:30.600 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000310
21:43:30.600 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000310 пропущен, так как недавно обработан.
21:43:30.600 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:30.600 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000310 до Sun Nov 23 21:43:35 GMT+03:00 2025
21:43:30.602 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000301
21:43:30.605 [URI:0299] Директория для сохранения: Pictures
21:43:30.606 Failed to get type for: content://media/external/images/media/1000000301 (No item at content://media/external/images/media/1000000301)
21:43:30.609 Work WorkGenerationalId(workSpecId=0ac46877-b255-4be7-9887-35b4d5cf8061, generation=0) is already enqueued for processing
21:43:30.616 [URI:0299] Сжатие изображения в поток
21:43:30.621 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000301
21:43:30.622 [ОШИБКА:Удаление:0301] Не удалось удалить оригинальный файл
21:43:30.626 Worker result SUCCESS for Work [ id=8bf55c3b-a7f7-4593-8985-4e4286c3097c, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923409762_IMG_20251123_214306.jpg } ]
21:43:30.627 Processor 8bf55c3b-a7f7-4593-8985-4e4286c3097c executed; reschedule = false
21:43:30.627 8bf55c3b-a7f7-4593-8985-4e4286c3097c executed on JobScheduler
21:43:30.627 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=8bf55c3b-a7f7-4593-8985-4e4286c3097c, generation=0), notificationType: 1
21:43:30.630 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214304_2.jpg (2)
21:43:30.630 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214304_2.jpg
21:43:30.634 Failed to get type for: content://media/external/images/media/1000000302 (No item at content://media/external/images/media/1000000302)
21:43:30.636 Cancelling work ID 8bf55c3b-a7f7-4593-8985-4e4286c3097c
21:43:30.641 Moving WorkSpec (0ac46877-b255-4be7-9887-35b4d5cf8061) to the foreground
21:43:30.648 [URI:0302] URI не существует
21:43:30.649 [ОШИБКА:Обработка:0302] Недействительный URI
21:43:30.649 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000302 (осталось: 4)
21:43:30.649 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000299 (всего: 4)
21:43:30.650 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:30.650 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000296 в память (кэш не найден)
21:43:30.650 [СЖАТИЕ:0300] 141KB → 53KB (-62%)
21:43:30.651 [СЖАТИЕ:0300] 141KB → 53KB (-62.153442%)
21:43:30.651 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000300 эффективно (экономия 62.153442%), выполняем полное сжатие
21:43:30.651 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:30.651 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:30.651 Notifying with (id:1, workSpecId: 0ac46877-b255-4be7-9887-35b4d5cf8061, notificationType :1)
21:43:30.652 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000297
21:43:30.652 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.654 Moving WorkSpec (49e71551-e790-4724-8190-ef07a8a4732a) to the foreground
21:43:30.658 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000301
21:43:30.659 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000296:
21:43:30.659 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.659 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.659 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.659 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.659 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.659 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.659 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.659 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:03
21:43:30.659 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.659 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.660 [URI:0300] Имя файла: IMG_20251123_214304_1.jpg
21:43:30.660 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214304_1.jpg
21:43:30.660 [URI:0296] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.660 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214304_1.jpg (режим замены: true)
21:43:30.661 Notifying with (id:1, workSpecId: 0ac46877-b255-4be7-9887-35b4d5cf8061, notificationType :1)
21:43:30.665 Notifying with (id:1, workSpecId: 49e71551-e790-4724-8190-ef07a8a4732a, notificationType :1)
21:43:30.670 Worker result SUCCESS for Work [ id=49e71551-e790-4724-8190-ef07a8a4732a, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923409854_IMG_20251123_214304_2.jpg } ]
21:43:30.671 [URI:0300] Директория для сохранения: Pictures
21:43:30.676 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.678 Processor 49e71551-e790-4724-8190-ef07a8a4732a executed; reschedule = false
21:43:30.680 49e71551-e790-4724-8190-ef07a8a4732a executed on JobScheduler
21:43:30.680 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=49e71551-e790-4724-8190-ef07a8a4732a, generation=0), notificationType: 1
21:43:30.681 [URI:0300] Сжатие изображения в поток
21:43:30.684 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:30.685 [FileUtil] Обработка EXIF данных: успешно
21:43:30.685 [ФАЙЛ:0302] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000311
21:43:30.685 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000311 до Sun Nov 23 21:43:35 GMT+03:00 2025
21:43:30.685 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000302
21:43:30.687 [СЖАТИЕ:0297] Запущена работа по сжатию для content://media/external/images/media/1000000297 с тегом compress_1763923410665_IMG_20251123_214303.jpg в батче auto_batch_1_1763923409451
21:43:30.688 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.688 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000298
21:43:30.691 Failed to get type for: content://media/external/images/media/1000000302 (No item at content://media/external/images/media/1000000302)
21:43:30.692 [URI:0298] URI scheme: content, authority: media, path: /external/images/media/1000000298
21:43:30.692 [FileUtil] Директория для сохранения: Pictures
21:43:30.692 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214304.jpg (режим замены: true)
21:43:30.693 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.693 Cancelling work ID 49e71551-e790-4724-8190-ef07a8a4732a
21:43:30.694 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.704 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000298 (всего: 5)
21:43:30.706 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000299
21:43:30.707 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000302
21:43:30.707 [ОШИБКА:Удаление:0302] Не удалось удалить оригинальный файл
21:43:30.710 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214304.jpg', включен режим замены - удаляем
21:43:30.715 Scheduling work ID 034ee4b2-9fd9-4b70-9b0f-3360fda79275Job ID 124
21:43:30.716 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000299
21:43:30.717 [URI:0299] Сжатие изображения в поток
21:43:30.718 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214305.jpg (3)
21:43:30.719 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214305.jpg
21:43:30.724 Starting work for 034ee4b2-9fd9-4b70-9b0f-3360fda79275
21:43:30.724 onStartJob for WorkGenerationalId(workSpecId=034ee4b2-9fd9-4b70-9b0f-3360fda79275, generation=0)
21:43:30.725 [MediaStore] Существующий файл удален (режим замены)
21:43:30.727 [ОШИБКА:Сжатие в поток:0299]
21:43:30.727 java.io.FileNotFoundException: open failed: ENOENT (No such file or directory)
21:43:30.727 	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
21:43:30.727 	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
21:43:30.727 	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
21:43:30.727 	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
21:43:30.727 	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil$compressImageToStream$2.invokeSuspend(ImageCompressionUtil.kt:46)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil$compressImageToStream$2.invoke(Unknown Source:8)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil$compressImageToStream$2.invoke(Unknown Source:4)
21:43:30.727 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:30.727 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:30.727 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:30.727 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil.compressImageToStream(ImageCompressionUtil.kt:41)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invokeSuspend(ImageCompressionUtil.kt:245)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invoke(Unknown Source:8)
21:43:30.727 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invoke(Unknown Source:4)
21:43:30.727 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:30.727 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:30.728 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:30.728 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:30.728 	at com.compressphotofast.util.ImageCompressionUtil.processAndSaveImage(ImageCompressionUtil.kt:220)
21:43:30.728 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:216)
21:43:30.728 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invoke(Unknown Source:8)
21:43:30.728 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invoke(Unknown Source:4)
21:43:30.728 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:30.728 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:30.728 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:30.728 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:30.728 	at com.compressphotofast.util.SequentialImageProcessor.processImage(SequentialImageProcessor.kt:200)
21:43:30.728 	at com.compressphotofast.util.SequentialImageProcessor.access$processImage(SequentialImageProcessor.kt:60)
21:43:30.728 	at com.compressphotofast.util.SequentialImageProcessor$processImages$2.invokeSuspend(SequentialImageProcessor.kt:120)
21:43:30.728 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
21:43:30.728 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:30.728 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:30.728 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:30.728 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:30.728 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:30.728 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:30.728 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:30.728 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:30.728 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:30.728 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:30.728 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:30.728 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:30.728 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
21:43:30.728 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
21:43:30.728 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
21:43:30.728 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
21:43:30.728 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
21:43:30.728 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
21:43:30.728 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:30.728 [ОШИБКА:Обработка:0299] Ошибка при сжатии изображения
21:43:30.728 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000299 (осталось: 4)
21:43:30.728 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000300 (всего: 4)
21:43:30.731 Processor: processing WorkGenerationalId(workSpecId=034ee4b2-9fd9-4b70-9b0f-3360fda79275, generation=0)
21:43:30.732 [FileUtil] Директория для сохранения: Pictures
21:43:30.735 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214304_1.jpg (режим замены: true)
21:43:30.735 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.739 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000312
21:43:30.741 Work WorkGenerationalId(workSpecId=034ee4b2-9fd9-4b70-9b0f-3360fda79275, generation=0) is already enqueued for processing
21:43:30.746 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000312
21:43:30.748 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000300
21:43:30.751 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214304_1.jpg', включен режим замены - удаляем
21:43:30.753 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000299, обработка через 10 сек
21:43:30.756 Moving WorkSpec (4a49258b-20bb-468e-9fdc-62b50359f386) to the foreground
21:43:30.758 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000302
21:43:30.764 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000296
21:43:30.765 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.774 Failed to get type for: content://media/external/images/media/1000000300 (No item at content://media/external/images/media/1000000300)
21:43:30.775 [URI:0300] URI не является изображением: null
21:43:30.775 [ОШИБКА:Обработка:0300] Недействительный URI
21:43:30.775 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000300 (осталось: 3)
21:43:30.776 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000296 (всего: 3)
21:43:30.778 [MediaStore] Существующий файл удален (режим замены)
21:43:30.783 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000312
21:43:30.784 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000312, максимальное время: 2000 мс
21:43:30.787 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000298
21:43:30.789 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.797 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000312, обработка через 10 сек
21:43:30.797 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000296
21:43:30.798 [FileUtil] URI стал доступен через 14 мс, размер: 54530 байт
21:43:30.799 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:30.800 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.802 Notifying with (id:1, workSpecId: 4a49258b-20bb-468e-9fdc-62b50359f386, notificationType :1)
21:43:30.808 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:30.808 [URI:0296] Изображение требует обработки
21:43:30.808 [URI:0296] Начало тестового сжатия в RAM
21:43:30.809 [URI:0296] Сжатие изображения в поток
21:43:30.809 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.812 Worker result SUCCESS for Work [ id=4a49258b-20bb-468e-9fdc-62b50359f386, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410008_IMG_20251123_214305.jpg } ]
21:43:30.815 [СЖАТИЕ:0298] Запущена работа по сжатию для content://media/external/images/media/1000000298 с тегом compress_1763923410801_IMG_20251123_214303_1.jpg в батче auto_batch_1_1763923409451
21:43:30.815 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000313
21:43:30.815 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.816 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000294
21:43:30.816 [URI:0294] URI scheme: content, authority: media, path: /external/images/media/1000000294
21:43:30.820 Moving WorkSpec (034ee4b2-9fd9-4b70-9b0f-3360fda79275) to the foreground
21:43:30.838 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000300, обработка через 10 сек
21:43:30.840 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000294 (всего: 4)
21:43:30.841 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923410000
21:43:30.843 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000313
21:43:30.843 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000296
21:43:30.844 [URI:0296] Сжатие изображения в поток
21:43:30.881 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:30.885 Scheduling work ID 34ff8633-9b5a-473a-ad89-1ce3a94fe976Job ID 125
21:43:30.885 Processor 4a49258b-20bb-468e-9fdc-62b50359f386 executed; reschedule = false
21:43:30.885 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000313
21:43:30.886 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:30.886 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000297 в память (кэш не найден)
21:43:30.887 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000313, максимальное время: 2000 мс
21:43:30.888 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923410888
21:43:30.890 4a49258b-20bb-468e-9fdc-62b50359f386 executed on JobScheduler
21:43:30.890 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=4a49258b-20bb-468e-9fdc-62b50359f386, generation=0), notificationType: 1
21:43:30.894 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000312
21:43:30.899 Starting work for 34ff8633-9b5a-473a-ad89-1ce3a94fe976
21:43:30.901 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:30.902 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:30.904 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:30.905 [FileUtil] URI стал доступен через 8 мс, размер: 54904 байт
21:43:30.906 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000297:
21:43:30.907 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.907 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.907 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.907 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.909 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000313, обработка через 10 сек
21:43:30.909 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:30.909 Notifying with (id:1, workSpecId: 034ee4b2-9fd9-4b70-9b0f-3360fda79275, notificationType :1)
21:43:30.911 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.911 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.912 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.912 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:03
21:43:30.912 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.912 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.912 [URI:0297] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.913 Notifying with (id:1, workSpecId: 034ee4b2-9fd9-4b70-9b0f-3360fda79275, notificationType :1)
21:43:30.917 Cancelling work ID 4a49258b-20bb-468e-9fdc-62b50359f386
21:43:30.919 [СЖАТИЕ:0296] 141KB → 53KB (-62%)
21:43:30.919 [СЖАТИЕ:0296] 141KB → 53KB (-62.412132%)
21:43:30.919 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000296 эффективно (экономия 62.412132%), выполняем полное сжатие
21:43:30.919 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:30.921 Background concurrent mark compact GC freed 4704KB AllocSpace bytes, 49(1748KB) LOS objects, 49% free, 6927KB/13MB, paused 1.612ms,28.979ms total 193.563ms
21:43:30.932 Processor: processing WorkGenerationalId(workSpecId=34ff8633-9b5a-473a-ad89-1ce3a94fe976, generation=0)
21:43:30.936 onStartJob for WorkGenerationalId(workSpecId=34ff8633-9b5a-473a-ad89-1ce3a94fe976, generation=0)
21:43:30.937 onStopJob for WorkGenerationalId(workSpecId=4a49258b-20bb-468e-9fdc-62b50359f386, generation=0)
21:43:30.938 [URI:0296] Имя файла: IMG_20251123_214302_2.jpg
21:43:30.938 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214302_2.jpg
21:43:30.938 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214302_2.jpg (режим замены: true)
21:43:30.939 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923410000
21:43:30.945 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:30.945 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214302_2.jpg
21:43:30.946 Work WorkGenerationalId(workSpecId=34ff8633-9b5a-473a-ad89-1ce3a94fe976, generation=0) is already enqueued for processing
21:43:30.946 [URI:0296] Директория для сохранения: Pictures
21:43:30.949 [URI:0296] Сжатие изображения в поток
21:43:30.953 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:30.953 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923410953
21:43:30.955 [FileUtil] Директория для сохранения: Pictures
21:43:30.955 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214302_2.jpg (режим замены: true)
21:43:30.956 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.957 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000313
21:43:30.957 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000294
21:43:30.957 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.959 Moving WorkSpec (34ff8633-9b5a-473a-ad89-1ce3a94fe976) to the foreground
21:43:30.962 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:30.963 Notifying with (id:1, workSpecId: 34ff8633-9b5a-473a-ad89-1ce3a94fe976, notificationType :1)
21:43:30.963 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:30.964 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:30.967 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:30.967 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000298 в память (кэш не найден)
21:43:30.969 Notifying with (id:1, workSpecId: 34ff8633-9b5a-473a-ad89-1ce3a94fe976, notificationType :1)
21:43:30.970 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000296
21:43:30.975 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214302_2.jpg', включен режим замены - удаляем
21:43:30.976 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000298:
21:43:30.976 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:30.976 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:30.977 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:30.977 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:30.977 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:30.977 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:30.977 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:30.977 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:30.978 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:03
21:43:30.978 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:30.978 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:30.978 [URI:0298] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:30.979 [СЖАТИЕ:0294] Запущена работа по сжатию для content://media/external/images/media/1000000294 с тегом compress_1763923410969_IMG_20251123_214302.jpg в батче auto_batch_1_1763923409451
21:43:30.979 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:30.979 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000295
21:43:30.979 [URI:0295] URI scheme: content, authority: media, path: /external/images/media/1000000295
21:43:30.980 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000297
21:43:30.980 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:30.993 [MediaStore] Существующий файл удален (режим замены)
21:43:30.995 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000295 (всего: 5)
21:43:30.997 [FileUtil] Директория для сохранения: Pictures
21:43:30.997 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214302_2.jpg (режим замены: true)
21:43:30.997 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:30.998 Scheduling work ID dc81a47b-cabe-43c7-8303-585aadd293bdJob ID 126
21:43:31.001 Starting work for dc81a47b-cabe-43c7-8303-585aadd293bd
21:43:31.005 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000314
21:43:31.007 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.008 [FileUtil] Обработка EXIF данных: успешно
21:43:31.015 [ФАЙЛ:0299] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000312
21:43:31.015 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000312 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.015 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.016 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000296, обработка через 10 сек
21:43:31.016 onStartJob for WorkGenerationalId(workSpecId=dc81a47b-cabe-43c7-8303-585aadd293bd, generation=0)
21:43:31.017 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000299
21:43:31.018 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000314
21:43:31.018 Processor: processing WorkGenerationalId(workSpecId=dc81a47b-cabe-43c7-8303-585aadd293bd, generation=0)
21:43:31.024 Failed to get type for: content://media/external/images/media/1000000299 (No item at content://media/external/images/media/1000000299)
21:43:31.031 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000315
21:43:31.034 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000299
21:43:31.034 [ОШИБКА:Удаление:0299] Не удалось удалить оригинальный файл
21:43:31.038 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000297
21:43:31.040 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000314, обработка через 10 сек
21:43:31.043 Work WorkGenerationalId(workSpecId=dc81a47b-cabe-43c7-8303-585aadd293bd, generation=0) is already enqueued for processing
21:43:31.043 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000298
21:43:31.043 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214304.jpg (4)
21:43:31.043 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.044 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000315
21:43:31.049 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.049 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214304.jpg
21:43:31.049 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000314
21:43:31.049 [URI:0297] Изображение требует обработки
21:43:31.050 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000314, максимальное время: 2000 мс
21:43:31.050 [URI:0297] Начало тестового сжатия в RAM
21:43:31.050 [URI:0297] Сжатие изображения в поток
21:43:31.054 [FileUtil] URI стал доступен через 4 мс, размер: 54596 байт
21:43:31.064 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000315, обработка через 10 сек
21:43:31.064 Moving WorkSpec (ed9524a2-2120-4518-8bd8-e088246b2bf3) to the foreground
21:43:31.064 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.071 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000295
21:43:31.072 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.076 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000298
21:43:31.078 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.078 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.079 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000299
21:43:31.080 [FileUtil] Обработка EXIF данных: успешно
21:43:31.082 [ФАЙЛ:0300] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000313
21:43:31.083 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000313 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.083 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000300
21:43:31.086 Moving WorkSpec (dc81a47b-cabe-43c7-8303-585aadd293bd) to the foreground
21:43:31.086 Notifying with (id:1, workSpecId: ed9524a2-2120-4518-8bd8-e088246b2bf3, notificationType :1)
21:43:31.092 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.093 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411092
21:43:31.093 Failed to get type for: content://media/external/images/media/1000000300 (No item at content://media/external/images/media/1000000300)
21:43:31.093 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.094 [URI:0298] Изображение требует обработки
21:43:31.094 [URI:0298] Начало тестового сжатия в RAM
21:43:31.094 [URI:0298] Сжатие изображения в поток
21:43:31.096 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.098 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000294 в память (кэш не найден)
21:43:31.099 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000314
21:43:31.103 [СЖАТИЕ:0297] 141KB → 53KB (-62%)
21:43:31.103 [СЖАТИЕ:0297] 141KB → 53KB (-62.163746%)
21:43:31.103 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000297 эффективно (экономия 62.163746%), выполняем полное сжатие
21:43:31.103 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.103 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.104 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.105 Notifying with (id:1, workSpecId: dc81a47b-cabe-43c7-8303-585aadd293bd, notificationType :1)
21:43:31.106 Worker result SUCCESS for Work [ id=ed9524a2-2120-4518-8bd8-e088246b2bf3, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410130_IMG_20251123_214304.jpg } ]
21:43:31.108 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.109 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.110 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000315
21:43:31.111 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000294:
21:43:31.112 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.114 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.114 [URI:0297] Имя файла: IMG_20251123_214303.jpg
21:43:31.114 Notifying with (id:1, workSpecId: dc81a47b-cabe-43c7-8303-585aadd293bd, notificationType :1)
21:43:31.114 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000315, максимальное время: 2000 мс
21:43:31.114 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214303.jpg
21:43:31.114 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214303.jpg (режим замены: true)
21:43:31.115 [СЖАТИЕ:0295] Запущена работа по сжатию для content://media/external/images/media/1000000295 с тегом compress_1763923411092_IMG_20251123_214302_1.jpg в батче auto_batch_1_1763923409451
21:43:31.115 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.115 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.117 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.117 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000300
21:43:31.117 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.117 [ОШИБКА:Удаление:0300] Не удалось удалить оригинальный файл
21:43:31.117 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.118 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.118 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:02
21:43:31.119 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.119 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000291
21:43:31.119 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.119 [URI:0291] URI scheme: content, authority: media, path: /external/images/media/1000000291
21:43:31.120 [URI:0294] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.124 [URI:0297] Директория для сохранения: Pictures
21:43:31.125 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.127 [FileUtil] URI стал доступен через 13 мс, размер: 54596 байт
21:43:31.128 Processor ed9524a2-2120-4518-8bd8-e088246b2bf3 executed; reschedule = false
21:43:31.129 [URI:0297] Сжатие изображения в поток
21:43:31.130 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214304_1.jpg (5)
21:43:31.130 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214304_1.jpg
21:43:31.137 Scheduling work ID 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48eJob ID 127
21:43:31.138 ed9524a2-2120-4518-8bd8-e088246b2bf3 executed on JobScheduler
21:43:31.138 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=ed9524a2-2120-4518-8bd8-e088246b2bf3, generation=0), notificationType: 1
21:43:31.139 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000291 (всего: 6)
21:43:31.143 Starting work for 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e
21:43:31.148 onStartJob for WorkGenerationalId(workSpecId=8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, generation=0)
21:43:31.149 Cancelling work ID ed9524a2-2120-4518-8bd8-e088246b2bf3
21:43:31.149 onStopJob for WorkGenerationalId(workSpecId=ed9524a2-2120-4518-8bd8-e088246b2bf3, generation=0)
21:43:31.151 [СЖАТИЕ:0298] 141KB → 53KB (-62%)
21:43:31.151 [СЖАТИЕ:0298] 141KB → 53KB (-62.25322%)
21:43:31.151 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000298 эффективно (экономия 62.25322%), выполняем полное сжатие
21:43:31.151 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.152 Moving WorkSpec (0f58f13d-c656-45d5-b229-3ba244e42448) to the foreground
21:43:31.155 Notifying with (id:1, workSpecId: 0f58f13d-c656-45d5-b229-3ba244e42448, notificationType :1)
21:43:31.158 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.159 Processor: processing WorkGenerationalId(workSpecId=8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, generation=0)
21:43:31.162 Work WorkGenerationalId(workSpecId=8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, generation=0) is already enqueued for processing
21:43:31.163 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000300
21:43:31.163 [URI:0298] Имя файла: IMG_20251123_214303_1.jpg
21:43:31.163 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214303_1.jpg
21:43:31.163 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214303_1.jpg (режим замены: true)
21:43:31.168 [URI:0298] Директория для сохранения: Pictures
21:43:31.170 [FileUtil] Директория для сохранения: Pictures
21:43:31.170 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214303.jpg (режим замены: true)
21:43:31.170 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.170 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:31.170 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411170
21:43:31.174 [URI:0298] Сжатие изображения в поток
21:43:31.180 Worker result SUCCESS for Work [ id=0f58f13d-c656-45d5-b229-3ba244e42448, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410287_IMG_20251123_214304_1.jpg } ]
21:43:31.182 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.184 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000297
21:43:31.187 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000294
21:43:31.187 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.190 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000315
21:43:31.191 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214303.jpg', включен режим замены - удаляем
21:43:31.193 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.193 Moving WorkSpec (8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e) to the foreground
21:43:31.193 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.196 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000291
21:43:31.197 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.198 Processor 0f58f13d-c656-45d5-b229-3ba244e42448 executed; reschedule = false
21:43:31.198 0f58f13d-c656-45d5-b229-3ba244e42448 executed on JobScheduler
21:43:31.198 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=0f58f13d-c656-45d5-b229-3ba244e42448, generation=0), notificationType: 1
21:43:31.200 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.200 Notifying with (id:1, workSpecId: 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, notificationType :1)
21:43:31.202 [MediaStore] Существующий файл удален (режим замены)
21:43:31.205 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.206 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000295 в память (кэш не найден)
21:43:31.210 Cancelling work ID 0f58f13d-c656-45d5-b229-3ba244e42448
21:43:31.214 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000294
21:43:31.217 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000316
21:43:31.220 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000295:
21:43:31.225 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.225 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.225 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.225 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.225 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.225 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.226 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.226 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:02
21:43:31.226 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.226 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000297, обработка через 10 сек
21:43:31.227 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.227 [FileUtil] Обработка EXIF данных: успешно
21:43:31.228 Notifying with (id:1, workSpecId: 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, notificationType :1)
21:43:31.228 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.228 [URI:0294] Изображение требует обработки
21:43:31.228 [URI:0294] Начало тестового сжатия в RAM
21:43:31.229 [URI:0294] Сжатие изображения в поток
21:43:31.229 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000316
21:43:31.229 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.230 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.231 [СЖАТИЕ:0291] Запущена работа по сжатию для content://media/external/images/media/1000000291 с тегом compress_1763923411214_IMG_20251123_214300_1.jpg в батче auto_batch_1_1763923409451
21:43:31.231 [URI:0295] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.231 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.231 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000292
21:43:31.231 [URI:0292] URI scheme: content, authority: media, path: /external/images/media/1000000292
21:43:31.232 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.235 [FileUtil] Директория для сохранения: Pictures
21:43:31.236 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214303_1.jpg (режим замены: true)
21:43:31.237 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:31.239 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000292 (всего: 7)
21:43:31.242 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000298
21:43:31.243 [ОШИБКА:Получение размера:0296] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000296
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:31.244 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214303_1.jpg', включен режим замены - удаляем
21:43:31.253 [MediaStore] Существующий файл удален (режим замены)
21:43:31.261 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000317
21:43:31.267 Scheduling work ID 67a46f96-4205-46b3-b47e-b4af58534d63Job ID 128
21:43:31.271 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000317
21:43:31.274 [ФАЙЛ:0296] Сохранение: Изображение успешно сжато: IMG_20251123_214302_2.jpg, 0KB → 54KB
21:43:31.275 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000296 (осталось: 6)
21:43:31.275 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000297 (всего: 6)
21:43:31.282 Starting work for 67a46f96-4205-46b3-b47e-b4af58534d63
21:43:31.282 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000316
21:43:31.283 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000316, максимальное время: 2000 мс
21:43:31.287 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000316, обработка через 10 сек
21:43:31.290 Processor: processing WorkGenerationalId(workSpecId=67a46f96-4205-46b3-b47e-b4af58534d63, generation=0)
21:43:31.291 [FileUtil] URI стал доступен через 8 мс, размер: 54785 байт
21:43:31.295 [СЖАТИЕ:0294] 141KB → 53KB (-62%)
21:43:31.296 [СЖАТИЕ:0294] 141KB → 53KB (-62.21072%)
21:43:31.296 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000294 эффективно (экономия 62.21072%), выполняем полное сжатие
21:43:31.296 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.307 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.307 [FileUtil] Обработка EXIF данных: успешно
21:43:31.307 [ФАЙЛ:0296] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000315
21:43:31.307 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000315 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.308 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000296
21:43:31.311 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000317
21:43:31.311 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000317, максимальное время: 2000 мс
21:43:31.314 [FileUtil] URI стал доступен через 2 мс, размер: 54663 байт
21:43:31.315 Failed to get type for: content://media/external/images/media/1000000297 (No item at content://media/external/images/media/1000000297)
21:43:31.317 [URI:0294] Имя файла: IMG_20251123_214302.jpg
21:43:31.317 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214302.jpg
21:43:31.317 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214302.jpg (режим замены: true)
21:43:31.327 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.328 [URI:0297] URI не существует
21:43:31.328 [ОШИБКА:Обработка:0297] Недействительный URI
21:43:31.328 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000297 (осталось: 5)
21:43:31.329 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000298 (всего: 5)
21:43:31.330 [URI:0294] Директория для сохранения: Pictures
21:43:31.331 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000295
21:43:31.331 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.334 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000298, обработка через 10 сек
21:43:31.335 [URI:0294] Сжатие изображения в поток
21:43:31.341 Failed to get type for: content://media/external/images/media/1000000296 (No item at content://media/external/images/media/1000000296)
21:43:31.342 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.344 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.344 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411344
21:43:31.348 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000316
21:43:31.353 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.353 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.357 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000292
21:43:31.357 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.358 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.363 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000317, обработка через 10 сек
21:43:31.363 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000296
21:43:31.363 [ОШИБКА:Удаление:0296] Не удалось удалить оригинальный файл
21:43:31.367 Failed to get type for: content://media/external/images/media/1000000298 (No item at content://media/external/images/media/1000000298)
21:43:31.371 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.372 [СЖАТИЕ:0292] Запущена работа по сжатию для content://media/external/images/media/1000000292 с тегом compress_1763923411365_IMG_20251123_214301.jpg в батче auto_batch_1_1763923409451
21:43:31.372 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.372 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000293
21:43:31.372 [URI:0293] URI scheme: content, authority: media, path: /external/images/media/1000000293
21:43:31.376 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000295
21:43:31.379 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.381 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000293 (всего: 6)
21:43:31.383 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214302_2.jpg (6)
21:43:31.383 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214302_2.jpg
21:43:31.389 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.389 [URI:0295] Изображение требует обработки
21:43:31.389 [URI:0295] Начало тестового сжатия в RAM
21:43:31.389 [URI:0295] Сжатие изображения в поток
21:43:31.390 [URI:0298] URI не существует
21:43:31.390 [ОШИБКА:Обработка:0298] Недействительный URI
21:43:31.391 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000298 (осталось: 5)
21:43:31.391 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411380
21:43:31.394 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000294 (всего: 5)
21:43:31.394 Scheduling work ID e4a0752f-865a-437b-acb2-1f8a19de7ef3Job ID 129
21:43:31.396 onStartJob for WorkGenerationalId(workSpecId=67a46f96-4205-46b3-b47e-b4af58534d63, generation=0)
21:43:31.399 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000317
21:43:31.399 Starting work for e4a0752f-865a-437b-acb2-1f8a19de7ef3
21:43:31.401 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.402 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.407 Work WorkGenerationalId(workSpecId=67a46f96-4205-46b3-b47e-b4af58534d63, generation=0) is already enqueued for processing
21:43:31.407 Moving WorkSpec (0ac46877-b255-4be7-9887-35b4d5cf8061) to the foreground
21:43:31.412 Processor: processing WorkGenerationalId(workSpecId=e4a0752f-865a-437b-acb2-1f8a19de7ef3, generation=0)
21:43:31.414 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000296
21:43:31.428 [СЖАТИЕ:0295] 142KB → 53KB (-62%)
21:43:31.428 [СЖАТИЕ:0295] 142KB → 53KB (-62.253357%)
21:43:31.428 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000295 эффективно (экономия 62.253357%), выполняем полное сжатие
21:43:31.428 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.435 [FileUtil] Директория для сохранения: Pictures
21:43:31.435 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214302.jpg (режим замены: true)
21:43:31.436 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:31.436 [URI:0295] Имя файла: IMG_20251123_214302_1.jpg
21:43:31.440 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214302_1.jpg
21:43:31.440 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214302_1.jpg (режим замены: true)
21:43:31.446 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000294
21:43:31.448 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.451 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.452 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214302.jpg', включен режим замены - удаляем
21:43:31.454 [URI:0295] Директория для сохранения: Pictures
21:43:31.458 [URI:0295] Сжатие изображения в поток
21:43:31.458 [MediaStore] Существующий файл удален (режим замены)
21:43:31.461 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.462 [FileUtil] Обработка EXIF данных: успешно
21:43:31.462 onStartJob for WorkGenerationalId(workSpecId=e4a0752f-865a-437b-acb2-1f8a19de7ef3, generation=0)
21:43:31.463 Notifying with (id:1, workSpecId: 0ac46877-b255-4be7-9887-35b4d5cf8061, notificationType :1)
21:43:31.463 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000293
21:43:31.463 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.465 Moving WorkSpec (67a46f96-4205-46b3-b47e-b4af58534d63) to the foreground
21:43:31.468 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.470 Work WorkGenerationalId(workSpecId=e4a0752f-865a-437b-acb2-1f8a19de7ef3, generation=0) is already enqueued for processing
21:43:31.472 [ФАЙЛ:0297] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000316
21:43:31.472 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000316 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.472 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000297
21:43:31.473 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000291 в память (кэш не найден)
21:43:31.474 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000318
21:43:31.476 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000291:
21:43:31.476 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.476 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.477 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.477 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.477 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.477 [ОШИБКА:Получение размера:0294] Ошибка при получении размера файла по URI
21:43:31.477 java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000294
21:43:31.477 	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
21:43:31.477 	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
21:43:31.477 	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
21:43:31.477 	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
21:43:31.477 	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
21:43:31.477 	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
21:43:31.477 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invokeSuspend(ImageCompressionUtil.kt:230)
21:43:31.477 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invoke(Unknown Source:8)
21:43:31.477 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invoke(Unknown Source:4)
21:43:31.477 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:31.477 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:31.477 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.478 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.478 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:01
21:43:31.478 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.478 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.479 [URI:0291] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.481 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000318
21:43:31.481 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.484 Failed to get type for: content://media/external/images/media/1000000297 (No item at content://media/external/images/media/1000000297)
21:43:31.484 [СЖАТИЕ:0293] Запущена работа по сжатию для content://media/external/images/media/1000000293 с тегом compress_1763923411475_IMG_20251123_214301_1.jpg в батче auto_batch_1_1763923409451
21:43:31.484 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.484 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000289
21:43:31.484 [URI:0289] URI scheme: content, authority: media, path: /external/images/media/1000000289
21:43:31.487 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:31.487 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:31.487 	at com.compressphotofast.util.ImageCompressionUtil.processAndSaveImage(ImageCompressionUtil.kt:220)
21:43:31.487 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:216)
21:43:31.487 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invoke(Unknown Source:8)
21:43:31.487 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invoke(Unknown Source:4)
21:43:31.487 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:31.487 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:31.487 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:31.487 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:31.487 	at com.compressphotofast.util.SequentialImageProcessor.processImage(SequentialImageProcessor.kt:200)
21:43:31.487 	at com.compressphotofast.util.SequentialImageProcessor.access$processImage(SequentialImageProcessor.kt:60)
21:43:31.487 	at com.compressphotofast.util.SequentialImageProcessor$processImages$2.invokeSuspend(SequentialImageProcessor.kt:120)
21:43:31.487 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
21:43:31.487 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:31.487 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:31.487 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:31.487 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:31.487 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:31.487 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:31.487 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:31.487 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:31.487 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:31.487 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:31.487 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:31.487 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:31.487 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
21:43:31.487 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
21:43:31.487 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
21:43:31.487 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
21:43:31.487 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
21:43:31.487 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
21:43:31.487 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:31.487 [ОШИБКА:Обработка:0294] Не удалось получить размер файла или файл пуст
21:43:31.488 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000294 (осталось: 4)
21:43:31.488 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000295 (всего: 4)
21:43:31.492 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000297
21:43:31.493 [ОШИБКА:Удаление:0297] Не удалось удалить оригинальный файл
21:43:31.494 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.502 Scheduling work ID f130faf1-49d2-4b05-8359-f5e19028a9c0Job ID 130
21:43:31.507 Starting work for f130faf1-49d2-4b05-8359-f5e19028a9c0
21:43:31.511 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214303.jpg (7)
21:43:31.511 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214303.jpg
21:43:31.512 Worker result SUCCESS for Work [ id=0ac46877-b255-4be7-9887-35b4d5cf8061, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410503_IMG_20251123_214302_2.jpg } ]
21:43:31.513 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000289 (всего: 5)
21:43:31.513 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000294, обработка через 10 сек
21:43:31.513 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.513 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000318
21:43:31.514 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000318, максимальное время: 2000 мс
21:43:31.514 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.515 [FileUtil] Обработка EXIF данных: успешно
21:43:31.517 [ФАЙЛ:0298] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000317
21:43:31.519 Notifying with (id:1, workSpecId: 67a46f96-4205-46b3-b47e-b4af58534d63, notificationType :1)
21:43:31.520 [FileUtil] URI стал доступен через 6 мс, размер: 54915 байт
21:43:31.522 Moving WorkSpec (e4a0752f-865a-437b-acb2-1f8a19de7ef3) to the foreground
21:43:31.524 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000317 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.525 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000298
21:43:31.530 [FileUtil] Директория для сохранения: Pictures
21:43:31.530 Notifying with (id:1, workSpecId: 67a46f96-4205-46b3-b47e-b4af58534d63, notificationType :1)
21:43:31.533 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214302_1.jpg (режим замены: true)
21:43:31.533 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:31.536 Processor: processing WorkGenerationalId(workSpecId=f130faf1-49d2-4b05-8359-f5e19028a9c0, generation=0)
21:43:31.538 Moving WorkSpec (034ee4b2-9fd9-4b70-9b0f-3360fda79275) to the foreground
21:43:31.539 Failed to get type for: content://media/external/images/media/1000000298 (No item at content://media/external/images/media/1000000298)
21:43:31.541 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.542 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000297
21:43:31.544 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000292 в память (кэш не найден)
21:43:31.549 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000295
21:43:31.551 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000295
21:43:31.552 [URI:0295] Сжатие изображения в поток
21:43:31.553 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214302_1.jpg', включен режим замены - удаляем
21:43:31.555 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.562 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.565 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000298
21:43:31.567 [ОШИБКА:Удаление:0298] Не удалось удалить оригинальный файл
21:43:31.570 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000318, обработка через 10 сек
21:43:31.570 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000292:
21:43:31.570 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.570 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.570 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.571 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.572 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.573 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.577 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.577 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:01
21:43:31.577 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.577 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.577 [URI:0292] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.578 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214303_1.jpg (8)
21:43:31.580 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214303_1.jpg
21:43:31.581 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.582 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411581
21:43:31.586 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000318
21:43:31.592 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000291
21:43:31.592 [MediaStore] Существующий файл удален (режим замены)
21:43:31.592 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.596 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.599 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.602 onStartJob for WorkGenerationalId(workSpecId=f130faf1-49d2-4b05-8359-f5e19028a9c0, generation=0)
21:43:31.605 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214302_1.jpg
21:43:31.608 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000319
21:43:31.610 Moving WorkSpec (34ff8633-9b5a-473a-ad89-1ce3a94fe976) to the foreground
21:43:31.613 Processor 0ac46877-b255-4be7-9887-35b4d5cf8061 executed; reschedule = false
21:43:31.614 0ac46877-b255-4be7-9887-35b4d5cf8061 executed on JobScheduler
21:43:31.614 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=0ac46877-b255-4be7-9887-35b4d5cf8061, generation=0), notificationType: 1
21:43:31.615 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.617 Notifying with (id:1, workSpecId: e4a0752f-865a-437b-acb2-1f8a19de7ef3, notificationType :1)
21:43:31.620 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000289
21:43:31.624 [FileUtil] Директория для сохранения: Pictures/CompressPhotoFast
21:43:31.624 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000298
21:43:31.625 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.625 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000319
21:43:31.626 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214302_1.jpg (режим замены: true)
21:43:31.627 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/CompressPhotoFast
21:43:31.629 Work WorkGenerationalId(workSpecId=f130faf1-49d2-4b05-8359-f5e19028a9c0, generation=0) is already enqueued for processing
21:43:31.633 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000291
21:43:31.636 Notifying with (id:1, workSpecId: e4a0752f-865a-437b-acb2-1f8a19de7ef3, notificationType :1)
21:43:31.642 Notifying with (id:1, workSpecId: 034ee4b2-9fd9-4b70-9b0f-3360fda79275, notificationType :1)
21:43:31.645 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.646 [URI:0291] Изображение требует обработки
21:43:31.646 [URI:0291] Начало тестового сжатия в RAM
21:43:31.646 [URI:0291] Сжатие изображения в поток
21:43:31.673 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.675 Cancelling work ID 0ac46877-b255-4be7-9887-35b4d5cf8061
21:43:31.676 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.677 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000319
21:43:31.678 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000319, максимальное время: 2000 мс
21:43:31.687 [FileUtil] URI стал доступен через 9 мс, размер: 55018 байт
21:43:31.688 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.690 [СЖАТИЕ:0289] Запущена работа по сжатию для content://media/external/images/media/1000000289 с тегом compress_1763923411649_IMG_20251123_214259_2.jpg в батче auto_batch_1_1763923409451
21:43:31.690 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.690 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000290
21:43:31.690 [URI:0290] URI scheme: content, authority: media, path: /external/images/media/1000000290
21:43:31.692 Background concurrent mark compact GC freed 5500KB AllocSpace bytes, 53(1996KB) LOS objects, 49% free, 6575KB/12MB, paused 2.216ms,19.849ms total 86.618ms
21:43:31.693 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000292
21:43:31.693 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.694 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000295, обработка через 10 сек
21:43:31.696 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000290 (всего: 6)
21:43:31.698 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000320
21:43:31.698 Worker result SUCCESS for Work [ id=034ee4b2-9fd9-4b70-9b0f-3360fda79275, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410665_IMG_20251123_214303.jpg } ]
21:43:31.702 Moving WorkSpec (f130faf1-49d2-4b05-8359-f5e19028a9c0) to the foreground
21:43:31.703 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.704 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000319, обработка через 10 сек
21:43:31.708 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.709 [FileUtil] Обработка EXIF данных: успешно
21:43:31.709 Notifying with (id:1, workSpecId: 34ff8633-9b5a-473a-ad89-1ce3a94fe976, notificationType :1)
21:43:31.710 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000320
21:43:31.710 [ФАЙЛ:0294] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000318
21:43:31.710 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000318 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.711 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000294
21:43:31.714 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000318
21:43:31.714 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000318 пропущен, так как недавно обработан.
21:43:31.714 onStopJob for WorkGenerationalId(workSpecId=0ac46877-b255-4be7-9887-35b4d5cf8061, generation=0)
21:43:31.714 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000292
21:43:31.716 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.717 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.719 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000293 в память (кэш не найден)
21:43:31.721 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411717
21:43:31.724 Failed to get type for: content://media/external/images/media/1000000294 (No item at content://media/external/images/media/1000000294)
21:43:31.725 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.729 [URI:0292] Изображение требует обработки
21:43:31.730 [URI:0292] Начало тестового сжатия в RAM
21:43:31.732 [URI:0292] Сжатие изображения в поток
21:43:31.738 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000293:
21:43:31.738 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.739 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000319
21:43:31.739 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.740 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.740 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.740 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.741 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.741 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.742 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:01
21:43:31.744 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000320, обработка через 10 сек
21:43:31.746 Processor 034ee4b2-9fd9-4b70-9b0f-3360fda79275 executed; reschedule = false
21:43:31.746 034ee4b2-9fd9-4b70-9b0f-3360fda79275 executed on JobScheduler
21:43:31.747 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=034ee4b2-9fd9-4b70-9b0f-3360fda79275, generation=0), notificationType: 1
21:43:31.750 Scheduling work ID 460077b6-7ed2-44e1-b7e6-4ad4f6164af5Job ID 131
21:43:31.750 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.750 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.751 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.751 [URI:0293] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.751 Notifying with (id:1, workSpecId: f130faf1-49d2-4b05-8359-f5e19028a9c0, notificationType :1)
21:43:31.751 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.752 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.754 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000294
21:43:31.755 [ОШИБКА:Удаление:0294] Не удалось удалить оригинальный файл
21:43:31.756 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000320
21:43:31.757 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000320, максимальное время: 2000 мс
21:43:31.761 [СЖАТИЕ:0291] 141KB → 53KB (-62%)
21:43:31.763 Notifying with (id:1, workSpecId: f130faf1-49d2-4b05-8359-f5e19028a9c0, notificationType :1)
21:43:31.764 Starting work for 460077b6-7ed2-44e1-b7e6-4ad4f6164af5
21:43:31.766 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214302.jpg (9)
21:43:31.769 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214302.jpg
21:43:31.775 [СЖАТИЕ:0291] 141KB → 53KB (-62.264477%)
21:43:31.776 Worker result SUCCESS for Work [ id=34ff8633-9b5a-473a-ad89-1ce3a94fe976, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410801_IMG_20251123_214303_1.jpg } ]
21:43:31.776 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000291 эффективно (экономия 62.264477%), выполняем полное сжатие
21:43:31.776 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.778 [FileUtil] URI стал доступен через 21 мс, размер: 55018 байт
21:43:31.781 Cancelling work ID 034ee4b2-9fd9-4b70-9b0f-3360fda79275
21:43:31.787 Processor: processing WorkGenerationalId(workSpecId=460077b6-7ed2-44e1-b7e6-4ad4f6164af5, generation=0)
21:43:31.792 Moving WorkSpec (dc81a47b-cabe-43c7-8303-585aadd293bd) to the foreground
21:43:31.793 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000290
21:43:31.793 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.793 [URI:0291] Имя файла: IMG_20251123_214300_1.jpg
21:43:31.793 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214300_1.jpg
21:43:31.793 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214300_1.jpg (режим замены: true)
21:43:31.795 Compiler allocated 5101KB to compile java.lang.Object com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(java.lang.Object)
21:43:31.799 onStartJob for WorkGenerationalId(workSpecId=460077b6-7ed2-44e1-b7e6-4ad4f6164af5, generation=0)
21:43:31.801 Processor 34ff8633-9b5a-473a-ad89-1ce3a94fe976 executed; reschedule = false
21:43:31.801 34ff8633-9b5a-473a-ad89-1ce3a94fe976 executed on JobScheduler
21:43:31.801 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000294
21:43:31.801 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=34ff8633-9b5a-473a-ad89-1ce3a94fe976, generation=0), notificationType: 1
21:43:31.802 onStopJob for WorkGenerationalId(workSpecId=034ee4b2-9fd9-4b70-9b0f-3360fda79275, generation=0)
21:43:31.802 Notifying with (id:1, workSpecId: dc81a47b-cabe-43c7-8303-585aadd293bd, notificationType :1)
21:43:31.804 [URI:0291] Директория для сохранения: Pictures
21:43:31.805 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.807 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:31.811 [URI:0291] Сжатие изображения в поток
21:43:31.814 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.814 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.815 [СЖАТИЕ:0290] Запущена работа по сжатию для content://media/external/images/media/1000000290 с тегом compress_1763923411808_IMG_20251123_214300.jpg в батче auto_batch_1_1763923409451
21:43:31.815 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.815 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000287
21:43:31.815 [URI:0287] URI scheme: content, authority: media, path: /external/images/media/1000000287
21:43:31.823 [СЖАТИЕ:0292] 141KB → 53KB (-62%)
21:43:31.823 [СЖАТИЕ:0292] 141KB → 53KB (-62.06668%)
21:43:31.823 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000292 эффективно (экономия 62.06668%), выполняем полное сжатие
21:43:31.823 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.823 Work WorkGenerationalId(workSpecId=460077b6-7ed2-44e1-b7e6-4ad4f6164af5, generation=0) is already enqueued for processing
21:43:31.824 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:31.825 Cancelling work ID 34ff8633-9b5a-473a-ad89-1ce3a94fe976
21:43:31.826 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923411824
21:43:31.831 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000320
21:43:31.832 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:31.832 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:31.836 Worker result SUCCESS for Work [ id=dc81a47b-cabe-43c7-8303-585aadd293bd, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923410969_IMG_20251123_214302.jpg } ]
21:43:31.837 Processor dc81a47b-cabe-43c7-8303-585aadd293bd executed; reschedule = false
21:43:31.837 dc81a47b-cabe-43c7-8303-585aadd293bd executed on JobScheduler
21:43:31.837 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=dc81a47b-cabe-43c7-8303-585aadd293bd, generation=0), notificationType: 1
21:43:31.840 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000287 (всего: 7)
21:43:31.844 [URI:0292] Имя файла: IMG_20251123_214301.jpg
21:43:31.844 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214301.jpg
21:43:31.844 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214301.jpg (режим замены: true)
21:43:31.847 Scheduling work ID e6d794ab-b9f1-44ce-b800-83050e67ba76Job ID 132
21:43:31.851 [URI:0292] Директория для сохранения: Pictures
21:43:31.851 onStartJob for WorkGenerationalId(workSpecId=e6d794ab-b9f1-44ce-b800-83050e67ba76, generation=0)
21:43:31.852 Starting work for e6d794ab-b9f1-44ce-b800-83050e67ba76
21:43:31.853 Moving WorkSpec (460077b6-7ed2-44e1-b7e6-4ad4f6164af5) to the foreground
21:43:31.859 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.859 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.859 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.859 [URI:0292] Сжатие изображения в поток
21:43:31.859 [FileUtil] Обработка EXIF данных: успешно
21:43:31.859 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000289 в память (кэш не найден)
21:43:31.859 [ФАЙЛ:0295] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000319
21:43:31.861 Notifying with (id:1, workSpecId: 460077b6-7ed2-44e1-b7e6-4ad4f6164af5, notificationType :1)
21:43:31.862 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000293
21:43:31.863 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.863 [FileUtil] Директория для сохранения: Pictures
21:43:31.863 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214300_1.jpg (режим замены: true)
21:43:31.863 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:31.865 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000319 до Sun Nov 23 21:43:36 GMT+03:00 2025
21:43:31.865 [ПРОЦЕСС] deleteFile: URI находится в обработке, удаление отменено: content://media/external/images/media/1000000295
21:43:31.866 [ОШИБКА:Удаление:0295] Не удалось удалить оригинальный файл
21:43:31.867 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000289:
21:43:31.867 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.867 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.867 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.867 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.867 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.867 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.868 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.868 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:00
21:43:31.868 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.868 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.868 [URI:0289] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.868 Notifying with (id:1, workSpecId: 460077b6-7ed2-44e1-b7e6-4ad4f6164af5, notificationType :1)
21:43:31.871 Cancelling work ID dc81a47b-cabe-43c7-8303-585aadd293bd
21:43:31.876 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000291
21:43:31.878 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214300_1.jpg', включен режим замены - удаляем
21:43:31.879 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000293
21:43:31.879 Processor: processing WorkGenerationalId(workSpecId=e6d794ab-b9f1-44ce-b800-83050e67ba76, generation=0)
21:43:31.881 Work WorkGenerationalId(workSpecId=e6d794ab-b9f1-44ce-b800-83050e67ba76, generation=0) is already enqueued for processing
21:43:31.883 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214302_1.jpg (10)
21:43:31.885 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214302_1.jpg
21:43:31.892 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:31.892 [URI:0293] Изображение требует обработки
21:43:31.892 [URI:0293] Начало тестового сжатия в RAM
21:43:31.892 [URI:0293] Сжатие изображения в поток
21:43:31.893 [MediaStore] Существующий файл удален (режим замены)
21:43:31.901 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:31.903 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000321
21:43:31.905 Moving WorkSpec (8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e) to the foreground
21:43:31.907 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:31.910 [FileUtil] Директория для сохранения: Pictures
21:43:31.911 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214301.jpg (режим замены: true)
21:43:31.913 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:31.916 Moving WorkSpec (e6d794ab-b9f1-44ce-b800-83050e67ba76) to the foreground
21:43:31.921 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000295
21:43:31.924 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000321
21:43:31.927 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000291, обработка через 10 сек
21:43:31.931 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:31.932 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000290 в память (кэш не найден)
21:43:31.932 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000287
21:43:31.932 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:31.936 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000292
21:43:31.943 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214301.jpg', включен режим замены - удаляем
21:43:31.949 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000290:
21:43:31.949 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:31.949 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:31.949 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:31.949 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:31.949 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:31.949 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:31.949 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:31.949 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:43:00
21:43:31.950 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:31.950 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:31.951 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000321, обработка через 10 сек
21:43:31.952 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:31.952 [FileUtil] Обработка EXIF данных: успешно
21:43:31.954 Notifying with (id:1, workSpecId: 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, notificationType :1)
21:43:31.956 Worker result SUCCESS for Work [ id=8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411092_IMG_20251123_214302_1.jpg } ]
21:43:31.958 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:31.958 Notifying with (id:1, workSpecId: e6d794ab-b9f1-44ce-b800-83050e67ba76, notificationType :1)
21:43:31.960 [URI:0290] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:31.962 Notifying with (id:1, workSpecId: e6d794ab-b9f1-44ce-b800-83050e67ba76, notificationType :1)
21:43:31.969 [СЖАТИЕ:0293] 141KB → 53KB (-62%)
21:43:31.969 [СЖАТИЕ:0293] 141KB → 53KB (-62.176884%)
21:43:31.971 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000293 эффективно (экономия 62.176884%), выполняем полное сжатие
21:43:31.977 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:31.981 Processor 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e executed; reschedule = false
21:43:31.981 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e executed on JobScheduler
21:43:31.981 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, generation=0), notificationType: 1
21:43:31.985 [ОШИБКА:Получение размера:0295] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000295
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:31.985 [MediaStore] Существующий файл удален (режим замены)
21:43:31.986 Cancelling work ID 8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e
21:43:31.995 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000322
21:43:31.996 [URI:0293] Имя файла: IMG_20251123_214301_1.jpg
21:43:31.996 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:31.996 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214301_1.jpg
21:43:31.996 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214301_1.jpg (режим замены: true)
21:43:31.997 [СЖАТИЕ:0287] Запущена работа по сжатию для content://media/external/images/media/1000000287 с тегом compress_1763923411978_IMG_20251123_214259.jpg в батче auto_batch_1_1763923409451
21:43:31.998 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:31.998 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000288
21:43:32.000 [URI:0288] URI scheme: content, authority: media, path: /external/images/media/1000000288
21:43:32.003 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000321
21:43:32.004 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000321, максимальное время: 2000 мс
21:43:32.005 [ФАЙЛ:0295] Сохранение: Изображение успешно сжато: IMG_20251123_214302_1.jpg, 0KB → 54KB
21:43:32.006 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000295 (осталось: 6)
21:43:32.006 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000291 (всего: 6)
21:43:32.006 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000289
21:43:32.006 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.007 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000322
21:43:32.015 [URI:0293] Директория для сохранения: Pictures
21:43:32.017 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000288 (всего: 7)
21:43:32.020 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000292, обработка через 10 сек
21:43:32.024 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:32.026 onStopJob for WorkGenerationalId(workSpecId=8c9b0cd9-01ff-4a1d-9687-afa4c41dc48e, generation=0)
21:43:32.027 [FileUtil] URI стал доступен через 23 мс, размер: 54555 байт
21:43:32.029 [URI:0293] Сжатие изображения в поток
21:43:32.034 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000289
21:43:32.035 Scheduling work ID d47437d7-3eb9-4d4f-83da-21c3f6bcfc54Job ID 133
21:43:32.040 Failed to get type for: content://media/external/images/media/1000000291 (No item at content://media/external/images/media/1000000291)
21:43:32.042 Starting work for d47437d7-3eb9-4d4f-83da-21c3f6bcfc54
21:43:32.043 Processor: processing WorkGenerationalId(workSpecId=d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, generation=0)
21:43:32.048 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.048 [URI:0289] Изображение требует обработки
21:43:32.048 [URI:0289] Начало тестового сжатия в RAM
21:43:32.048 [URI:0289] Сжатие изображения в поток
21:43:32.054 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923411000
21:43:32.055 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000322, обработка через 10 сек
21:43:32.055 onStartJob for WorkGenerationalId(workSpecId=d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, generation=0)
21:43:32.063 Work WorkGenerationalId(workSpecId=d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, generation=0) is already enqueued for processing
21:43:32.065 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:32.066 [URI:0291] URI не существует
21:43:32.066 [ОШИБКА:Обработка:0291] Недействительный URI
21:43:32.066 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.067 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412066
21:43:32.072 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000321
21:43:32.073 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000322
21:43:32.074 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000291 (осталось: 6)
21:43:32.077 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000322, максимальное время: 2000 мс
21:43:32.077 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000292 (всего: 6)
21:43:32.078 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.080 Moving WorkSpec (d47437d7-3eb9-4d4f-83da-21c3f6bcfc54) to the foreground
21:43:32.083 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.084 [FileUtil] Директория для сохранения: Pictures
21:43:32.084 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214301_1.jpg (режим замены: true)
21:43:32.085 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.086 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:32.087 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000287 в память (кэш не найден)
21:43:32.087 [FileUtil] URI стал доступен через 10 мс, размер: 54998 байт
21:43:32.088 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000290
21:43:32.088 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.092 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000293
21:43:32.094 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214301_1.jpg', включен режим замены - удаляем
21:43:32.095 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:32.095 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.095 Notifying with (id:1, workSpecId: d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, notificationType :1)
21:43:32.095 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000287:
21:43:32.096 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:32.096 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:32.097 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:32.097 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:32.098 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:32.098 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000288
21:43:32.098 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:32.099 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.099 [СЖАТИЕ:0289] 141KB → 53KB (-62%)
21:43:32.100 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:32.100 [СЖАТИЕ:0289] 141KB → 53KB (-62.167366%)
21:43:32.100 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:59
21:43:32.101 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:32.101 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000289 эффективно (экономия 62.167366%), выполняем полное сжатие
21:43:32.102 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.102 Failed to get type for: content://media/external/images/media/1000000292 (No item at content://media/external/images/media/1000000292)
21:43:32.104 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000290
21:43:32.104 Notifying with (id:1, workSpecId: d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, notificationType :1)
21:43:32.104 [MediaStore] Существующий файл удален (режим замены)
21:43:32.107 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.107 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412107
21:43:32.109 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:32.110 [URI:0287] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:32.112 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000293, обработка через 10 сек
21:43:32.113 [URI:0292] URI не существует
21:43:32.113 [ОШИБКА:Обработка:0292] Недействительный URI
21:43:32.113 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000292 (осталось: 5)
21:43:32.113 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000293 (всего: 5)
21:43:32.114 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000322
21:43:32.114 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.116 [URI:0289] Имя файла: IMG_20251123_214259_2.jpg
21:43:32.116 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214259_2.jpg
21:43:32.117 [URI:0290] Изображение требует обработки
21:43:32.117 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.117 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.117 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214259_2.jpg (режим замены: true)
21:43:32.119 [URI:0290] Начало тестового сжатия в RAM
21:43:32.119 [URI:0290] Сжатие изображения в поток
21:43:32.121 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.122 [СЖАТИЕ:0288] Запущена работа по сжатию для content://media/external/images/media/1000000288 с тегом compress_1763923412112_IMG_20251123_214259_1.jpg в батче auto_batch_1_1763923409451
21:43:32.122 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.123 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000284
21:43:32.123 Failed to get type for: content://media/external/images/media/1000000293 (No item at content://media/external/images/media/1000000293)
21:43:32.126 [URI:0284] URI scheme: content, authority: media, path: /external/images/media/1000000284
21:43:32.129 [URI:0289] Директория для сохранения: Pictures
21:43:32.131 [URI:0293] URI не существует
21:43:32.131 [ОШИБКА:Обработка:0293] Недействительный URI
21:43:32.131 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000293 (осталось: 4)
21:43:32.133 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000323
21:43:32.134 Scheduling work ID bc7513bd-e429-410d-92b7-6d2b849c6c8dJob ID 134
21:43:32.137 [URI:0289] Сжатие изображения в поток
21:43:32.138 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000284 (всего: 5)
21:43:32.139 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000289 (всего: 4)
21:43:32.140 [FileUtil] Ошибка при проверке доступности URI: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
21:43:32.148 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000323
21:43:32.149 Starting work for bc7513bd-e429-410d-92b7-6d2b849c6c8d
21:43:32.153 Processor: processing WorkGenerationalId(workSpecId=bc7513bd-e429-410d-92b7-6d2b849c6c8d, generation=0)
21:43:32.158 [СЖАТИЕ:0290] 141KB → 53KB (-62%)
21:43:32.158 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000287
21:43:32.158 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.160 [СЖАТИЕ:0290] 141KB → 53KB (-62.211525%)
21:43:32.160 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000290 эффективно (экономия 62.211525%), выполняем полное сжатие
21:43:32.160 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.163 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000323, обработка через 10 сек
21:43:32.163 onStartJob for WorkGenerationalId(workSpecId=bc7513bd-e429-410d-92b7-6d2b849c6c8d, generation=0)
21:43:32.165 Work WorkGenerationalId(workSpecId=bc7513bd-e429-410d-92b7-6d2b849c6c8d, generation=0) is already enqueued for processing
21:43:32.166 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:32.173 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000323
21:43:32.174 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000323, максимальное время: 2000 мс
21:43:32.176 [FileUtil] URI стал доступен через 2 мс, размер: 54988 байт
21:43:32.177 [URI:0290] Имя файла: IMG_20251123_214300.jpg
21:43:32.178 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214300.jpg
21:43:32.178 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214300.jpg (режим замены: true)
21:43:32.182 Moving WorkSpec (bc7513bd-e429-410d-92b7-6d2b849c6c8d) to the foreground
21:43:32.184 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000287
21:43:32.185 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000289
21:43:32.186 [URI:0289] Сжатие изображения в поток
21:43:32.189 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:32.190 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000288 в память (кэш не найден)
21:43:32.192 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.194 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.194 [URI:0287] Изображение требует обработки
21:43:32.194 [URI:0287] Начало тестового сжатия в RAM
21:43:32.195 [URI:0287] Сжатие изображения в поток
21:43:32.196 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.200 [URI:0290] Директория для сохранения: Pictures
21:43:32.202 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000288:
21:43:32.210 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:32.211 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:32.211 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:32.211 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:32.211 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000284
21:43:32.211 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.211 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:32.211 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:32.211 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:32.211 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:59
21:43:32.213 [URI:0290] Сжатие изображения в поток
21:43:32.214 [FileUtil] Обработка EXIF данных: успешно
21:43:32.214 [ФАЙЛ:0291] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000321
21:43:32.215 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000321 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.215 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000291
21:43:32.220 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:32.220 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:32.221 [URI:0288] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:32.222 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.223 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.226 [FileUtil] Обработка EXIF данных: успешно
21:43:32.226 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412222
21:43:32.227 [ФАЙЛ:0292] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000322
21:43:32.228 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214259_2.jpg
21:43:32.228 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000322 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.229 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000292
21:43:32.231 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000323
21:43:32.232 [FileUtil] Директория для сохранения: Pictures
21:43:32.233 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214259_2.jpg (режим замены: true)
21:43:32.233 Failed to get type for: content://media/external/images/media/1000000291 (No item at content://media/external/images/media/1000000291)
21:43:32.233 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.234 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:32.234 Notifying with (id:1, workSpecId: bc7513bd-e429-410d-92b7-6d2b849c6c8d, notificationType :1)
21:43:32.235 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.236 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.237 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000289
21:43:32.239 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214259_2.jpg', включен режим замены - удаляем
21:43:32.240 [FileUtil] Директория для сохранения: Pictures
21:43:32.240 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.243 [ПРОЦЕСС] Время ожидания истекло, URI не стал доступен за 2000 мс
21:43:32.244 [СЖАТИЕ:0284] Запущена работа по сжатию для content://media/external/images/media/1000000284 с тегом compress_1763923412232_IMG_20251123_214257_1.jpg в батче auto_batch_1_1763923409451
21:43:32.244 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.244 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000285
21:43:32.245 [ПРОЦЕСС] URI не стал доступен после ожидания: content://media/external/images/media/1000000307
21:43:32.245 [URI:0285] URI scheme: content, authority: media, path: /external/images/media/1000000285
21:43:32.247 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000291
21:43:32.248 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214259_2.jpg (режим замены: true)
21:43:32.248 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.252 Notifying with (id:1, workSpecId: bc7513bd-e429-410d-92b7-6d2b849c6c8d, notificationType :1)
21:43:32.254 [ОШИБКА:Удаление:0291] Не удалось удалить оригинальный файл
21:43:32.255 Failed to get type for: content://media/external/images/media/1000000292 (No item at content://media/external/images/media/1000000292)
21:43:32.257 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000289
21:43:32.259 [MediaStore] Существующий файл удален (режим замены)
21:43:32.260 Failed to get type for: content://media/external/images/media/1000000307 (No item at content://media/external/images/media/1000000307)
21:43:32.264 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000324
21:43:32.265 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214259_2.jpg', включен режим замены - удаляем
21:43:32.271 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000285 (всего: 6)
21:43:32.272 [MediaStore] Существующий файл удален (режим замены)
21:43:32.276 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000292
21:43:32.276 [ОШИБКА:Удаление:0292] Не удалось удалить оригинальный файл
21:43:32.277 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000324
21:43:32.280 [ПРОЦЕСС] applyExifFromMemory: URI не существует, применение EXIF отменено: content://media/external/images/media/1000000307
21:43:32.280 Scheduling work ID 9af47ea5-43f9-4e2b-aaea-af66cf45a6cfJob ID 135
21:43:32.280 [ПРОЦЕСС] Применение EXIF данных из памяти: неудачно
21:43:32.282 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214300_1.jpg (11)
21:43:32.286 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214301.jpg (12)
21:43:32.286 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214300_1.jpg
21:43:32.286 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214301.jpg
21:43:32.288 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000325
21:43:32.291 [СЖАТИЕ:0287] 141KB → 53KB (-62%)
21:43:32.305 [СЖАТИЕ:0287] 141KB → 53KB (-62.184906%)
21:43:32.305 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000287 эффективно (экономия 62.184906%), выполняем полное сжатие
21:43:32.305 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000289, обработка через 10 сек
21:43:32.306 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.310 Starting work for 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf
21:43:32.312 Moving WorkSpec (e4a0752f-865a-437b-acb2-1f8a19de7ef3) to the foreground
21:43:32.313 [FileUtil] Директория для сохранения: Pictures
21:43:32.313 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214300.jpg (режим замены: true)
21:43:32.313 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000325
21:43:32.314 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.314 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000292
21:43:32.315 Moving WorkSpec (67a46f96-4205-46b3-b47e-b4af58534d63) to the foreground
21:43:32.319 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000291
21:43:32.322 Processor: processing WorkGenerationalId(workSpecId=9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, generation=0)
21:43:32.329 [URI:0287] Имя файла: IMG_20251123_214259.jpg
21:43:32.329 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214259.jpg
21:43:32.331 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000324, обработка через 10 сек
21:43:32.331 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000288
21:43:32.332 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.334 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214259.jpg (режим замены: true)
21:43:32.334 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000324
21:43:32.345 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000324, максимальное время: 2000 мс
21:43:32.347 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000290
21:43:32.349 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214300.jpg', включен режим замены - удаляем
21:43:32.352 [FileUtil] URI стал доступен через 5 мс, размер: 54863 байт
21:43:32.353 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.354 [FileUtil] Обработка EXIF данных: успешно
21:43:32.355 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000325, обработка через 10 сек
21:43:32.355 onStartJob for WorkGenerationalId(workSpecId=9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, generation=0)
21:43:32.355 [ФАЙЛ:0293] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000323
21:43:32.355 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000323 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.356 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000293
21:43:32.380 Failed to get type for: content://media/external/images/media/1000000293 (No item at content://media/external/images/media/1000000293)
21:43:32.381 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000323
21:43:32.381 Work WorkGenerationalId(workSpecId=9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, generation=0) is already enqueued for processing
21:43:32.383 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000323 пропущен, так как недавно обработан.
21:43:32.383 [MediaStore] Существующий файл удален (режим замены)
21:43:32.386 [URI:0287] Директория для сохранения: Pictures
21:43:32.387 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000325
21:43:32.388 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000288
21:43:32.391 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000326
21:43:32.392 [ОШИБКА:Верификация EXIF:0307] (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.ExifUtil$handleExifForSavedImage$2.invokeSuspend(ExifUtil.kt:875)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:32.398 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000293
21:43:32.398 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000325, максимальное время: 2000 мс
21:43:32.398 [URI:0287] Сжатие изображения в поток
21:43:32.398 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000326
21:43:32.399 [ОШИБКА:Удаление:0293] Не удалось удалить оригинальный файл
21:43:32.400 Notifying with (id:1, workSpecId: e4a0752f-865a-437b-acb2-1f8a19de7ef3, notificationType :1)
21:43:32.400 [FileUtil] Обработка EXIF данных: неудачно
21:43:32.402 Background concurrent mark compact GC freed 4748KB AllocSpace bytes, 49(1748KB) LOS objects, 49% free, 6963KB/13MB, paused 1.551ms,20.239ms total 102.351ms
21:43:32.404 [ФАЙЛ:0303] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000307
21:43:32.404 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.405 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000307 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.407 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000303
21:43:32.409 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.410 [URI:0288] Изображение требует обработки
21:43:32.410 [FileUtil] URI стал доступен через 11 мс, размер: 54863 байт
21:43:32.411 [URI:0288] Начало тестового сжатия в RAM
21:43:32.411 [URI:0288] Сжатие изображения в поток
21:43:32.417 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.417 Failed to get type for: content://media/external/images/media/1000000303 (No item at content://media/external/images/media/1000000303)
21:43:32.419 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214301_1.jpg (13)
21:43:32.420 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214301_1.jpg
21:43:32.422 Worker result SUCCESS for Work [ id=e4a0752f-865a-437b-acb2-1f8a19de7ef3, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411365_IMG_20251123_214301.jpg } ]
21:43:32.422 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412422
21:43:32.425 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000324
21:43:32.429 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.429 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.432 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000326
21:43:32.433 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000326, максимальное время: 2000 мс
21:43:32.438 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000303
21:43:32.438 [ОШИБКА:Удаление:0303] Не удалось удалить оригинальный файл
21:43:32.440 [FileUtil] URI стал доступен через 6 мс, размер: 54788 байт
21:43:32.442 Moving WorkSpec (f130faf1-49d2-4b05-8359-f5e19028a9c0) to the foreground
21:43:32.444 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000285
21:43:32.444 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.448 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.449 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000293
21:43:32.449 Notifying with (id:1, workSpecId: 67a46f96-4205-46b3-b47e-b4af58534d63, notificationType :1)
21:43:32.453 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.454 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412453
21:43:32.454 [ОШИБКА:Получение размера:0307] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000307
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:289)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:32.455 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214305_1.jpg (14)
21:43:32.456 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214305_1.jpg
21:43:32.457 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:32.457 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000325
21:43:32.460 Worker result SUCCESS for Work [ id=67a46f96-4205-46b3-b47e-b4af58534d63, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411214_IMG_20251123_214300_1.jpg } ]
21:43:32.468 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.468 [СЖАТИЕ:0288] 142KB → 53KB (-62%)
21:43:32.469 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.469 [СЖАТИЕ:0288] 142KB → 53KB (-62.21143%)
21:43:32.469 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000288 эффективно (экономия 62.21143%), выполняем полное сжатие
21:43:32.469 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.469 [СЖАТИЕ:0285] Запущена работа по сжатию для content://media/external/images/media/1000000285 с тегом compress_1763923412461_IMG_20251123_214258.jpg в батче auto_batch_1_1763923409451
21:43:32.470 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.470 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000286
21:43:32.470 [URI:0286] URI scheme: content, authority: media, path: /external/images/media/1000000286
21:43:32.472 [FileUtil] Директория для сохранения: Pictures
21:43:32.472 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214259.jpg (режим замены: true)
21:43:32.472 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.474 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000286 (всего: 7)
21:43:32.475 Moving WorkSpec (e4e47576-53fe-4599-a44a-67d50dc5e080) to the foreground
21:43:32.476 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000287
21:43:32.478 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214259.jpg', включен режим замены - удаляем
21:43:32.480 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000303
21:43:32.482 Moving WorkSpec (9af47ea5-43f9-4e2b-aaea-af66cf45a6cf) to the foreground
21:43:32.483 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.484 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.488 [URI:0288] Имя файла: IMG_20251123_214259_1.jpg
21:43:32.488 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214259_1.jpg
21:43:32.489 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214259_1.jpg (режим замены: true)
21:43:32.493 [MediaStore] Существующий файл удален (режим замены)
21:43:32.494 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.494 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412494
21:43:32.495 [URI:0288] Директория для сохранения: Pictures
21:43:32.500 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000290, обработка через 10 сек
21:43:32.502 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:32.503 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000284 в память (кэш не найден)
21:43:32.504 [URI:0288] Сжатие изображения в поток
21:43:32.505 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000326
21:43:32.506 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000327
21:43:32.509 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000326, обработка через 10 сек
21:43:32.509 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.510 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000284:
21:43:32.511 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.511 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:32.513 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000327
21:43:32.519 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:32.519 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:32.519 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:32.520 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:32.520 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:32.520 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:32.520 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:58
21:43:32.520 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:32.521 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:32.522 [URI:0284] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:32.526 Scheduling work ID 79fbd488-fade-485b-a71f-d94aa99acbc6Job ID 136
21:43:32.532 Starting work for 79fbd488-fade-485b-a71f-d94aa99acbc6
21:43:32.536 Processor: processing WorkGenerationalId(workSpecId=79fbd488-fade-485b-a71f-d94aa99acbc6, generation=0)
21:43:32.538 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000327
21:43:32.539 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000327, максимальное время: 2000 мс
21:43:32.542 [FileUtil] URI стал доступен через 2 мс, размер: 54771 байт
21:43:32.545 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.545 [FileUtil] Обработка EXIF данных: успешно
21:43:32.547 Processor e4a0752f-865a-437b-acb2-1f8a19de7ef3 executed; reschedule = false
21:43:32.547 e4a0752f-865a-437b-acb2-1f8a19de7ef3 executed on JobScheduler
21:43:32.547 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=e4a0752f-865a-437b-acb2-1f8a19de7ef3, generation=0), notificationType: 1
21:43:32.552 [ОШИБКА:Получение размера:0289] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000289
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:32.557 Cancelling work ID e4a0752f-865a-437b-acb2-1f8a19de7ef3
21:43:32.561 Notifying with (id:1, workSpecId: f130faf1-49d2-4b05-8359-f5e19028a9c0, notificationType :1)
21:43:32.562 [ФАЙЛ:0289] Сохранение: Изображение успешно сжато: IMG_20251123_214259_2.jpg, 0KB → 54KB
21:43:32.562 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000289 (осталось: 6)
21:43:32.563 Worker result SUCCESS for Work [ id=f130faf1-49d2-4b05-8359-f5e19028a9c0, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411475_IMG_20251123_214301_1.jpg } ]
21:43:32.566 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000290 (всего: 6)
21:43:32.567 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.568 Processor 67a46f96-4205-46b3-b47e-b4af58534d63 executed; reschedule = false
21:43:32.570 67a46f96-4205-46b3-b47e-b4af58534d63 executed on JobScheduler
21:43:32.570 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=67a46f96-4205-46b3-b47e-b4af58534d63, generation=0), notificationType: 1
21:43:32.570 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000286
21:43:32.572 Notifying with (id:1, workSpecId: e4e47576-53fe-4599-a44a-67d50dc5e080, notificationType :1)
21:43:32.572 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.573 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412573
21:43:32.573 Cancelling work ID 67a46f96-4205-46b3-b47e-b4af58534d63
21:43:32.573 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.576 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:32.576 Notifying with (id:1, workSpecId: 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, notificationType :1)
21:43:32.577 [FileUtil] Директория для сохранения: Pictures
21:43:32.577 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214259_1.jpg (режим замены: true)
21:43:32.581 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000327
21:43:32.582 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.584 Failed to get type for: content://media/external/images/media/1000000290 (No item at content://media/external/images/media/1000000290)
21:43:32.584 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.585 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.588 Worker result SUCCESS for Work [ id=e4e47576-53fe-4599-a44a-67d50dc5e080, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923409615_IMG_20251123_214305_1.jpg } ]
21:43:32.592 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000287, обработка через 10 сек
21:43:32.593 Notifying with (id:1, workSpecId: 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, notificationType :1)
21:43:32.593 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.593 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000288
21:43:32.597 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000284
21:43:32.597 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.598 [СЖАТИЕ:0286] Запущена работа по сжатию для content://media/external/images/media/1000000286 с тегом compress_1763923412587_IMG_20251123_214258_1.jpg в батче auto_batch_1_1763923409451
21:43:32.599 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.599 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.599 [FileUtil] Обработка EXIF данных: успешно
21:43:32.599 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000282
21:43:32.599 [URI:0290] URI не существует
21:43:32.600 [ОШИБКА:Обработка:0290] Недействительный URI
21:43:32.600 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000290 (осталось: 5)
21:43:32.600 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000287 (всего: 5)
21:43:32.601 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214259_1.jpg', включен режим замены - удаляем
21:43:32.601 [ФАЙЛ:0289] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000325
21:43:32.601 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000325 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.602 [URI:0282] URI scheme: content, authority: media, path: /external/images/media/1000000282
21:43:32.602 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000289
21:43:32.604 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000325
21:43:32.607 Failed to get type for: content://media/external/images/media/1000000289 (No item at content://media/external/images/media/1000000289)
21:43:32.608 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000284
21:43:32.609 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000282 (всего: 6)
21:43:32.610 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000325 пропущен, так как недавно обработан.
21:43:32.610 Failed to get type for: content://media/external/images/media/1000000287 (No item at content://media/external/images/media/1000000287)
21:43:32.613 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.613 [URI:0284] Изображение требует обработки
21:43:32.613 [URI:0284] Начало тестового сжатия в RAM
21:43:32.613 [URI:0284] Сжатие изображения в поток
21:43:32.616 [MediaStore] Существующий файл удален (режим замены)
21:43:32.617 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.620 [FileUtil] Обработка EXIF данных: успешно
21:43:32.620 [ФАЙЛ:0290] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000326
21:43:32.621 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000326 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.621 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000290
21:43:32.623 Scheduling work ID b4202b7d-5b53-41eb-9096-30e64ad99a2dJob ID 137
21:43:32.625 [URI:0287] URI не существует
21:43:32.625 [ОШИБКА:Обработка:0287] Недействительный URI
21:43:32.625 Starting work for b4202b7d-5b53-41eb-9096-30e64ad99a2d
21:43:32.627 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000289
21:43:32.627 [ОШИБКА:Удаление:0289] Не удалось удалить оригинальный файл
21:43:32.628 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000287 (осталось: 5)
21:43:32.628 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000288 (всего: 5)
21:43:32.628 Processor: processing WorkGenerationalId(workSpecId=b4202b7d-5b53-41eb-9096-30e64ad99a2d, generation=0)
21:43:32.635 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000327, обработка через 10 сек
21:43:32.638 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000328
21:43:32.639 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214259_2.jpg (15)
21:43:32.639 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214259_2.jpg
21:43:32.642 Moving WorkSpec (460077b6-7ed2-44e1-b7e6-4ad4f6164af5) to the foreground
21:43:32.645 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000289
21:43:32.645 [СЖАТИЕ:0284] 141KB → 53KB (-62%)
21:43:32.645 [СЖАТИЕ:0284] 141KB → 53KB (-62.070274%)
21:43:32.645 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000328
21:43:32.645 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000284 эффективно (экономия 62.070274%), выполняем полное сжатие
21:43:32.645 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.645 Failed to get type for: content://media/external/images/media/1000000290 (No item at content://media/external/images/media/1000000290)
21:43:32.648 [URI:0284] Имя файла: IMG_20251123_214257_1.jpg
21:43:32.649 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214257_1.jpg
21:43:32.649 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214257_1.jpg (режим замены: true)
21:43:32.652 Failed to get type for: content://media/external/images/media/1000000288 (No item at content://media/external/images/media/1000000288)
21:43:32.652 [URI:0284] Директория для сохранения: Pictures
21:43:32.656 [URI:0284] Сжатие изображения в поток
21:43:32.661 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000326
21:43:32.661 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000326 пропущен, так как недавно обработан.
21:43:32.664 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000290
21:43:32.665 [ОШИБКА:Удаление:0290] Не удалось удалить оригинальный файл
21:43:32.669 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000328
21:43:32.669 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000328, максимальное время: 2000 мс
21:43:32.670 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:32.671 [FileUtil] URI стал доступен через 2 мс, размер: 54999 байт
21:43:32.673 [URI:0288] URI не существует
21:43:32.673 [ОШИБКА:Обработка:0288] Недействительный URI
21:43:32.673 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000288 (осталось: 4)
21:43:32.674 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000284 (всего: 4)
21:43:32.675 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214300.jpg (16)
21:43:32.675 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214300.jpg
21:43:32.678 Moving WorkSpec (79fbd488-fade-485b-a71f-d94aa99acbc6) to the foreground
21:43:32.681 onStopJob for WorkGenerationalId(workSpecId=e4a0752f-865a-437b-acb2-1f8a19de7ef3, generation=0)
21:43:32.682 Processor f130faf1-49d2-4b05-8359-f5e19028a9c0 executed; reschedule = false
21:43:32.682 f130faf1-49d2-4b05-8359-f5e19028a9c0 executed on JobScheduler
21:43:32.682 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=f130faf1-49d2-4b05-8359-f5e19028a9c0, generation=0), notificationType: 1
21:43:32.685 onStopJob for WorkGenerationalId(workSpecId=67a46f96-4205-46b3-b47e-b4af58534d63, generation=0)
21:43:32.685 Processor e4e47576-53fe-4599-a44a-67d50dc5e080 executed; reschedule = false
21:43:32.685 e4e47576-53fe-4599-a44a-67d50dc5e080 executed on JobScheduler
21:43:32.686 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:32.686 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000285 в память (кэш не найден)
21:43:32.690 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=e4e47576-53fe-4599-a44a-67d50dc5e080, generation=0), notificationType: 1
21:43:32.691 Moving WorkSpec (e6d794ab-b9f1-44ce-b800-83050e67ba76) to the foreground
21:43:32.694 [FileUtil] Директория для сохранения: Pictures
21:43:32.694 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214257_1.jpg (режим замены: true)
21:43:32.695 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.695 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000285:
21:43:32.695 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:32.695 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:32.695 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:32.695 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:32.695 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:32.695 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:32.695 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:32.696 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:58
21:43:32.696 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:32.696 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:32.697 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000284
21:43:32.698 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.698 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000288, обработка через 10 сек
21:43:32.698 [FileUtil] Обработка EXIF данных: успешно
21:43:32.698 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:32.699 [ПРОЦЕСС] ImageDetectionJobService: onStartJob вызван
21:43:32.699 [ПРОЦЕСС] ImageDetectionJobService: получено 40 URI для обработки
21:43:32.699 [ФАЙЛ:0287] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000327
21:43:32.699 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000327 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.699 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214257_1.jpg', включен режим замены - удаляем
21:43:32.699 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000287
21:43:32.701 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000290
21:43:32.702 [ПРОЦЕСС] ImageDetectionJobService: добавлены 40 URI к батчу, общий размер: 40
21:43:32.707 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.709 Failed to get type for: content://media/external/images/media/1000000287 (No item at content://media/external/images/media/1000000287)
21:43:32.709 [MediaStore] Существующий файл удален (режим замены)
21:43:32.710 [URI:0285] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:32.712 Cancelling work ID f130faf1-49d2-4b05-8359-f5e19028a9c0
21:43:32.713 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.713 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412713
21:43:32.716 Failed to get type for: content://media/external/images/media/1000000284 (No item at content://media/external/images/media/1000000284)
21:43:32.719 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000328
21:43:32.720 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000328, обработка через 10 сек
21:43:32.720 Notifying with (id:1, workSpecId: 460077b6-7ed2-44e1-b7e6-4ad4f6164af5, notificationType :1)
21:43:32.720 Cancelling work ID e4e47576-53fe-4599-a44a-67d50dc5e080
21:43:32.726 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000287
21:43:32.727 [ОШИБКА:Удаление:0287] Не удалось удалить оригинальный файл
21:43:32.727 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.728 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.728 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000329
21:43:32.730 Moving WorkSpec (b4202b7d-5b53-41eb-9096-30e64ad99a2d) to the foreground
21:43:32.734 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000329
21:43:32.736 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000282
21:43:32.736 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.737 [URI:0284] URI не существует
21:43:32.738 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000327
21:43:32.738 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000327 пропущен, так как недавно обработан.
21:43:32.740 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214259.jpg (17)
21:43:32.740 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214259.jpg
21:43:32.741 Worker result SUCCESS for Work [ id=460077b6-7ed2-44e1-b7e6-4ad4f6164af5, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411649_IMG_20251123_214259_2.jpg } ]
21:43:32.741 [ОШИБКА:Обработка:0284] Недействительный URI
21:43:32.742 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000284 (осталось: 3)
21:43:32.743 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000285 (всего: 3)
21:43:32.747 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:32.747 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.748 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000286 в память (кэш не найден)
21:43:32.751 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:32.751 Notifying with (id:1, workSpecId: 79fbd488-fade-485b-a71f-d94aa99acbc6, notificationType :1)
21:43:32.752 [СЖАТИЕ:0282] Запущена работа по сжатию для content://media/external/images/media/1000000282 с тегом compress_1763923412743_IMG_20251123_214256_2.jpg в батче auto_batch_1_1763923409451
21:43:32.752 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.754 Moving WorkSpec (d47437d7-3eb9-4d4f-83da-21c3f6bcfc54) to the foreground
21:43:32.759 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000283
21:43:32.760 [URI:0283] URI scheme: content, authority: media, path: /external/images/media/1000000283
21:43:32.761 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000286:
21:43:32.761 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:32.761 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:32.761 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:32.761 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:32.761 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:32.763 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000329
21:43:32.763 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000329, максимальное время: 2000 мс
21:43:32.764 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000287
21:43:32.766 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:32.766 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:32.766 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:58
21:43:32.766 [FileUtil] URI стал доступен через 3 мс, размер: 55077 байт
21:43:32.766 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:32.766 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:32.766 [URI:0286] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:32.767 Notifying with (id:1, workSpecId: 79fbd488-fade-485b-a71f-d94aa99acbc6, notificationType :1)
21:43:32.770 Notifying with (id:1, workSpecId: e6d794ab-b9f1-44ce-b800-83050e67ba76, notificationType :1)
21:43:32.772 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000283 (всего: 4)
21:43:32.783 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000285
21:43:32.783 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.786 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000284, обработка через 10 сек
21:43:32.786 onStopJob for WorkGenerationalId(workSpecId=f130faf1-49d2-4b05-8359-f5e19028a9c0, generation=0)
21:43:32.786 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.787 Scheduling work ID 57601ef0-890b-49f8-ba93-c1d5aee91b72Job ID 138
21:43:32.794 onStopJob for WorkGenerationalId(workSpecId=e4e47576-53fe-4599-a44a-67d50dc5e080, generation=0)
21:43:32.798 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:32.798 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923412798
21:43:32.799 Starting work for 57601ef0-890b-49f8-ba93-c1d5aee91b72
21:43:32.800 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000329
21:43:32.801 Worker result SUCCESS for Work [ id=e6d794ab-b9f1-44ce-b800-83050e67ba76, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411808_IMG_20251123_214300.jpg } ]
21:43:32.802 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:32.803 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:32.804 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000285
21:43:32.805 [URI:0285] Сжатие изображения в поток
21:43:32.807 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000329, обработка через 10 сек
21:43:32.807 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:32.807 Notifying with (id:1, workSpecId: b4202b7d-5b53-41eb-9096-30e64ad99a2d, notificationType :1)
21:43:32.812 Processor: processing WorkGenerationalId(workSpecId=57601ef0-890b-49f8-ba93-c1d5aee91b72, generation=0)
21:43:32.816 Notifying with (id:1, workSpecId: b4202b7d-5b53-41eb-9096-30e64ad99a2d, notificationType :1)
21:43:32.829 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000285
21:43:32.830 Processor 460077b6-7ed2-44e1-b7e6-4ad4f6164af5 executed; reschedule = false
21:43:32.830 460077b6-7ed2-44e1-b7e6-4ad4f6164af5 executed on JobScheduler
21:43:32.830 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=460077b6-7ed2-44e1-b7e6-4ad4f6164af5, generation=0), notificationType: 1
21:43:32.837 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.837 [FileUtil] Обработка EXIF данных: успешно
21:43:32.838 [ФАЙЛ:0288] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000328
21:43:32.838 Cancelling work ID 460077b6-7ed2-44e1-b7e6-4ad4f6164af5
21:43:32.839 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000328 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.840 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000288
21:43:32.840 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.840 [URI:0285] Изображение требует обработки
21:43:32.840 [URI:0285] Начало тестового сжатия в RAM
21:43:32.840 [URI:0285] Сжатие изображения в поток
21:43:32.841 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214258.jpg
21:43:32.843 Failed to get type for: content://media/external/images/media/1000000288 (No item at content://media/external/images/media/1000000288)
21:43:32.845 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000286
21:43:32.845 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.846 [FileUtil] Директория для сохранения: Pictures
21:43:32.847 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214258.jpg (режим замены: true)
21:43:32.847 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:32.852 Notifying with (id:1, workSpecId: d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, notificationType :1)
21:43:32.853 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000288
21:43:32.853 [ОШИБКА:Удаление:0288] Не удалось удалить оригинальный файл
21:43:32.854 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000285
21:43:32.855 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214258.jpg', включен режим замены - удаляем
21:43:32.858 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000283
21:43:32.858 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.859 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000286
21:43:32.862 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214259_1.jpg (18)
21:43:32.862 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214259_1.jpg
21:43:32.866 Moving WorkSpec (bc7513bd-e429-410d-92b7-6d2b849c6c8d) to the foreground
21:43:32.868 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:32.870 [MediaStore] Существующий файл удален (режим замены)
21:43:32.872 [URI:0286] Изображение требует обработки
21:43:32.874 [URI:0286] Начало тестового сжатия в RAM
21:43:32.875 [URI:0286] Сжатие изображения в поток
21:43:32.877 onStartJob for WorkGenerationalId(workSpecId=79fbd488-fade-485b-a71f-d94aa99acbc6, generation=0)
21:43:32.877 onStartJob for WorkGenerationalId(workSpecId=b4202b7d-5b53-41eb-9096-30e64ad99a2d, generation=0)
21:43:32.878 onStartJob for WorkGenerationalId(workSpecId=57601ef0-890b-49f8-ba93-c1d5aee91b72, generation=0)
21:43:32.878 Processor e6d794ab-b9f1-44ce-b800-83050e67ba76 executed; reschedule = false
21:43:32.878 e6d794ab-b9f1-44ce-b800-83050e67ba76 executed on JobScheduler
21:43:32.878 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=e6d794ab-b9f1-44ce-b800-83050e67ba76, generation=0), notificationType: 1
21:43:32.878 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.880 [СЖАТИЕ:0283] Запущена работа по сжатию для content://media/external/images/media/1000000283 с тегом compress_1763923412874_IMG_20251123_214257.jpg в батче auto_batch_1_1763923409451
21:43:32.880 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:32.880 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000330
21:43:32.881 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.881 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000279
21:43:32.882 [URI:0279] URI scheme: content, authority: media, path: /external/images/media/1000000279
21:43:32.882 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000288
21:43:32.886 [СЖАТИЕ:0285] 141KB → 53KB (-62%)
21:43:32.886 [СЖАТИЕ:0285] 141KB → 53KB (-62.14028%)
21:43:32.886 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000285 эффективно (экономия 62.14028%), выполняем полное сжатие
21:43:32.886 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.889 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000330
21:43:32.893 Worker result SUCCESS for Work [ id=d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923411978_IMG_20251123_214259.jpg } ]
21:43:32.893 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000279 (всего: 5)
21:43:32.895 Work WorkGenerationalId(workSpecId=79fbd488-fade-485b-a71f-d94aa99acbc6, generation=0) is already enqueued for processing
21:43:32.895 [ОШИБКА:Имя файла:0285] Не удалось получить имя файла
21:43:32.895 onStopJob for WorkGenerationalId(workSpecId=460077b6-7ed2-44e1-b7e6-4ad4f6164af5, generation=0)
21:43:32.896 Notifying with (id:1, workSpecId: bc7513bd-e429-410d-92b7-6d2b849c6c8d, notificationType :1)
21:43:32.899 Work WorkGenerationalId(workSpecId=b4202b7d-5b53-41eb-9096-30e64ad99a2d, generation=0) is already enqueued for processing
21:43:32.900 Work WorkGenerationalId(workSpecId=57601ef0-890b-49f8-ba93-c1d5aee91b72, generation=0) is already enqueued for processing
21:43:32.907 Cancelling work ID e6d794ab-b9f1-44ce-b800-83050e67ba76
21:43:32.909 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:32.910 [FileUtil] Обработка EXIF данных: успешно
21:43:32.910 [ФАЙЛ:0284] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000329
21:43:32.918 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000329 до Sun Nov 23 21:43:37 GMT+03:00 2025
21:43:32.918 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000284
21:43:32.928 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000285, обработка через 10 сек
21:43:32.928 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000279
21:43:32.928 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:32.932 Scheduling work ID 7d72aa4a-5498-4943-a19b-1415ebb171c1Job ID 139
21:43:32.933 Failed to get type for: content://media/external/images/media/1000000284 (No item at content://media/external/images/media/1000000284)
21:43:32.937 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:32.938 [СЖАТИЕ:0279] Запущена работа по сжатию для content://media/external/images/media/1000000279 с тегом compress_1763923412932_IMG_20251123_214255_1.jpg в батче auto_batch_1_1763923409451
21:43:32.938 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:32.938 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000280
21:43:32.938 [URI:0280] URI scheme: content, authority: media, path: /external/images/media/1000000280
21:43:32.941 Starting work for 7d72aa4a-5498-4943-a19b-1415ebb171c1
21:43:32.942 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000284
21:43:32.942 [ОШИБКА:Удаление:0284] Не удалось удалить оригинальный файл
21:43:32.943 Moving WorkSpec (57601ef0-890b-49f8-ba93-c1d5aee91b72) to the foreground
21:43:32.944 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000280 (всего: 6)
21:43:32.945 [СЖАТИЕ:0286] 142KB → 53KB (-62%)
21:43:32.946 [СЖАТИЕ:0286] 142KB → 53KB (-62.253414%)
21:43:32.947 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000286 эффективно (экономия 62.253414%), выполняем полное сжатие
21:43:32.948 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000330, обработка через 10 сек
21:43:32.948 Processor d47437d7-3eb9-4d4f-83da-21c3f6bcfc54 executed; reschedule = false
21:43:32.948 d47437d7-3eb9-4d4f-83da-21c3f6bcfc54 executed on JobScheduler
21:43:32.948 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=d47437d7-3eb9-4d4f-83da-21c3f6bcfc54, generation=0), notificationType: 1
21:43:32.950 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:32.950 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000282 в память (кэш не найден)
21:43:32.950 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:32.951 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214257_1.jpg (19)
21:43:32.952 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214257_1.jpg
21:43:32.953 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000330
21:43:32.953 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000330, максимальное время: 2000 мс
21:43:32.953 onStopJob for WorkGenerationalId(workSpecId=e6d794ab-b9f1-44ce-b800-83050e67ba76, generation=0)
21:43:32.954 Moving WorkSpec (79fbd488-fade-485b-a71f-d94aa99acbc6) to the foreground
21:43:32.960 [FileUtil] URI стал доступен через 7 мс, размер: 54847 байт
21:43:32.963 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000285
21:43:32.967 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000282:
21:43:32.967 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:32.968 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:32.969 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:32.969 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:32.969 [URI:0286] Имя файла: IMG_20251123_214258_1.jpg
21:43:32.969 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:32.969 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214258_1.jpg
21:43:32.969 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214258_1.jpg (режим замены: true)
21:43:32.970 Notifying with (id:1, workSpecId: 57601ef0-890b-49f8-ba93-c1d5aee91b72, notificationType :1)
21:43:32.970 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:32.974 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:32.974 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:32.974 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:57
21:43:32.976 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:32.977 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:32.977 [URI:0282] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:32.980 Scheduling work ID 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507Job ID 140
21:43:32.981 onStartJob for WorkGenerationalId(workSpecId=7d72aa4a-5498-4943-a19b-1415ebb171c1, generation=0)
21:43:32.982 [URI:0286] Директория для сохранения: Pictures
21:43:32.983 Notifying with (id:1, workSpecId: 57601ef0-890b-49f8-ba93-c1d5aee91b72, notificationType :1)
21:43:32.986 [URI:0286] Сжатие изображения в поток
21:43:32.988 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923412000
21:43:32.996 Notifying with (id:1, workSpecId: 79fbd488-fade-485b-a71f-d94aa99acbc6, notificationType :1)
21:43:32.998 Starting work for 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507
21:43:33.000 Processor: processing WorkGenerationalId(workSpecId=7d72aa4a-5498-4943-a19b-1415ebb171c1, generation=0)
21:43:33.002 onStartJob for WorkGenerationalId(workSpecId=4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, generation=0)
21:43:33.004 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.005 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413004
21:43:33.007 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000330
21:43:33.011 Worker result SUCCESS for Work [ id=bc7513bd-e429-410d-92b7-6d2b849c6c8d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412112_IMG_20251123_214259_1.jpg } ]
21:43:33.015 Processor bc7513bd-e429-410d-92b7-6d2b849c6c8d executed; reschedule = false
21:43:33.015 bc7513bd-e429-410d-92b7-6d2b849c6c8d executed on JobScheduler
21:43:33.015 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=bc7513bd-e429-410d-92b7-6d2b849c6c8d, generation=0), notificationType: 1
21:43:33.015 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000280
21:43:33.015 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.016 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.017 Cancelling work ID d47437d7-3eb9-4d4f-83da-21c3f6bcfc54
21:43:33.019 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.022 Moving WorkSpec (9af47ea5-43f9-4e2b-aaea-af66cf45a6cf) to the foreground
21:43:33.028 Notifying with (id:1, workSpecId: 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, notificationType :1)
21:43:33.035 [FileUtil] Директория для сохранения: Pictures
21:43:33.035 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214258_1.jpg (режим замены: true)
21:43:33.038 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.039 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000282
21:43:33.039 Work WorkGenerationalId(workSpecId=7d72aa4a-5498-4943-a19b-1415ebb171c1, generation=0) is already enqueued for processing
21:43:33.039 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000284
21:43:33.039 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.041 Processor: processing WorkGenerationalId(workSpecId=4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, generation=0)
21:43:33.045 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.046 Worker result FAILURE for Work [ id=79fbd488-fade-485b-a71f-d94aa99acbc6, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412461_IMG_20251123_214258.jpg } ]
21:43:33.048 Processor 79fbd488-fade-485b-a71f-d94aa99acbc6 executed; reschedule = false
21:43:33.051 79fbd488-fade-485b-a71f-d94aa99acbc6 executed on JobScheduler
21:43:33.051 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=79fbd488-fade-485b-a71f-d94aa99acbc6, generation=0), notificationType: 1
21:43:33.053 Work WorkGenerationalId(workSpecId=4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, generation=0) is already enqueued for processing
21:43:33.054 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.055 Cancelling work ID bc7513bd-e429-410d-92b7-6d2b849c6c8d
21:43:33.055 [СЖАТИЕ:0280] Запущена работа по сжатию для content://media/external/images/media/1000000280 с тегом compress_1763923413043_IMG_20251123_214256.jpg в батче auto_batch_1_1763923409451
21:43:33.055 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.055 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000281
21:43:33.055 [URI:0281] URI scheme: content, authority: media, path: /external/images/media/1000000281
21:43:33.057 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000286
21:43:33.058 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214258_1.jpg', включен режим замены - удаляем
21:43:33.060 Worker result SUCCESS for Work [ id=9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412232_IMG_20251123_214257_1.jpg } ]
21:43:33.062 Processor 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf executed; reschedule = false
21:43:33.062 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf executed on JobScheduler
21:43:33.065 Cancelling work ID 79fbd488-fade-485b-a71f-d94aa99acbc6
21:43:33.068 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=9af47ea5-43f9-4e2b-aaea-af66cf45a6cf, generation=0), notificationType: 1
21:43:33.069 [MediaStore] Существующий файл удален (режим замены)
21:43:33.074 Moving WorkSpec (7d72aa4a-5498-4943-a19b-1415ebb171c1) to the foreground
21:43:33.075 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000282
21:43:33.078 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.078 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000281 (всего: 7)
21:43:33.083 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.083 [URI:0282] Изображение требует обработки
21:43:33.083 [URI:0282] Начало тестового сжатия в RAM
21:43:33.083 [URI:0282] Сжатие изображения в поток
21:43:33.088 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000331
21:43:33.092 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.094 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000283 в память (кэш не найден)
21:43:33.099 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000331
21:43:33.105 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000286, обработка через 10 сек
21:43:33.106 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.114 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000283:
21:43:33.118 Notifying with (id:1, workSpecId: 7d72aa4a-5498-4943-a19b-1415ebb171c1, notificationType :1)
21:43:33.132 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000331
21:43:33.133 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000331, максимальное время: 2000 мс
21:43:33.135 Scheduling work ID c0772ddf-3a4e-4860-8197-d5c8487b546dJob ID 141
21:43:33.137 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.140 Starting work for c0772ddf-3a4e-4860-8197-d5c8487b546d
21:43:33.141 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.141 [FileUtil] Обработка EXIF данных: успешно
21:43:33.142 [FileUtil] URI стал доступен через 9 мс, размер: 54936 байт
21:43:33.143 Cancelling work ID 9af47ea5-43f9-4e2b-aaea-af66cf45a6cf
21:43:33.146 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.146 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.146 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.146 Moving WorkSpec (4f6b2a64-c1ab-4d14-8f68-3e31d3d75507) to the foreground
21:43:33.146 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.147 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.147 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.147 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:57
21:43:33.147 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.147 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.147 [URI:0283] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.149 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.149 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000279 в память (кэш не найден)
21:43:33.151 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000331, обработка через 10 сек
21:43:33.152 Notifying with (id:1, workSpecId: 7d72aa4a-5498-4943-a19b-1415ebb171c1, notificationType :1)
21:43:33.152 Processor: processing WorkGenerationalId(workSpecId=c0772ddf-3a4e-4860-8197-d5c8487b546d, generation=0)
21:43:33.153 [ОШИБКА:Получение размера:0285] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000285
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:33.160 Background concurrent mark compact GC freed 5508KB AllocSpace bytes, 52(2264KB) LOS objects, 49% free, 6311KB/12MB, paused 448us,11.971ms total 94.264ms
21:43:33.164 [ФАЙЛ:0285] Сохранение: Изображение успешно сжато: IMG_20251123_214258.jpg, 0KB → 54KB
21:43:33.164 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000285 (осталось: 6)
21:43:33.165 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000286 (всего: 6)
21:43:33.166 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000279:
21:43:33.166 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.167 onStartJob for WorkGenerationalId(workSpecId=c0772ddf-3a4e-4860-8197-d5c8487b546d, generation=0)
21:43:33.168 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.168 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.168 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000281
21:43:33.168 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.168 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.169 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.169 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.169 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.169 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:56
21:43:33.169 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.169 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.169 [URI:0279] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.170 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.170 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.172 Notifying with (id:1, workSpecId: 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, notificationType :1)
21:43:33.172 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.172 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413172
21:43:33.174 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000331
21:43:33.177 Work WorkGenerationalId(workSpecId=c0772ddf-3a4e-4860-8197-d5c8487b546d, generation=0) is already enqueued for processing
21:43:33.177 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.178 [СЖАТИЕ:0281] Запущена работа по сжатию для content://media/external/images/media/1000000281 с тегом compress_1763923413175_IMG_20251123_214256_1.jpg в батче auto_batch_1_1763923409451
21:43:33.178 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.178 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000277
21:43:33.179 [URI:0277] URI scheme: content, authority: media, path: /external/images/media/1000000277
21:43:33.180 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.180 Notifying with (id:1, workSpecId: 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, notificationType :1)
21:43:33.180 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.187 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000277 (всего: 7)
21:43:33.187 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.189 [СЖАТИЕ:0282] 141KB → 53KB (-62%)
21:43:33.189 [СЖАТИЕ:0282] 141KB → 53KB (-62.180042%)
21:43:33.189 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000282 эффективно (экономия 62.180042%), выполняем полное сжатие
21:43:33.190 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.190 Failed to get type for: content://media/external/images/media/1000000286 (No item at content://media/external/images/media/1000000286)
21:43:33.191 Scheduling work ID 6bddde85-cac7-4247-9a1e-3fb55531f329Job ID 142
21:43:33.199 Starting work for 6bddde85-cac7-4247-9a1e-3fb55531f329
21:43:33.200 onStartJob for WorkGenerationalId(workSpecId=6bddde85-cac7-4247-9a1e-3fb55531f329, generation=0)
21:43:33.201 Moving WorkSpec (c0772ddf-3a4e-4860-8197-d5c8487b546d) to the foreground
21:43:33.203 [URI:0286] URI не существует
21:43:33.203 [ОШИБКА:Обработка:0286] Недействительный URI
21:43:33.203 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000286 (осталось: 6)
21:43:33.203 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000282 (всего: 6)
21:43:33.206 [URI:0282] Имя файла: IMG_20251123_214256_2.jpg
21:43:33.206 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214256_2.jpg
21:43:33.207 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214256_2.jpg (режим замены: true)
21:43:33.208 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000283
21:43:33.209 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.209 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.209 Notifying with (id:1, workSpecId: c0772ddf-3a4e-4860-8197-d5c8487b546d, notificationType :1)
21:43:33.214 Processor: processing WorkGenerationalId(workSpecId=6bddde85-cac7-4247-9a1e-3fb55531f329, generation=0)
21:43:33.215 [URI:0282] Директория для сохранения: Pictures
21:43:33.216 Notifying with (id:1, workSpecId: c0772ddf-3a4e-4860-8197-d5c8487b546d, notificationType :1)
21:43:33.216 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.217 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000280 в память (кэш не найден)
21:43:33.217 Work WorkGenerationalId(workSpecId=6bddde85-cac7-4247-9a1e-3fb55531f329, generation=0) is already enqueued for processing
21:43:33.221 [URI:0282] Сжатие изображения в поток
21:43:33.222 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000283
21:43:33.224 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.225 [URI:0283] Изображение требует обработки
21:43:33.225 [URI:0283] Начало тестового сжатия в RAM
21:43:33.225 [URI:0283] Сжатие изображения в поток
21:43:33.227 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.228 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000280:
21:43:33.229 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.229 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.229 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.229 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.229 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.229 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.229 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.229 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:56
21:43:33.229 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.229 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.229 [URI:0280] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.235 Moving WorkSpec (6bddde85-cac7-4247-9a1e-3fb55531f329) to the foreground
21:43:33.236 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.237 Notifying with (id:1, workSpecId: 6bddde85-cac7-4247-9a1e-3fb55531f329, notificationType :1)
21:43:33.237 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000279
21:43:33.237 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.239 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000277
21:43:33.239 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.241 Notifying with (id:1, workSpecId: 6bddde85-cac7-4247-9a1e-3fb55531f329, notificationType :1)
21:43:33.244 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.246 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000281 в память (кэш не найден)
21:43:33.247 [СЖАТИЕ:0283] 141KB → 53KB (-61%)
21:43:33.247 [СЖАТИЕ:0283] 141KB → 53KB (-61.988808%)
21:43:33.247 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000283 эффективно (экономия 61.988808%), выполняем полное сжатие
21:43:33.247 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.250 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000282
21:43:33.251 [URI:0282] Сжатие изображения в поток
21:43:33.252 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000281:
21:43:33.255 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.255 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.255 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.256 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.256 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.256 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.257 [URI:0283] Имя файла: IMG_20251123_214257.jpg
21:43:33.257 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214257.jpg
21:43:33.257 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214257.jpg (режим замены: true)
21:43:33.257 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.258 [СЖАТИЕ:0277] Запущена работа по сжатию для content://media/external/images/media/1000000277 с тегом compress_1763923413253_IMG_20251123_214254_1.jpg в батче auto_batch_1_1763923409451
21:43:33.260 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.261 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000279
21:43:33.261 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.261 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:56
21:43:33.262 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.264 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.264 [URI:0281] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.264 [URI:0283] Директория для сохранения: Pictures
21:43:33.265 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000278
21:43:33.267 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.267 [URI:0279] Изображение требует обработки
21:43:33.267 [URI:0278] URI scheme: content, authority: media, path: /external/images/media/1000000278
21:43:33.267 [URI:0279] Начало тестового сжатия в RAM
21:43:33.268 [URI:0279] Сжатие изображения в поток
21:43:33.271 Scheduling work ID 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2Job ID 143
21:43:33.276 [FileUtil] Директория для сохранения: Pictures
21:43:33.276 [URI:0283] Сжатие изображения в поток
21:43:33.277 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214256_2.jpg (режим замены: true)
21:43:33.278 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.280 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000278 (всего: 7)
21:43:33.282 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214256_2.jpg
21:43:33.286 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.289 Starting work for 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2
21:43:33.289 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000282
21:43:33.289 [FileUtil] Директория для сохранения: Pictures
21:43:33.290 [FileUtil] Обработка EXIF данных: успешно
21:43:33.290 onStartJob for WorkGenerationalId(workSpecId=1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, generation=0)
21:43:33.290 [ФАЙЛ:0286] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000331
21:43:33.291 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214256_2.jpg (режим замены: true)
21:43:33.291 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000331 до Sun Nov 23 21:43:38 GMT+03:00 2025
21:43:33.291 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000286
21:43:33.291 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.291 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000280
21:43:33.292 Processor: processing WorkGenerationalId(workSpecId=1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, generation=0)
21:43:33.292 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.292 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214256_2.jpg', включен режим замены - удаляем
21:43:33.295 Failed to get type for: content://media/external/images/media/1000000286 (No item at content://media/external/images/media/1000000286)
21:43:33.295 Work WorkGenerationalId(workSpecId=1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, generation=0) is already enqueued for processing
21:43:33.296 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000282
21:43:33.297 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214256_2.jpg', включен режим замены - удаляем
21:43:33.302 [MediaStore] Существующий файл удален (режим замены)
21:43:33.303 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000286
21:43:33.305 [ОШИБКА:Удаление:0286] Не удалось удалить оригинальный файл
21:43:33.312 [MediaStore] Существующий файл удален (режим замены)
21:43:33.312 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000332
21:43:33.314 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000280
21:43:33.315 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214258_1.jpg (20)
21:43:33.315 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214258_1.jpg
21:43:33.316 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000282, обработка через 10 сек
21:43:33.316 [FileUtil] Директория для сохранения: Pictures
21:43:33.318 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214257.jpg (режим замены: true)
21:43:33.318 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.319 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000332
21:43:33.323 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000281
21:43:33.323 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.323 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000283
21:43:33.324 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000332
21:43:33.328 Moving WorkSpec (b4202b7d-5b53-41eb-9096-30e64ad99a2d) to the foreground
21:43:33.328 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214257.jpg', включен режим замены - удаляем
21:43:33.329 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.329 [URI:0280] Изображение требует обработки
21:43:33.329 [URI:0280] Начало тестового сжатия в RAM
21:43:33.330 [URI:0280] Сжатие изображения в поток
21:43:33.331 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000332
21:43:33.336 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000281
21:43:33.346 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000332
21:43:33.347 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000332, максимальное время: 2000 мс
21:43:33.347 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000286
21:43:33.349 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.349 [URI:0281] Изображение требует обработки
21:43:33.349 [URI:0281] Начало тестового сжатия в RAM
21:43:33.349 [URI:0281] Сжатие изображения в поток
21:43:33.350 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000332, обработка через 10 сек
21:43:33.350 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.355 [FileUtil] URI стал доступен через 7 мс, размер: 54876 байт
21:43:33.356 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000278
21:43:33.356 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.361 Moving WorkSpec (1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2) to the foreground
21:43:33.364 [MediaStore] Существующий файл удален (режим замены)
21:43:33.367 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.368 [СЖАТИЕ:0278] Запущена работа по сжатию для content://media/external/images/media/1000000278 с тегом compress_1763923413362_IMG_20251123_214255.jpg в батче auto_batch_1_1763923409451
21:43:33.369 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.369 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000275
21:43:33.369 [URI:0275] URI scheme: content, authority: media, path: /external/images/media/1000000275
21:43:33.372 [СЖАТИЕ:0279] 142KB → 53KB (-62%)
21:43:33.372 [СЖАТИЕ:0279] 142KB → 53KB (-62.06968%)
21:43:33.373 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000279 эффективно (экономия 62.06968%), выполняем полное сжатие
21:43:33.373 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.373 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000275 (всего: 8)
21:43:33.377 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000332
21:43:33.377 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.377 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000332, максимальное время: 2000 мс
21:43:33.379 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.379 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000277 в память (кэш не найден)
21:43:33.384 [FileUtil] URI стал доступен через 7 мс, размер: 54876 байт
21:43:33.385 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000333
21:43:33.389 Notifying with (id:1, workSpecId: b4202b7d-5b53-41eb-9096-30e64ad99a2d, notificationType :1)
21:43:33.390 [URI:0279] Имя файла: IMG_20251123_214255_1.jpg
21:43:33.390 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214255_1.jpg
21:43:33.390 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214255_1.jpg (режим замены: true)
21:43:33.392 Scheduling work ID d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85Job ID 144
21:43:33.393 [СЖАТИЕ:0280] 141KB → 53KB (-62%)
21:43:33.393 [СЖАТИЕ:0280] 141KB → 53KB (-62.094044%)
21:43:33.394 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000280 эффективно (экономия 62.094044%), выполняем полное сжатие
21:43:33.395 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000277:
21:43:33.395 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.395 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.395 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.395 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.395 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.395 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.395 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.396 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.396 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:55
21:43:33.396 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.396 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.396 [URI:0277] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.402 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.403 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413402
21:43:33.406 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000332
21:43:33.406 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000333
21:43:33.409 Starting work for d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85
21:43:33.410 [URI:0280] Имя файла: IMG_20251123_214256.jpg
21:43:33.410 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214256.jpg
21:43:33.410 [URI:0279] Директория для сохранения: Pictures
21:43:33.412 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.413 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214256.jpg (режим замены: true)
21:43:33.413 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.413 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.415 Worker result SUCCESS for Work [ id=b4202b7d-5b53-41eb-9096-30e64ad99a2d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412587_IMG_20251123_214258_1.jpg } ]
21:43:33.417 Processor: processing WorkGenerationalId(workSpecId=d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, generation=0)
21:43:33.424 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000283, обработка через 10 сек
21:43:33.426 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.426 [URI:0280] Директория для сохранения: Pictures
21:43:33.426 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413426
21:43:33.428 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000332
21:43:33.429 [URI:0280] Сжатие изображения в поток
21:43:33.431 [URI:0279] Сжатие изображения в поток
21:43:33.441 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.441 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.453 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.454 Notifying with (id:1, workSpecId: 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, notificationType :1)
21:43:33.459 Notifying with (id:1, workSpecId: 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, notificationType :1)
21:43:33.460 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000333
21:43:33.460 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000333, максимальное время: 2000 мс
21:43:33.469 [СЖАТИЕ:0281] 142KB → 53KB (-62%)
21:43:33.471 [FileUtil] URI стал доступен через 11 мс, размер: 55155 байт
21:43:33.474 [СЖАТИЕ:0281] 142KB → 53KB (-62.100018%)
21:43:33.474 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000281 эффективно (экономия 62.100018%), выполняем полное сжатие
21:43:33.475 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.481 [FileUtil] Директория для сохранения: Pictures
21:43:33.482 [URI:0281] Имя файла: IMG_20251123_214256_1.jpg
21:43:33.482 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.482 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214256_1.jpg
21:43:33.482 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214255_1.jpg (режим замены: true)
21:43:33.484 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.485 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214256_1.jpg (режим замены: true)
21:43:33.487 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.488 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413487
21:43:33.492 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000279
21:43:33.493 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000333
21:43:33.493 [FileUtil] Директория для сохранения: Pictures
21:43:33.494 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214256.jpg (режим замены: true)
21:43:33.494 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.494 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000333, обработка через 10 сек
21:43:33.494 onStartJob for WorkGenerationalId(workSpecId=d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, generation=0)
21:43:33.495 Processor b4202b7d-5b53-41eb-9096-30e64ad99a2d executed; reschedule = false
21:43:33.495 b4202b7d-5b53-41eb-9096-30e64ad99a2d executed on JobScheduler
21:43:33.498 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=b4202b7d-5b53-41eb-9096-30e64ad99a2d, generation=0), notificationType: 1
21:43:33.498 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214255_1.jpg', включен режим замены - удаляем
21:43:33.498 [URI:0281] Директория для сохранения: Pictures
21:43:33.499 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.499 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.500 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.501 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000280
21:43:33.501 Work WorkGenerationalId(workSpecId=d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, generation=0) is already enqueued for processing
21:43:33.502 [URI:0281] Сжатие изображения в поток
21:43:33.507 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214256.jpg', включен режим замены - удаляем
21:43:33.508 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000275
21:43:33.510 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.510 Cancelling work ID b4202b7d-5b53-41eb-9096-30e64ad99a2d
21:43:33.514 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000277
21:43:33.518 [MediaStore] Существующий файл удален (режим замены)
21:43:33.519 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.522 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.522 [MediaStore] Существующий файл удален (режим замены)
21:43:33.523 Moving WorkSpec (d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85) to the foreground
21:43:33.524 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.526 [СЖАТИЕ:0275] Запущена работа по сжатию для content://media/external/images/media/1000000275 с тегом compress_1763923413517_IMG_20251123_214253_2.jpg в батче auto_batch_1_1763923409451
21:43:33.527 [FileUtil] Обработка EXIF данных: успешно
21:43:33.528 [ФАЙЛ:0282] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000332
21:43:33.528 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000332 до Sun Nov 23 21:43:38 GMT+03:00 2025
21:43:33.528 [ПРОЦЕСС] deleteFile: URI находится в обработке, удаление отменено: content://media/external/images/media/1000000282
21:43:33.528 [ОШИБКА:Удаление:0282] Не удалось удалить оригинальный файл
21:43:33.529 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000334
21:43:33.531 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.531 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000276
21:43:33.531 [URI:0276] URI scheme: content, authority: media, path: /external/images/media/1000000276
21:43:33.532 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.532 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000278 в память (кэш не найден)
21:43:33.536 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000277
21:43:33.537 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000335
21:43:33.539 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214256_2.jpg (21)
21:43:33.539 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214256_2.jpg
21:43:33.539 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000334
21:43:33.546 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000278:
21:43:33.550 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000276 (всего: 9)
21:43:33.551 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000335
21:43:33.552 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000332
21:43:33.553 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000332 пропущен, так как недавно обработан.
21:43:33.553 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.553 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.554 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.554 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.554 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.554 [FileUtil] Обработка EXIF данных: успешно
21:43:33.554 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.554 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.554 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.554 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:55
21:43:33.555 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.555 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.555 [URI:0278] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.557 onStopJob for WorkGenerationalId(workSpecId=b4202b7d-5b53-41eb-9096-30e64ad99a2d, generation=0)
21:43:33.559 Scheduling work ID b884b125-e14d-4a7a-849f-5834d386a6dcJob ID 145
21:43:33.560 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.560 [URI:0277] Изображение требует обработки
21:43:33.560 [URI:0277] Начало тестового сжатия в RAM
21:43:33.561 [URI:0277] Сжатие изображения в поток
21:43:33.561 [ОШИБКА:Получение размера:0282] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000282
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:33.569 [FileUtil] Директория для сохранения: Pictures
21:43:33.570 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214256_1.jpg (режим замены: true)
21:43:33.571 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.573 [ФАЙЛ:0282] Сохранение: Изображение успешно сжато: IMG_20251123_214256_2.jpg, 0KB → 54KB
21:43:33.573 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000282 (осталось: 8)
21:43:33.573 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000283 (всего: 8)
21:43:33.576 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000281
21:43:33.577 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214256_1.jpg', включен режим замены - удаляем
21:43:33.580 Starting work for b884b125-e14d-4a7a-849f-5834d386a6dc
21:43:33.585 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000279, обработка через 10 сек
21:43:33.586 Moving WorkSpec (57601ef0-890b-49f8-ba93-c1d5aee91b72) to the foreground
21:43:33.589 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000282
21:43:33.591 Processor: processing WorkGenerationalId(workSpecId=b884b125-e14d-4a7a-849f-5834d386a6dc, generation=0)
21:43:33.606 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000280, обработка через 10 сек
21:43:33.607 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.607 Notifying with (id:1, workSpecId: d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, notificationType :1)
21:43:33.608 Failed to get type for: content://media/external/images/media/1000000283 (No item at content://media/external/images/media/1000000283)
21:43:33.611 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.611 [FileUtil] Обработка EXIF данных: успешно
21:43:33.611 [ФАЙЛ:0283] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000333
21:43:33.611 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000333 до Sun Nov 23 21:43:38 GMT+03:00 2025
21:43:33.612 [ПРОЦЕСС] deleteFile: URI находится в обработке, удаление отменено: content://media/external/images/media/1000000283
21:43:33.612 [ОШИБКА:Удаление:0283] Не удалось удалить оригинальный файл
21:43:33.616 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000334
21:43:33.616 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000334, максимальное время: 2000 мс
21:43:33.619 Notifying with (id:1, workSpecId: d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, notificationType :1)
21:43:33.619 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214257.jpg (22)
21:43:33.619 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214257.jpg
21:43:33.623 [FileUtil] URI стал доступен через 6 мс, размер: 55266 байт
21:43:33.625 Moving WorkSpec (7d72aa4a-5498-4943-a19b-1415ebb171c1) to the foreground
21:43:33.626 [URI:0283] URI не существует
21:43:33.626 [ОШИБКА:Обработка:0283] Недействительный URI
21:43:33.629 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000283 (осталось: 7)
21:43:33.630 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000283
21:43:33.633 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000279 (всего: 7)
21:43:33.639 [MediaStore] Существующий файл удален (режим замены)
21:43:33.642 [СЖАТИЕ:0277] 141KB → 53KB (-62%)
21:43:33.642 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000334, обработка через 10 сек
21:43:33.645 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.645 [СЖАТИЕ:0277] 141KB → 53KB (-62.302906%)
21:43:33.645 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000277 эффективно (экономия 62.302906%), выполняем полное сжатие
21:43:33.645 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.645 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000276
21:43:33.646 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.646 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000335
21:43:33.646 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000335, максимальное время: 2000 мс
21:43:33.649 Failed to get type for: content://media/external/images/media/1000000279 (No item at content://media/external/images/media/1000000279)
21:43:33.656 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.656 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413656
21:43:33.660 [FileUtil] URI стал доступен через 14 мс, размер: 54939 байт
21:43:33.666 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000335, обработка через 10 сек
21:43:33.666 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000336
21:43:33.667 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000334
21:43:33.667 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.670 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000336
21:43:33.672 [URI:0279] URI не существует
21:43:33.672 [ОШИБКА:Обработка:0279] Недействительный URI
21:43:33.673 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000279 (осталось: 6)
21:43:33.673 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000280 (всего: 6)
21:43:33.675 [URI:0277] Имя файла: IMG_20251123_214254_1.jpg
21:43:33.676 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214254_1.jpg
21:43:33.677 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214254_1.jpg (режим замены: true)
21:43:33.678 [СЖАТИЕ:0276] Запущена работа по сжатию для content://media/external/images/media/1000000276 с тегом compress_1763923413655_IMG_20251123_214254.jpg в батче auto_batch_1_1763923409451
21:43:33.678 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.678 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000273
21:43:33.679 [URI:0273] URI scheme: content, authority: media, path: /external/images/media/1000000273
21:43:33.682 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.682 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000278
21:43:33.683 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.683 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.709 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000336
21:43:33.709 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000336, максимальное время: 2000 мс
21:43:33.711 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000273 (всего: 7)
21:43:33.714 [URI:0277] Директория для сохранения: Pictures
21:43:33.717 Scheduling work ID 318a8751-e7a3-49fa-b8f6-c6e9673a7e36Job ID 146
21:43:33.717 onStartJob for WorkGenerationalId(workSpecId=b884b125-e14d-4a7a-849f-5834d386a6dc, generation=0)
21:43:33.717 [FileUtil] URI стал доступен через 7 мс, размер: 55135 байт
21:43:33.717 [URI:0277] Сжатие изображения в поток
21:43:33.719 Notifying with (id:1, workSpecId: 57601ef0-890b-49f8-ba93-c1d5aee91b72, notificationType :1)
21:43:33.721 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.722 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000278
21:43:33.728 Background concurrent mark compact GC freed 4592KB AllocSpace bytes, 49(1748KB) LOS objects, 49% free, 6531KB/12MB, paused 785us,21.369ms total 94.628ms
21:43:33.731 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.733 Failed to get type for: content://media/external/images/media/1000000280 (No item at content://media/external/images/media/1000000280)
21:43:33.733 [URI:0278] Изображение требует обработки
21:43:33.733 [URI:0278] Начало тестового сжатия в RAM
21:43:33.734 [URI:0278] Сжатие изображения в поток
21:43:33.736 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.737 Starting work for 318a8751-e7a3-49fa-b8f6-c6e9673a7e36
21:43:33.737 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000281, обработка через 10 сек
21:43:33.738 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.739 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413736
21:43:33.744 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.744 Work WorkGenerationalId(workSpecId=b884b125-e14d-4a7a-849f-5834d386a6dc, generation=0) is already enqueued for processing
21:43:33.745 [URI:0280] URI не существует
21:43:33.745 [ОШИБКА:Обработка:0280] Недействительный URI
21:43:33.745 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000280 (осталось: 6)
21:43:33.745 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000281 (всего: 6)
21:43:33.749 Worker result SUCCESS for Work [ id=57601ef0-890b-49f8-ba93-c1d5aee91b72, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412743_IMG_20251123_214256_2.jpg } ]
21:43:33.749 Notifying with (id:1, workSpecId: 7d72aa4a-5498-4943-a19b-1415ebb171c1, notificationType :1)
21:43:33.756 Processor: processing WorkGenerationalId(workSpecId=318a8751-e7a3-49fa-b8f6-c6e9673a7e36, generation=0)
21:43:33.757 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000335
21:43:33.761 Moving WorkSpec (b884b125-e14d-4a7a-849f-5834d386a6dc) to the foreground
21:43:33.762 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.763 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.765 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.766 Failed to get type for: content://media/external/images/media/1000000281 (No item at content://media/external/images/media/1000000281)
21:43:33.767 [FileUtil] Директория для сохранения: Pictures
21:43:33.767 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214254_1.jpg (режим замены: true)
21:43:33.767 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.769 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413766
21:43:33.771 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000336, обработка через 10 сек
21:43:33.773 [URI:0281] URI не существует
21:43:33.773 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000277
21:43:33.774 [ОШИБКА:Обработка:0281] Недействительный URI
21:43:33.774 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000281 (осталось: 5)
21:43:33.774 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.774 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000275 в память (кэш не найден)
21:43:33.774 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000277 (всего: 5)
21:43:33.775 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214254_1.jpg', включен режим замены - удаляем
21:43:33.777 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000336
21:43:33.780 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.780 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000275:
21:43:33.780 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.780 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.780 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.781 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.781 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.781 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.782 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.782 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.782 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:54
21:43:33.782 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.782 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.782 [URI:0275] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.788 Worker result SUCCESS for Work [ id=7d72aa4a-5498-4943-a19b-1415ebb171c1, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412874_IMG_20251123_214257.jpg } ]
21:43:33.792 [MediaStore] Существующий файл удален (режим замены)
21:43:33.798 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.799 [FileUtil] Обработка EXIF данных: успешно
21:43:33.799 [ФАЙЛ:0279] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000334
21:43:33.799 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000334 до Sun Nov 23 21:43:38 GMT+03:00 2025
21:43:33.799 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000279
21:43:33.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000334
21:43:33.803 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000337
21:43:33.803 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000334 пропущен, так как недавно обработан.
21:43:33.803 onStartJob for WorkGenerationalId(workSpecId=318a8751-e7a3-49fa-b8f6-c6e9673a7e36, generation=0)
21:43:33.805 Processor 57601ef0-890b-49f8-ba93-c1d5aee91b72 executed; reschedule = false
21:43:33.805 57601ef0-890b-49f8-ba93-c1d5aee91b72 executed on JobScheduler
21:43:33.807 Failed to get type for: content://media/external/images/media/1000000277 (No item at content://media/external/images/media/1000000277)
21:43:33.810 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=57601ef0-890b-49f8-ba93-c1d5aee91b72, generation=0), notificationType: 1
21:43:33.810 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.810 Notifying with (id:1, workSpecId: b884b125-e14d-4a7a-849f-5834d386a6dc, notificationType :1)
21:43:33.815 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000337
21:43:33.816 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000273
21:43:33.816 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.818 Work WorkGenerationalId(workSpecId=318a8751-e7a3-49fa-b8f6-c6e9673a7e36, generation=0) is already enqueued for processing
21:43:33.818 [URI:0277] URI не существует
21:43:33.818 Notifying with (id:1, workSpecId: b884b125-e14d-4a7a-849f-5834d386a6dc, notificationType :1)
21:43:33.819 Failed to get type for: content://media/external/images/media/1000000279 (No item at content://media/external/images/media/1000000279)
21:43:33.823 [ОШИБКА:Обработка:0277] Недействительный URI
21:43:33.823 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000277 (осталось: 4)
21:43:33.823 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000278 (всего: 4)
21:43:33.824 [СЖАТИЕ:0278] 142KB → 53KB (-62%)
21:43:33.824 [СЖАТИЕ:0278] 142KB → 53KB (-62.129665%)
21:43:33.824 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000278 эффективно (экономия 62.129665%), выполняем полное сжатие
21:43:33.824 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:33.825 Cancelling work ID 57601ef0-890b-49f8-ba93-c1d5aee91b72
21:43:33.826 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.832 Moving WorkSpec (318a8751-e7a3-49fa-b8f6-c6e9673a7e36) to the foreground
21:43:33.844 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.844 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000276 в память (кэш не найден)
21:43:33.845 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000277, обработка через 10 сек
21:43:33.845 Processor 7d72aa4a-5498-4943-a19b-1415ebb171c1 executed; reschedule = false
21:43:33.845 7d72aa4a-5498-4943-a19b-1415ebb171c1 executed on JobScheduler
21:43:33.845 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=7d72aa4a-5498-4943-a19b-1415ebb171c1, generation=0), notificationType: 1
21:43:33.847 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000279
21:43:33.847 [ОШИБКА:Удаление:0279] Не удалось удалить оригинальный файл
21:43:33.853 [URI:0278] Имя файла: IMG_20251123_214255.jpg
21:43:33.854 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214255.jpg
21:43:33.854 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000337, обработка через 10 сек
21:43:33.854 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214255.jpg (режим замены: true)
21:43:33.858 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000276:
21:43:33.858 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.858 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.859 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.860 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.860 Cancelling work ID 7d72aa4a-5498-4943-a19b-1415ebb171c1
21:43:33.860 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:33.860 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:33.860 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:33.860 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:54
21:43:33.860 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:33.860 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:33.862 [URI:0276] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:33.865 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214255_1.jpg (23)
21:43:33.865 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214255_1.jpg
21:43:33.870 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:33.875 [СЖАТИЕ:0273] Запущена работа по сжатию для content://media/external/images/media/1000000273 с тегом compress_1763923413848_IMG_20251123_214253.jpg в батче auto_batch_1_1763923409451
21:43:33.875 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:33.875 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000274
21:43:33.875 [URI:0274] URI scheme: content, authority: media, path: /external/images/media/1000000274
21:43:33.876 onStopJob for WorkGenerationalId(workSpecId=57601ef0-890b-49f8-ba93-c1d5aee91b72, generation=0)
21:43:33.878 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.878 Notifying with (id:1, workSpecId: 318a8751-e7a3-49fa-b8f6-c6e9673a7e36, notificationType :1)
21:43:33.884 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.884 [FileUtil] Обработка EXIF данных: успешно
21:43:33.885 [ФАЙЛ:0280] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000335
21:43:33.885 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000335 до Sun Nov 23 21:43:38 GMT+03:00 2025
21:43:33.885 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000280
21:43:33.887 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000337
21:43:33.887 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000337, максимальное время: 2000 мс
21:43:33.889 [URI:0278] Директория для сохранения: Pictures
21:43:33.890 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:33.891 [FileUtil] Обработка EXIF данных: успешно
21:43:33.891 [ФАЙЛ:0281] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000336
21:43:33.891 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000336 до Sun Nov 23 21:43:38 GMT+03:00 2025
21:43:33.891 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000281
21:43:33.894 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000275
21:43:33.894 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.896 [URI:0278] Сжатие изображения в поток
21:43:33.897 Scheduling work ID d883c825-f738-44c5-9cd3-ef9515b2efbfJob ID 147
21:43:33.897 Notifying with (id:1, workSpecId: 318a8751-e7a3-49fa-b8f6-c6e9673a7e36, notificationType :1)
21:43:33.902 Starting work for d883c825-f738-44c5-9cd3-ef9515b2efbf
21:43:33.904 [FileUtil] URI стал доступен через 17 мс, размер: 54438 байт
21:43:33.905 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000336
21:43:33.905 Moving WorkSpec (4f6b2a64-c1ab-4d14-8f68-3e31d3d75507) to the foreground
21:43:33.905 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000336 пропущен, так как недавно обработан.
21:43:33.909 onStopJob for WorkGenerationalId(workSpecId=7d72aa4a-5498-4943-a19b-1415ebb171c1, generation=0)
21:43:33.910 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000279
21:43:33.913 Processor: processing WorkGenerationalId(workSpecId=d883c825-f738-44c5-9cd3-ef9515b2efbf, generation=0)
21:43:33.916 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000274 (всего: 5)
21:43:33.919 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000278
21:43:33.920 Failed to get type for: content://media/external/images/media/1000000280 (No item at content://media/external/images/media/1000000280)
21:43:33.922 [URI:0278] Сжатие изображения в поток
21:43:33.925 Failed to get type for: content://media/external/images/media/1000000281 (No item at content://media/external/images/media/1000000281)
21:43:33.934 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000280
21:43:33.934 [ОШИБКА:Удаление:0280] Не удалось удалить оригинальный файл
21:43:33.935 onStartJob for WorkGenerationalId(workSpecId=d883c825-f738-44c5-9cd3-ef9515b2efbf, generation=0)
21:43:33.936 Notifying with (id:1, workSpecId: 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, notificationType :1)
21:43:33.937 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000281
21:43:33.937 [ОШИБКА:Удаление:0281] Не удалось удалить оригинальный файл
21:43:33.941 Work WorkGenerationalId(workSpecId=d883c825-f738-44c5-9cd3-ef9515b2efbf, generation=0) is already enqueued for processing
21:43:33.944 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:33.944 Worker result SUCCESS for Work [ id=4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923412932_IMG_20251123_214255_1.jpg } ]
21:43:33.945 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214256_1.jpg (24)
21:43:33.945 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214256_1.jpg
21:43:33.946 Processor 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507 executed; reschedule = false
21:43:33.946 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507 executed on JobScheduler
21:43:33.948 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214256.jpg (25)
21:43:33.949 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, generation=0), notificationType: 1
21:43:33.954 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214256.jpg
21:43:33.954 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000275
21:43:33.954 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923413000
21:43:33.956 Cancelling work ID 4f6b2a64-c1ab-4d14-8f68-3e31d3d75507
21:43:33.957 onStopJob for WorkGenerationalId(workSpecId=4f6b2a64-c1ab-4d14-8f68-3e31d3d75507, generation=0)
21:43:33.960 [FileUtil] Директория для сохранения: Pictures
21:43:33.961 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214255.jpg (режим замены: true)
21:43:33.961 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:33.961 [URI:0275] Изображение требует обработки
21:43:33.961 [URI:0275] Начало тестового сжатия в RAM
21:43:33.961 [URI:0275] Сжатие изображения в поток
21:43:33.962 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:33.963 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:33.963 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923413963
21:43:33.964 Moving WorkSpec (6bddde85-cac7-4247-9a1e-3fb55531f329) to the foreground
21:43:33.968 Notifying with (id:1, workSpecId: 6bddde85-cac7-4247-9a1e-3fb55531f329, notificationType :1)
21:43:33.970 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000278
21:43:33.972 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000281
21:43:33.977 Moving WorkSpec (d883c825-f738-44c5-9cd3-ef9515b2efbf) to the foreground
21:43:33.977 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000337
21:43:33.979 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214255.jpg', включен режим замены - удаляем
21:43:33.979 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000276
21:43:33.979 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:33.981 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:33.981 Notifying with (id:1, workSpecId: d883c825-f738-44c5-9cd3-ef9515b2efbf, notificationType :1)
21:43:33.984 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:33.985 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:33.985 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:33.988 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000273 в память (кэш не найден)
21:43:33.990 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214255.jpg
21:43:33.990 Notifying with (id:1, workSpecId: d883c825-f738-44c5-9cd3-ef9515b2efbf, notificationType :1)
21:43:33.994 Moving WorkSpec (c0772ddf-3a4e-4860-8197-d5c8487b546d) to the foreground
21:43:33.996 [MediaStore] Существующий файл удален (режим замены)
21:43:33.998 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000273:
21:43:33.998 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:33.999 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:33.999 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:33.999 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:33.999 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:34.000 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:34.000 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:34.000 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:53
21:43:34.000 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:34.000 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:34.001 [URI:0273] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:34.002 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000338
21:43:34.005 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000280
21:43:34.007 [FileUtil] Директория для сохранения: Pictures/CompressPhotoFast
21:43:34.007 Worker result SUCCESS for Work [ id=6bddde85-cac7-4247-9a1e-3fb55531f329, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413175_IMG_20251123_214256_1.jpg } ]
21:43:34.008 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000338
21:43:34.009 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214255.jpg (режим замены: true)
21:43:34.010 [СЖАТИЕ:0275] 142KB → 53KB (-62%)
21:43:34.010 [СЖАТИЕ:0275] 142KB → 53KB (-62.134926%)
21:43:34.010 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000275 эффективно (экономия 62.134926%), выполняем полное сжатие
21:43:34.010 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.014 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000276
21:43:34.015 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/CompressPhotoFast
21:43:34.017 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000278, обработка через 10 сек
21:43:34.017 Notifying with (id:1, workSpecId: c0772ddf-3a4e-4860-8197-d5c8487b546d, notificationType :1)
21:43:34.028 [URI:0275] Имя файла: IMG_20251123_214253_2.jpg
21:43:34.029 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214253_2.jpg
21:43:34.029 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214253_2.jpg (режим замены: true)
21:43:34.029 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:34.029 [URI:0276] Изображение требует обработки
21:43:34.029 [URI:0276] Начало тестового сжатия в RAM
21:43:34.030 [URI:0276] Сжатие изображения в поток
21:43:34.032 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000274
21:43:34.033 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.035 [URI:0275] Директория для сохранения: Pictures
21:43:34.037 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000338, обработка через 10 сек
21:43:34.037 [URI:0275] Сжатие изображения в поток
21:43:34.037 Processor 6bddde85-cac7-4247-9a1e-3fb55531f329 executed; reschedule = false
21:43:34.037 6bddde85-cac7-4247-9a1e-3fb55531f329 executed on JobScheduler
21:43:34.038 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=6bddde85-cac7-4247-9a1e-3fb55531f329, generation=0), notificationType: 1
21:43:34.039 Worker result SUCCESS for Work [ id=c0772ddf-3a4e-4860-8197-d5c8487b546d, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413043_IMG_20251123_214256.jpg } ]
21:43:34.042 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000339
21:43:34.042 Cancelling work ID 6bddde85-cac7-4247-9a1e-3fb55531f329
21:43:34.048 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000339
21:43:34.058 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000338
21:43:34.060 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000338, максимальное время: 2000 мс
21:43:34.066 Processor c0772ddf-3a4e-4860-8197-d5c8487b546d executed; reschedule = false
21:43:34.070 c0772ddf-3a4e-4860-8197-d5c8487b546d executed on JobScheduler
21:43:34.070 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=c0772ddf-3a4e-4860-8197-d5c8487b546d, generation=0), notificationType: 1
21:43:34.072 [FileUtil] URI стал доступен через 12 мс, размер: 55246 байт
21:43:34.075 onStopJob for WorkGenerationalId(workSpecId=6bddde85-cac7-4247-9a1e-3fb55531f329, generation=0)
21:43:34.076 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:34.077 [СЖАТИЕ:0274] Запущена работа по сжатию для content://media/external/images/media/1000000274 с тегом compress_1763923414056_IMG_20251123_214253_1.jpg в батче auto_batch_1_1763923409451
21:43:34.077 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:34.077 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000271
21:43:34.077 [URI:0271] URI scheme: content, authority: media, path: /external/images/media/1000000271
21:43:34.082 Cancelling work ID c0772ddf-3a4e-4860-8197-d5c8487b546d
21:43:34.087 [FileUtil] Директория для сохранения: Pictures
21:43:34.087 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214253_2.jpg (режим замены: true)
21:43:34.088 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.089 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000339
21:43:34.093 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000339, обработка через 10 сек
21:43:34.093 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000339, максимальное время: 2000 мс
21:43:34.096 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.096 [FileUtil] Обработка EXIF данных: успешно
21:43:34.096 [ФАЙЛ:0277] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000337
21:43:34.096 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000337 до Sun Nov 23 21:43:39 GMT+03:00 2025
21:43:34.096 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000277
21:43:34.097 [FileUtil] URI стал доступен через 4 мс, размер: 55246 байт
21:43:34.099 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000271 (всего: 6)
21:43:34.099 Scheduling work ID fdd1553b-9294-4ded-b9c7-e16c6c5e82e5Job ID 148
21:43:34.100 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.104 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000275
21:43:34.106 Starting work for fdd1553b-9294-4ded-b9c7-e16c6c5e82e5
21:43:34.108 [СЖАТИЕ:0276] 141KB → 53KB (-62%)
21:43:34.108 [СЖАТИЕ:0276] 141KB → 53KB (-62.18781%)
21:43:34.109 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000276 эффективно (экономия 62.18781%), выполняем полное сжатие
21:43:34.109 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.110 Failed to get type for: content://media/external/images/media/1000000277 (No item at content://media/external/images/media/1000000277)
21:43:34.112 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214253_2.jpg', включен режим замены - удаляем
21:43:34.118 Processor: processing WorkGenerationalId(workSpecId=fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, generation=0)
21:43:34.121 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.123 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414123
21:43:34.130 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000273
21:43:34.130 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.131 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000338
21:43:34.135 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.139 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000277
21:43:34.139 [URI:0276] Имя файла: IMG_20251123_214254.jpg
21:43:34.139 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214254.jpg
21:43:34.139 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214254.jpg (режим замены: true)
21:43:34.139 [ОШИБКА:Удаление:0277] Не удалось удалить оригинальный файл
21:43:34.141 onStopJob for WorkGenerationalId(workSpecId=c0772ddf-3a4e-4860-8197-d5c8487b546d, generation=0)
21:43:34.143 [MediaStore] Существующий файл удален (режим замены)
21:43:34.144 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000273
21:43:34.144 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.146 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.153 [URI:0276] Директория для сохранения: Pictures
21:43:34.156 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214254_1.jpg (26)
21:43:34.156 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214254_1.jpg
21:43:34.160 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:34.160 [URI:0273] Изображение требует обработки
21:43:34.160 [URI:0273] Начало тестового сжатия в RAM
21:43:34.160 [URI:0273] Сжатие изображения в поток
21:43:34.162 [URI:0276] Сжатие изображения в поток
21:43:34.164 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000340
21:43:34.167 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.170 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414167
21:43:34.171 onStartJob for WorkGenerationalId(workSpecId=fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, generation=0)
21:43:34.172 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:34.173 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000340
21:43:34.175 Moving WorkSpec (1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2) to the foreground
21:43:34.176 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000339
21:43:34.183 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.184 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.184 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000277
21:43:34.191 Work WorkGenerationalId(workSpecId=fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, generation=0) is already enqueued for processing
21:43:34.192 Moving WorkSpec (fdd1553b-9294-4ded-b9c7-e16c6c5e82e5) to the foreground
21:43:34.194 [FileUtil] Директория для сохранения: Pictures
21:43:34.194 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214254.jpg (режим замены: true)
21:43:34.194 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000275, обработка через 10 сек
21:43:34.197 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.203 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000340, обработка через 10 сек
21:43:34.205 Notifying with (id:1, workSpecId: 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, notificationType :1)
21:43:34.206 [СЖАТИЕ:0273] 141KB → 53KB (-62%)
21:43:34.206 [СЖАТИЕ:0273] 141KB → 53KB (-62.12728%)
21:43:34.206 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000273 эффективно (экономия 62.12728%), выполняем полное сжатие
21:43:34.207 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.209 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000276
21:43:34.211 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:34.212 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000274 в память (кэш не найден)
21:43:34.218 Worker result SUCCESS for Work [ id=1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413253_IMG_20251123_214254_1.jpg } ]
21:43:34.223 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000274:
21:43:34.223 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:34.223 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:34.224 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:34.224 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:34.224 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:34.224 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:34.224 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:34.224 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:53
21:43:34.224 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:34.224 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:34.225 [URI:0274] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:34.226 [URI:0273] Имя файла: IMG_20251123_214253.jpg
21:43:34.226 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:34.226 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214253.jpg
21:43:34.226 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214253.jpg (режим замены: true)
21:43:34.226 Notifying with (id:1, workSpecId: fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, notificationType :1)
21:43:34.227 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214254.jpg', включен режим замены - удаляем
21:43:34.233 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000271
21:43:34.233 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.237 [URI:0273] Директория для сохранения: Pictures
21:43:34.245 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000340
21:43:34.245 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000340, максимальное время: 2000 мс
21:43:34.246 [MediaStore] Существующий файл удален (режим замены)
21:43:34.250 [URI:0273] Сжатие изображения в поток
21:43:34.252 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:34.253 [СЖАТИЕ:0271] Запущена работа по сжатию для content://media/external/images/media/1000000271 с тегом compress_1763923414241_IMG_20251123_214252.jpg в батче auto_batch_1_1763923409451
21:43:34.253 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:34.254 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000272
21:43:34.254 [URI:0272] URI scheme: content, authority: media, path: /external/images/media/1000000272
21:43:34.258 Notifying with (id:1, workSpecId: fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, notificationType :1)
21:43:34.260 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.261 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000272 (всего: 7)
21:43:34.261 [FileUtil] Обработка EXIF данных: успешно
21:43:34.262 [ФАЙЛ:0278] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000338
21:43:34.263 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000338 до Sun Nov 23 21:43:39 GMT+03:00 2025
21:43:34.263 [ПРОЦЕСС] deleteFile: URI находится в обработке, удаление отменено: content://media/external/images/media/1000000278
21:43:34.263 [ОШИБКА:Удаление:0278] Не удалось удалить оригинальный файл
21:43:34.267 [FileUtil] URI стал доступен через 22 мс, размер: 55127 байт
21:43:34.270 Processor 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2 executed; reschedule = false
21:43:34.270 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2 executed on JobScheduler
21:43:34.270 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2, generation=0), notificationType: 1
21:43:34.272 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214255.jpg (27)
21:43:34.272 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214255.jpg
21:43:34.279 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000341
21:43:34.282 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000276, обработка через 10 сек
21:43:34.283 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000338
21:43:34.283 [ПРОЦЕСС] MediaStoreObserver: URI content://media/external/images/media/1000000338 пропущен, так как недавно обработан.
21:43:34.288 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.291 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000341
21:43:34.293 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000341, обработка через 10 сек
21:43:34.295 Scheduling work ID ebad8237-9877-4d3d-819f-67d5efbf5cd0Job ID 149
21:43:34.303 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.303 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414303
21:43:34.303 Starting work for ebad8237-9877-4d3d-819f-67d5efbf5cd0
21:43:34.310 onStartJob for WorkGenerationalId(workSpecId=ebad8237-9877-4d3d-819f-67d5efbf5cd0, generation=0)
21:43:34.313 Cancelling work ID 1cf5d2af-66ff-40a0-901c-7b1f12ae0ee2
21:43:34.313 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000340
21:43:34.317 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000341
21:43:34.317 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000341, максимальное время: 2000 мс
21:43:34.317 Moving WorkSpec (d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85) to the foreground
21:43:34.320 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.320 [FileUtil] Обработка EXIF данных: успешно
21:43:34.321 Processor: processing WorkGenerationalId(workSpecId=ebad8237-9877-4d3d-819f-67d5efbf5cd0, generation=0)
21:43:34.323 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000278
21:43:34.324 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.325 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.325 Work WorkGenerationalId(workSpecId=ebad8237-9877-4d3d-819f-67d5efbf5cd0, generation=0) is already enqueued for processing
21:43:34.339 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000274
21:43:34.339 [FileUtil] URI стал доступен через 22 мс, размер: 54867 байт
21:43:34.340 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.348 [FileUtil] Директория для сохранения: Pictures
21:43:34.348 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214253.jpg (режим замены: true)
21:43:34.348 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.357 [ОШИБКА:Получение размера:0278] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000278
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:34.364 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000273
21:43:34.372 Notifying with (id:1, workSpecId: d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, notificationType :1)
21:43:34.377 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.379 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214253.jpg', включен режим замены - удаляем
21:43:34.380 [ФАЙЛ:0278] Сохранение: Изображение успешно сжато: IMG_20251123_214255.jpg, 0KB → 54KB
21:43:34.380 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000278 (осталось: 6)
21:43:34.381 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000275 (всего: 6)
21:43:34.384 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000272
21:43:34.384 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.388 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:34.394 Worker result SUCCESS for Work [ id=d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413362_IMG_20251123_214255.jpg } ]
21:43:34.396 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000274
21:43:34.399 Moving WorkSpec (ebad8237-9877-4d3d-819f-67d5efbf5cd0) to the foreground
21:43:34.401 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.403 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414401
21:43:34.407 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:34.407 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000271 в память (кэш не найден)
21:43:34.410 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000341
21:43:34.411 [MediaStore] Существующий файл удален (режим замены)
21:43:34.412 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000271:
21:43:34.414 Failed to get type for: content://media/external/images/media/1000000275 (No item at content://media/external/images/media/1000000275)
21:43:34.416 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:34.417 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:34.418 [СЖАТИЕ:0272] Запущена работа по сжатию для content://media/external/images/media/1000000272 с тегом compress_1763923414394_IMG_20251123_214252_1.jpg в батче auto_batch_1_1763923409451
21:43:34.418 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:34.419 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:34.419 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:34.420 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:34.422 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:34.423 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000269
21:43:34.423 Scheduling work ID c89f0f05-4d66-47ad-af37-89abebaca4a5Job ID 150
21:43:34.423 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:34.423 [URI:0274] Изображение требует обработки
21:43:34.423 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:34.423 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:34.423 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:52
21:43:34.423 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:34.424 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:34.424 Processor d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85 executed; reschedule = false
21:43:34.424 [URI:0274] Начало тестового сжатия в RAM
21:43:34.424 [URI:0274] Сжатие изображения в поток
21:43:34.424 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.425 d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85 executed on JobScheduler
21:43:34.426 [URI:0271] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:34.428 [URI:0269] URI scheme: content, authority: media, path: /external/images/media/1000000269
21:43:34.430 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.431 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000342
21:43:34.432 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, generation=0), notificationType: 1
21:43:34.432 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:34.432 Notifying with (id:1, workSpecId: ebad8237-9877-4d3d-819f-67d5efbf5cd0, notificationType :1)
21:43:34.433 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.434 [FileUtil] Обработка EXIF данных: успешно
21:43:34.434 [ФАЙЛ:0275] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000340
21:43:34.435 [URI:0275] URI не существует
21:43:34.435 [ОШИБКА:Обработка:0275] Недействительный URI
21:43:34.436 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000275 (осталось: 5)
21:43:34.436 Starting work for c89f0f05-4d66-47ad-af37-89abebaca4a5
21:43:34.436 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000340 до Sun Nov 23 21:43:39 GMT+03:00 2025
21:43:34.436 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000275
21:43:34.442 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000276 (всего: 5)
21:43:34.446 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000342
21:43:34.448 Cancelling work ID d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85
21:43:34.451 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000273, обработка через 10 сек
21:43:34.451 Notifying with (id:1, workSpecId: ebad8237-9877-4d3d-819f-67d5efbf5cd0, notificationType :1)
21:43:34.456 Processor: processing WorkGenerationalId(workSpecId=c89f0f05-4d66-47ad-af37-89abebaca4a5, generation=0)
21:43:34.467 Suspending all threads took: 7.851ms
21:43:34.469 Failed to get type for: content://media/external/images/media/1000000275 (No item at content://media/external/images/media/1000000275)
21:43:34.480 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000269 (всего: 6)
21:43:34.481 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000342
21:43:34.481 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000342, максимальное время: 2000 мс
21:43:34.486 [FileUtil] URI стал доступен через 5 мс, размер: 54845 байт
21:43:34.501 Failed to get type for: content://media/external/images/media/1000000276 (No item at content://media/external/images/media/1000000276)
21:43:34.504 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000275
21:43:34.504 [ОШИБКА:Удаление:0275] Не удалось удалить оригинальный файл
21:43:34.511 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214253_2.jpg (28)
21:43:34.512 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214253_2.jpg
21:43:34.514 [URI:0276] URI не существует
21:43:34.514 [ОШИБКА:Обработка:0276] Недействительный URI
21:43:34.514 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000276 (осталось: 5)
21:43:34.515 Moving WorkSpec (b884b125-e14d-4a7a-849f-5834d386a6dc) to the foreground
21:43:34.515 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000273 (всего: 5)
21:43:34.520 [СЖАТИЕ:0274] 141KB → 53KB (-62%)
21:43:34.520 [СЖАТИЕ:0274] 141KB → 53KB (-62.35124%)
21:43:34.520 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000274 эффективно (экономия 62.35124%), выполняем полное сжатие
21:43:34.520 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.520 Background concurrent mark compact GC freed 5220KB AllocSpace bytes, 47(1844KB) LOS objects, 49% free, 6579KB/12MB, paused 8.624ms,14.133ms total 114.867ms
21:43:34.522 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000275
21:43:34.523 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.524 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000342, обработка через 10 сек
21:43:34.524 onStartJob for WorkGenerationalId(workSpecId=c89f0f05-4d66-47ad-af37-89abebaca4a5, generation=0)
21:43:34.527 [URI:0274] Имя файла: IMG_20251123_214253_1.jpg
21:43:34.528 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214253_1.jpg
21:43:34.528 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214253_1.jpg (режим замены: true)
21:43:34.530 Work WorkGenerationalId(workSpecId=c89f0f05-4d66-47ad-af37-89abebaca4a5, generation=0) is already enqueued for processing
21:43:34.533 onStopJob for WorkGenerationalId(workSpecId=d0e6bf66-34cb-4a0e-995a-8f4ca1e11e85, generation=0)
21:43:34.535 [URI:0274] Директория для сохранения: Pictures
21:43:34.538 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000271
21:43:34.538 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.540 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.541 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.542 [FileUtil] Обработка EXIF данных: успешно
21:43:34.543 [ФАЙЛ:0276] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000341
21:43:34.544 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414541
21:43:34.545 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000341 до Sun Nov 23 21:43:39 GMT+03:00 2025
21:43:34.546 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000276
21:43:34.547 [URI:0274] Сжатие изображения в поток
21:43:34.551 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000342
21:43:34.556 Failed to get type for: content://media/external/images/media/1000000273 (No item at content://media/external/images/media/1000000273)
21:43:34.558 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.559 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.561 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000271
21:43:34.563 Failed to get type for: content://media/external/images/media/1000000276 (No item at content://media/external/images/media/1000000276)
21:43:34.565 [URI:0273] URI не существует
21:43:34.566 [ОШИБКА:Обработка:0273] Недействительный URI
21:43:34.566 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000273 (осталось: 4)
21:43:34.567 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000274 (всего: 4)
21:43:34.571 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:34.572 [URI:0271] Изображение требует обработки
21:43:34.572 [URI:0271] Начало тестового сжатия в RAM
21:43:34.573 [URI:0271] Сжатие изображения в поток
21:43:34.573 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:34.574 Notifying with (id:1, workSpecId: b884b125-e14d-4a7a-849f-5834d386a6dc, notificationType :1)
21:43:34.578 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000276
21:43:34.579 [FileUtil] Директория для сохранения: Pictures
21:43:34.580 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214253_1.jpg (режим замены: true)
21:43:34.580 [ОШИБКА:Удаление:0276] Не удалось удалить оригинальный файл
21:43:34.581 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.582 Moving WorkSpec (c89f0f05-4d66-47ad-af37-89abebaca4a5) to the foreground
21:43:34.585 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:34.585 Notifying with (id:1, workSpecId: c89f0f05-4d66-47ad-af37-89abebaca4a5, notificationType :1)
21:43:34.588 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000274
21:43:34.588 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214254.jpg (29)
21:43:34.588 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214254.jpg
21:43:34.589 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000269
21:43:34.589 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214253_1.jpg', включен режим замены - удаляем
21:43:34.589 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.594 Worker result SUCCESS for Work [ id=b884b125-e14d-4a7a-849f-5834d386a6dc, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413517_IMG_20251123_214253_2.jpg } ]
21:43:34.595 [MediaStore] Существующий файл удален (режим замены)
21:43:34.595 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:34.596 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000272 в память (кэш не найден)
21:43:34.599 Moving WorkSpec (318a8751-e7a3-49fa-b8f6-c6e9673a7e36) to the foreground
21:43:34.601 Failed to get type for: content://media/external/images/media/1000000274 (No item at content://media/external/images/media/1000000274)
21:43:34.606 [URI:0274] URI не является изображением: null
21:43:34.607 [ОШИБКА:Обработка:0274] Недействительный URI
21:43:34.608 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000274 (осталось: 3)
21:43:34.612 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000343
21:43:34.612 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000271 (всего: 3)
21:43:34.613 Notifying with (id:1, workSpecId: c89f0f05-4d66-47ad-af37-89abebaca4a5, notificationType :1)
21:43:34.617 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000272:
21:43:34.618 Processor b884b125-e14d-4a7a-849f-5834d386a6dc executed; reschedule = false
21:43:34.618 b884b125-e14d-4a7a-849f-5834d386a6dc executed on JobScheduler
21:43:34.618 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=b884b125-e14d-4a7a-849f-5834d386a6dc, generation=0), notificationType: 1
21:43:34.619 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:34.619 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000276
21:43:34.620 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:34.620 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:34.620 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:34.620 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:34.621 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:34.621 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:34.621 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:34.621 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:52
21:43:34.621 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:34.621 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:34.621 [URI:0272] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:34.622 [СЖАТИЕ:0269] Запущена работа по сжатию для content://media/external/images/media/1000000269 с тегом compress_1763923414615_IMG_20251123_214250_2.jpg в батче auto_batch_1_1763923409451
21:43:34.622 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:34.622 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000270
21:43:34.622 [URI:0270] URI scheme: content, authority: media, path: /external/images/media/1000000270
21:43:34.626 Cancelling work ID b884b125-e14d-4a7a-849f-5834d386a6dc
21:43:34.630 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000343
21:43:34.631 [СЖАТИЕ:0271] 141KB → 53KB (-62%)
21:43:34.634 [СЖАТИЕ:0271] 141KB → 53KB (-62.289272%)
21:43:34.635 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000271 эффективно (экономия 62.289272%), выполняем полное сжатие
21:43:34.635 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.635 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000270 (всего: 4)
21:43:34.639 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000274, обработка через 10 сек
21:43:34.647 [URI:0271] Имя файла: IMG_20251123_214252.jpg
21:43:34.647 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214252.jpg
21:43:34.648 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214252.jpg (режим замены: true)
21:43:34.651 [URI:0271] Директория для сохранения: Pictures
21:43:34.651 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000343, обработка через 10 сек
21:43:34.651 Notifying with (id:1, workSpecId: 318a8751-e7a3-49fa-b8f6-c6e9673a7e36, notificationType :1)
21:43:34.653 [URI:0271] Сжатие изображения в поток
21:43:34.654 Scheduling work ID 008b164f-c737-4846-b205-b3db22063a33Job ID 151
21:43:34.657 Starting work for 008b164f-c737-4846-b205-b3db22063a33
21:43:34.660 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000343
21:43:34.661 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000343, максимальное время: 2000 мс
21:43:34.664 onStopJob for WorkGenerationalId(workSpecId=b884b125-e14d-4a7a-849f-5834d386a6dc, generation=0)
21:43:34.664 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.664 [FileUtil] Обработка EXIF данных: успешно
21:43:34.664 [ФАЙЛ:0273] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000342
21:43:34.664 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000342 до Sun Nov 23 21:43:39 GMT+03:00 2025
21:43:34.664 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000273
21:43:34.665 Processor: processing WorkGenerationalId(workSpecId=008b164f-c737-4846-b205-b3db22063a33, generation=0)
21:43:34.672 [FileUtil] URI стал доступен через 10 мс, размер: 54698 байт
21:43:34.674 Worker result SUCCESS for Work [ id=318a8751-e7a3-49fa-b8f6-c6e9673a7e36, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413655_IMG_20251123_214254.jpg } ]
21:43:34.681 onStartJob for WorkGenerationalId(workSpecId=008b164f-c737-4846-b205-b3db22063a33, generation=0)
21:43:34.682 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000272
21:43:34.682 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.686 Failed to get type for: content://media/external/images/media/1000000273 (No item at content://media/external/images/media/1000000273)
21:43:34.687 Work WorkGenerationalId(workSpecId=008b164f-c737-4846-b205-b3db22063a33, generation=0) is already enqueued for processing
21:43:34.693 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000271
21:43:34.693 [URI:0271] Сжатие изображения в поток
21:43:34.694 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000273
21:43:34.694 [ОШИБКА:Удаление:0273] Не удалось удалить оригинальный файл
21:43:34.700 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214253.jpg (30)
21:43:34.701 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214253.jpg
21:43:34.704 [ПРОЦЕСС] ImageDetectionJobService: начинаем обработку дебаунсного батча из 40 URI
21:43:34.704 [ПРОЦЕСС] PerformanceMonitor: Debounced batch processed with 40 items
21:43:34.707 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.708 Moving WorkSpec (d883c825-f738-44c5-9cd3-ef9515b2efbf) to the foreground
21:43:34.709 Processor 318a8751-e7a3-49fa-b8f6-c6e9673a7e36 executed; reschedule = false
21:43:34.711 318a8751-e7a3-49fa-b8f6-c6e9673a7e36 executed on JobScheduler
21:43:34.718 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=318a8751-e7a3-49fa-b8f6-c6e9673a7e36, generation=0), notificationType: 1
21:43:34.718 Cancelling work ID 318a8751-e7a3-49fa-b8f6-c6e9673a7e36
21:43:34.719 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:34.719 Notifying with (id:1, workSpecId: d883c825-f738-44c5-9cd3-ef9515b2efbf, notificationType :1)
21:43:34.719 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000272
21:43:34.723 [FileUtil] Директория для сохранения: Pictures
21:43:34.723 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214252.jpg (режим замены: true)
21:43:34.724 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.725 Failed to get type for: content://media/external/images/media/1000000287 (No item at content://media/external/images/media/1000000287)
21:43:34.727 onStopJob for WorkGenerationalId(workSpecId=318a8751-e7a3-49fa-b8f6-c6e9673a7e36, generation=0)
21:43:34.728 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.728 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000273
21:43:34.732 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000270
21:43:34.732 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.733 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414730
21:43:34.735 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000343
21:43:34.737 Moving WorkSpec (008b164f-c737-4846-b205-b3db22063a33) to the foreground
21:43:34.739 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:34.739 [URI:0272] Изображение требует обработки
21:43:34.739 [URI:0272] Начало тестового сжатия в RAM
21:43:34.739 [URI:0272] Сжатие изображения в поток
21:43:34.740 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000287
21:43:34.741 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:34.742 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:34.742 Notifying with (id:1, workSpecId: 008b164f-c737-4846-b205-b3db22063a33, notificationType :1)
21:43:34.742 [СЖАТИЕ:0270] Запущена работа по сжатию для content://media/external/images/media/1000000270 с тегом compress_1763923414736_IMG_20251123_214251.jpg в батче auto_batch_1_1763923409451
21:43:34.743 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:34.744 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000267
21:43:34.744 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214252.jpg
21:43:34.744 [URI:0267] URI scheme: content, authority: media, path: /external/images/media/1000000267
21:43:34.747 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000271
21:43:34.747 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:34.747 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000269 в память (кэш не найден)
21:43:34.750 Worker result SUCCESS for Work [ id=d883c825-f738-44c5-9cd3-ef9515b2efbf, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923413848_IMG_20251123_214253.jpg } ]
21:43:34.751 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214252.jpg', включен режим замены - удаляем
21:43:34.753 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.754 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.756 [FileUtil] Директория для сохранения: Pictures
21:43:34.757 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214252.jpg (режим замены: true)
21:43:34.757 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.758 Failed to get type for: content://media/external/images/media/1000000289 (No item at content://media/external/images/media/1000000289)
21:43:34.760 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000269:
21:43:34.760 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:34.760 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:34.760 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:34.761 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:34.761 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:34.761 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:34.761 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:34.761 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:51
21:43:34.761 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:34.761 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:34.761 [URI:0269] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:34.764 Notifying with (id:1, workSpecId: 008b164f-c737-4846-b205-b3db22063a33, notificationType :1)
21:43:34.765 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000267 (всего: 5)
21:43:34.768 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000271
21:43:34.774 Processor d883c825-f738-44c5-9cd3-ef9515b2efbf executed; reschedule = false
21:43:34.774 d883c825-f738-44c5-9cd3-ef9515b2efbf executed on JobScheduler
21:43:34.774 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=d883c825-f738-44c5-9cd3-ef9515b2efbf, generation=0), notificationType: 1
21:43:34.774 Scheduling work ID eeb98c82-2aa6-4574-92f2-2ab74f762cfeJob ID 152
21:43:34.776 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214252.jpg', включен режим замены - удаляем
21:43:34.778 [СЖАТИЕ:0272] 142KB → 53KB (-62%)
21:43:34.779 [СЖАТИЕ:0272] 142KB → 53KB (-62.181725%)
21:43:34.780 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000272 эффективно (экономия 62.181725%), выполняем полное сжатие
21:43:34.780 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.780 [MediaStore] Существующий файл удален (режим замены)
21:43:34.786 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000289
21:43:34.786 [MediaStore] Существующий файл удален (режим замены)
21:43:34.789 Starting work for eeb98c82-2aa6-4574-92f2-2ab74f762cfe
21:43:34.792 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000344
21:43:34.801 Failed to get type for: content://media/external/images/media/1000000290 (No item at content://media/external/images/media/1000000290)
21:43:34.802 [URI:0272] Имя файла: IMG_20251123_214252_1.jpg
21:43:34.803 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214252_1.jpg
21:43:34.804 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214252_1.jpg (режим замены: true)
21:43:34.809 Cancelling work ID d883c825-f738-44c5-9cd3-ef9515b2efbf
21:43:34.809 [URI:0272] Директория для сохранения: Pictures
21:43:34.812 [URI:0272] Сжатие изображения в поток
21:43:34.813 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000344
21:43:34.818 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000344
21:43:34.823 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000290
21:43:34.828 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000344
21:43:34.835 Failed to get type for: content://media/external/images/media/1000000291 (No item at content://media/external/images/media/1000000291)
21:43:34.837 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000271, обработка через 10 сек
21:43:34.839 Processor: processing WorkGenerationalId(workSpecId=eeb98c82-2aa6-4574-92f2-2ab74f762cfe, generation=0)
21:43:34.841 [FileUtil] Директория для сохранения: Pictures
21:43:34.841 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214252_1.jpg (режим замены: true)
21:43:34.842 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:34.847 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000269
21:43:34.847 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.853 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000344
21:43:34.853 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000344, максимальное время: 2000 мс
21:43:34.862 [FileUtil] URI стал доступен через 8 мс, размер: 54627 байт
21:43:34.871 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000272
21:43:34.872 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000291
21:43:34.874 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000269
21:43:34.875 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:34.875 Failed to get type for: content://media/external/images/media/1000000292 (No item at content://media/external/images/media/1000000292)
21:43:34.875 [FileUtil] Обработка EXIF данных: успешно
21:43:34.878 [ФАЙЛ:0274] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000343
21:43:34.878 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000343 до Sun Nov 23 21:43:39 GMT+03:00 2025
21:43:34.878 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000274
21:43:34.879 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000344
21:43:34.879 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000344, максимальное время: 2000 мс
21:43:34.881 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000344, обработка через 10 сек
21:43:34.882 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214252_1.jpg', включен режим замены - удаляем
21:43:34.883 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000267
21:43:34.883 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.883 onStartJob for WorkGenerationalId(workSpecId=eeb98c82-2aa6-4574-92f2-2ab74f762cfe, generation=0)
21:43:34.883 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:34.888 Work WorkGenerationalId(workSpecId=eeb98c82-2aa6-4574-92f2-2ab74f762cfe, generation=0) is already enqueued for processing
21:43:34.891 [FileUtil] URI стал доступен через 12 мс, размер: 54627 байт
21:43:34.892 [MediaStore] Существующий файл удален (режим замены)
21:43:34.894 Failed to get type for: content://media/external/images/media/1000000274 (No item at content://media/external/images/media/1000000274)
21:43:34.897 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:34.897 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000292
21:43:34.903 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:34.904 [URI:0269] Изображение требует обработки
21:43:34.904 [URI:0269] Начало тестового сжатия в RAM
21:43:34.904 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000274
21:43:34.905 [ОШИБКА:Удаление:0274] Не удалось удалить оригинальный файл
21:43:34.908 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.908 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414908
21:43:34.909 [СЖАТИЕ:0267] Запущена работа по сжатию для content://media/external/images/media/1000000267 с тегом compress_1763923414890_IMG_20251123_214250.jpg в батче auto_batch_1_1763923409451
21:43:34.909 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:34.909 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000268
21:43:34.910 [URI:0268] URI scheme: content, authority: media, path: /external/images/media/1000000268
21:43:34.910 Failed to get type for: content://media/external/images/media/1000000293 (No item at content://media/external/images/media/1000000293)
21:43:34.910 [URI:0269] Сжатие изображения в поток
21:43:34.911 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000345
21:43:34.914 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000344
21:43:34.916 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000345
21:43:34.916 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000268 (всего: 6)
21:43:34.921 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214253_1.jpg (31)
21:43:34.922 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214253_1.jpg
21:43:34.925 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.926 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000293
21:43:34.928 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:34.931 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.931 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.939 Failed to get type for: content://media/external/images/media/1000000294 (No item at content://media/external/images/media/1000000294)
21:43:34.940 Scheduling work ID 801b50dc-8a63-48bd-8872-40c73bff6061Job ID 153
21:43:34.945 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.945 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414945
21:43:34.952 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000345
21:43:34.952 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000345, максимальное время: 2000 мс
21:43:34.958 [FileUtil] URI стал доступен через 6 мс, размер: 55029 байт
21:43:34.961 Starting work for 801b50dc-8a63-48bd-8872-40c73bff6061
21:43:34.963 [СЖАТИЕ:0269] 141KB → 53KB (-62%)
21:43:34.964 [СЖАТИЕ:0269] 141KB → 53KB (-62.25944%)
21:43:34.965 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000269 эффективно (экономия 62.25944%), выполняем полное сжатие
21:43:34.966 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:34.971 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000294
21:43:34.974 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000344
21:43:34.974 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923414000
21:43:34.977 Moving WorkSpec (fdd1553b-9294-4ded-b9c7-e16c6c5e82e5) to the foreground
21:43:34.980 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:34.985 [URI:0269] Имя файла: IMG_20251123_214250_2.jpg
21:43:34.985 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214250_2.jpg
21:43:34.985 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214250_2.jpg (режим замены: true)
21:43:34.985 Moving WorkSpec (eeb98c82-2aa6-4574-92f2-2ab74f762cfe) to the foreground
21:43:34.988 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:34.988 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923414988
21:43:34.990 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000274
21:43:34.991 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:34.993 Failed to get type for: content://media/external/images/media/1000000295 (No item at content://media/external/images/media/1000000295)
21:43:34.997 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000345
21:43:34.999 [URI:0269] Директория для сохранения: Pictures
21:43:35.000 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:35.001 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:35.009 [URI:0269] Сжатие изображения в поток
21:43:35.011 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:35.011 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000270 в память (кэш не найден)
21:43:35.015 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000272, обработка через 10 сек
21:43:35.016 Processor: processing WorkGenerationalId(workSpecId=801b50dc-8a63-48bd-8872-40c73bff6061, generation=0)
21:43:35.017 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000295
21:43:35.025 Failed to get type for: content://media/external/images/media/1000000296 (No item at content://media/external/images/media/1000000296)
21:43:35.028 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000345, обработка через 10 сек
21:43:35.030 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000270:
21:43:35.033 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:35.033 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:35.034 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:35.034 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:35.035 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:35.035 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:35.035 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.036 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:35.036 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:51
21:43:35.036 [FileUtil] Обработка EXIF данных: успешно
21:43:35.036 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:35.036 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:35.036 [URI:0270] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:35.037 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000296
21:43:35.038 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000268
21:43:35.038 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.044 Failed to get type for: content://media/external/images/media/1000000297 (No item at content://media/external/images/media/1000000297)
21:43:35.045 onStartJob for WorkGenerationalId(workSpecId=801b50dc-8a63-48bd-8872-40c73bff6061, generation=0)
21:43:35.045 [ОШИБКА:Получение размера:0271] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000271
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:35.046 [FileUtil] Директория для сохранения: Pictures
21:43:35.046 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214250_2.jpg (режим замены: true)
21:43:35.047 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:35.049 Work WorkGenerationalId(workSpecId=801b50dc-8a63-48bd-8872-40c73bff6061, generation=0) is already enqueued for processing
21:43:35.057 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000269
21:43:35.057 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:35.057 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000297
21:43:35.058 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214250_2.jpg', включен режим замены - удаляем
21:43:35.058 [СЖАТИЕ:0268] Запущена работа по сжатию для content://media/external/images/media/1000000268 с тегом compress_1763923415054_IMG_20251123_214250_1.jpg в батче auto_batch_1_1763923409451
21:43:35.059 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:35.059 [ПРОЦЕСС] BackgroundMonitoringService: начало обработки нового изображения: content://media/external/images/media/1000000266
21:43:35.059 [URI:0266] URI scheme: content, authority: media, path: /external/images/media/1000000266
21:43:35.061 Notifying with (id:1, workSpecId: fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, notificationType :1)
21:43:35.062 [ФАЙЛ:0271] Сохранение: Изображение успешно сжато: IMG_20251123_214252.jpg, 0KB → 54KB
21:43:35.062 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000271 (осталось: 5)
21:43:35.062 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000272 (всего: 5)
21:43:35.063 Failed to get type for: content://media/external/images/media/1000000298 (No item at content://media/external/images/media/1000000298)
21:43:35.064 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000266 (всего: 6)
21:43:35.070 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:35.070 Notifying with (id:1, workSpecId: eeb98c82-2aa6-4574-92f2-2ab74f762cfe, notificationType :1)
21:43:35.073 [MediaStore] Существующий файл удален (режим замены)
21:43:35.081 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000346
21:43:35.082 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000298
21:43:35.083 Failed to get type for: content://media/external/images/media/1000000272 (No item at content://media/external/images/media/1000000272)
21:43:35.088 Scheduling work ID 1f4efd26-05c0-4ff7-a8e7-87d98c77b439Job ID 154
21:43:35.089 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000346
21:43:35.093 Failed to get type for: content://media/external/images/media/1000000299 (No item at content://media/external/images/media/1000000299)
21:43:35.096 Starting work for 1f4efd26-05c0-4ff7-a8e7-87d98c77b439
21:43:35.103 Notifying with (id:1, workSpecId: eeb98c82-2aa6-4574-92f2-2ab74f762cfe, notificationType :1)
21:43:35.105 Processor: processing WorkGenerationalId(workSpecId=1f4efd26-05c0-4ff7-a8e7-87d98c77b439, generation=0)
21:43:35.108 Worker result SUCCESS for Work [ id=fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923414056_IMG_20251123_214253_1.jpg } ]
21:43:35.108 [URI:0272] URI не существует
21:43:35.109 [ОШИБКА:Обработка:0272] Недействительный URI
21:43:35.109 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000272 (осталось: 5)
21:43:35.109 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000269 (всего: 5)
21:43:35.116 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.116 [FileUtil] Обработка EXIF данных: успешно
21:43:35.117 [ФАЙЛ:0271] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000344
21:43:35.118 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000344 до Sun Nov 23 21:43:40 GMT+03:00 2025
21:43:35.118 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000271
21:43:35.123 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.123 [FileUtil] Обработка EXIF данных: успешно
21:43:35.123 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:35.123 [ФАЙЛ:0272] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000345
21:43:35.123 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000345 до Sun Nov 23 21:43:40 GMT+03:00 2025
21:43:35.123 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000272
21:43:35.128 Moving WorkSpec (801b50dc-8a63-48bd-8872-40c73bff6061) to the foreground
21:43:35.129 Failed to get type for: content://media/external/images/media/1000000271 (No item at content://media/external/images/media/1000000271)
21:43:35.130 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000299
21:43:35.132 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000269, обработка через 10 сек
21:43:35.138 Failed to get type for: content://media/external/images/media/1000000272 (No item at content://media/external/images/media/1000000272)
21:43:35.139 Failed to get type for: content://media/external/images/media/1000000300 (No item at content://media/external/images/media/1000000300)
21:43:35.144 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:35.144 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000267 в память (кэш не найден)
21:43:35.145 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000346
21:43:35.145 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000346, максимальное время: 2000 мс
21:43:35.148 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000271
21:43:35.148 [ОШИБКА:Удаление:0271] Не удалось удалить оригинальный файл
21:43:35.148 [FileUtil] URI стал доступен через 3 мс, размер: 54617 байт
21:43:35.148 Failed to get type for: content://media/external/images/media/1000000269 (No item at content://media/external/images/media/1000000269)
21:43:35.149 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000272
21:43:35.149 [ОШИБКА:Удаление:0272] Не удалось удалить оригинальный файл
21:43:35.152 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000346, обработка через 10 сек
21:43:35.154 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214252.jpg (32)
21:43:35.154 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000267:
21:43:35.154 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:35.155 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:35.155 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000270
21:43:35.155 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:35.155 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214252.jpg
21:43:35.155 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.156 onStartJob for WorkGenerationalId(workSpecId=1f4efd26-05c0-4ff7-a8e7-87d98c77b439, generation=0)
21:43:35.158 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:35.159 Work WorkGenerationalId(workSpecId=1f4efd26-05c0-4ff7-a8e7-87d98c77b439, generation=0) is already enqueued for processing
21:43:35.159 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214252_1.jpg (33)
21:43:35.160 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214252_1.jpg
21:43:35.160 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:35.161 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000300
21:43:35.162 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:35.164 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:35.165 [URI:0269] URI не существует
21:43:35.166 [ОШИБКА:Обработка:0269] Недействительный URI
21:43:35.166 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:50
21:43:35.167 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:35.167 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000269 (осталось: 4)
21:43:35.168 Processor fdd1553b-9294-4ded-b9c7-e16c6c5e82e5 executed; reschedule = false
21:43:35.168 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000270 (всего: 4)
21:43:35.168 fdd1553b-9294-4ded-b9c7-e16c6c5e82e5 executed on JobScheduler
21:43:35.168 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:35.168 [URI:0267] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:35.171 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, generation=0), notificationType: 1
21:43:35.171 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:35.171 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:35.173 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923415000
21:43:35.175 Notifying with (id:1, workSpecId: 801b50dc-8a63-48bd-8872-40c73bff6061, notificationType :1)
21:43:35.177 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000270
21:43:35.179 Notifying with (id:1, workSpecId: 801b50dc-8a63-48bd-8872-40c73bff6061, notificationType :1)
21:43:35.179 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:35.179 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923415179
21:43:35.181 Moving WorkSpec (ebad8237-9877-4d3d-819f-67d5efbf5cd0) to the foreground
21:43:35.182 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000346
21:43:35.182 Failed to get type for: content://media/external/images/media/1000000301 (No item at content://media/external/images/media/1000000301)
21:43:35.185 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:35.188 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:35.188 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000271
21:43:35.189 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000301
21:43:35.189 Cancelling work ID fdd1553b-9294-4ded-b9c7-e16c6c5e82e5
21:43:35.191 Moving WorkSpec (c89f0f05-4d66-47ad-af37-89abebaca4a5) to the foreground
21:43:35.193 Notifying with (id:1, workSpecId: ebad8237-9877-4d3d-819f-67d5efbf5cd0, notificationType :1)
21:43:35.194 Moving WorkSpec (1f4efd26-05c0-4ff7-a8e7-87d98c77b439) to the foreground
21:43:35.195 Failed to get type for: content://media/external/images/media/1000000302 (No item at content://media/external/images/media/1000000302)
21:43:35.196 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000272
21:43:35.197 onStopJob for WorkGenerationalId(workSpecId=fdd1553b-9294-4ded-b9c7-e16c6c5e82e5, generation=0)
21:43:35.198 Notifying with (id:1, workSpecId: c89f0f05-4d66-47ad-af37-89abebaca4a5, notificationType :1)
21:43:35.200 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000266
21:43:35.200 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000302
21:43:35.201 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.202 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:35.203 [URI:0270] Изображение требует обработки
21:43:35.203 [URI:0270] Начало тестового сжатия в RAM
21:43:35.204 [URI:0270] Сжатие изображения в поток
21:43:35.206 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:35.207 Failed to get type for: content://media/external/images/media/1000000303 (No item at content://media/external/images/media/1000000303)
21:43:35.207 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000268 в память (кэш не найден)
21:43:35.207 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:35.208 Notifying with (id:1, workSpecId: 1f4efd26-05c0-4ff7-a8e7-87d98c77b439, notificationType :1)
21:43:35.212 Worker result SUCCESS for Work [ id=ebad8237-9877-4d3d-819f-67d5efbf5cd0, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923414241_IMG_20251123_214252.jpg } ]
21:43:35.212 Notifying with (id:1, workSpecId: 1f4efd26-05c0-4ff7-a8e7-87d98c77b439, notificationType :1)
21:43:35.214 Worker result SUCCESS for Work [ id=c89f0f05-4d66-47ad-af37-89abebaca4a5, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923414394_IMG_20251123_214252_1.jpg } ]
21:43:35.220 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000268:
21:43:35.220 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:35.220 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:35.220 [ПРОЦЕСС] Чтение EXIF данных из кэша для content://media/external/images/media/1000000270
21:43:35.220 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:35.220 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:35.220 [URI:0270] Сжатие изображения в поток
21:43:35.221 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:35.221 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:35.221 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:35.221 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:50
21:43:35.221 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:35.221 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:35.221 [URI:0268] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:35.222 Processor ebad8237-9877-4d3d-819f-67d5efbf5cd0 executed; reschedule = false
21:43:35.223 ebad8237-9877-4d3d-819f-67d5efbf5cd0 executed on JobScheduler
21:43:35.223 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=ebad8237-9877-4d3d-819f-67d5efbf5cd0, generation=0), notificationType: 1
21:43:35.223 Processor c89f0f05-4d66-47ad-af37-89abebaca4a5 executed; reschedule = false
21:43:35.223 c89f0f05-4d66-47ad-af37-89abebaca4a5 executed on JobScheduler
21:43:35.223 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=c89f0f05-4d66-47ad-af37-89abebaca4a5, generation=0), notificationType: 1
21:43:35.226 Cancelling work ID ebad8237-9877-4d3d-819f-67d5efbf5cd0
21:43:35.230 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000303
21:43:35.232 Cancelling work ID c89f0f05-4d66-47ad-af37-89abebaca4a5
21:43:35.232 [ПРОЦЕСС] Используется существующий автобатч: auto_batch_1_1763923409451
21:43:35.234 [СЖАТИЕ:0266] Запущена работа по сжатию для content://media/external/images/media/1000000266 с тегом compress_1763923415226_IMG_20251123_214249.jpg в батче auto_batch_1_1763923409451
21:43:35.234 [ПРОЦЕСС] BackgroundMonitoringService: результат обработки изображения: Сжатие запущено
21:43:35.234 [ПРОЦЕСС] BackgroundMonitoringService: начальное сканирование завершено. Обработано: 40, Пропущено: 126
21:43:35.237 Failed to get type for: content://media/external/images/media/1000000304 (No item at content://media/external/images/media/1000000304)
21:43:35.250 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000304
21:43:35.254 Failed to get type for: content://media/external/images/media/1000000305 (No item at content://media/external/images/media/1000000305)
21:43:35.254 [ПРОЦЕСС] GalleryScanUtil: найдено 44 изображений за последние 5 минут
21:43:35.255 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000340
21:43:35.255 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000340 уже в процессе обработки, пропускаем
21:43:35.255 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000341
21:43:35.255 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000341 уже в процессе обработки, пропускаем
21:43:35.256 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000342
21:43:35.256 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000342 уже в процессе обработки, пропускаем
21:43:35.256 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000343
21:43:35.256 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000343 уже в процессе обработки, пропускаем
21:43:35.256 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000344
21:43:35.256 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000344 уже в процессе обработки, пропускаем
21:43:35.257 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000345
21:43:35.257 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000345 уже в процессе обработки, пропускаем
21:43:35.259 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000331
21:43:35.259 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000331 уже в процессе обработки, пропускаем
21:43:35.259 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000332
21:43:35.261 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000305
21:43:35.262 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000332 уже в процессе обработки, пропускаем
21:43:35.265 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000267
21:43:35.265 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.266 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000333
21:43:35.266 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000333 уже в процессе обработки, пропускаем
21:43:35.266 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000334
21:43:35.266 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000334 уже в процессе обработки, пропускаем
21:43:35.266 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000335
21:43:35.268 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000335 уже в процессе обработки, пропускаем
21:43:35.268 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000336
21:43:35.268 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000336 уже в процессе обработки, пропускаем
21:43:35.269 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214251.jpg
21:43:35.269 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000337
21:43:35.269 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000337 уже в процессе обработки, пропускаем
21:43:35.269 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000338
21:43:35.269 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000338 уже в процессе обработки, пропускаем
21:43:35.269 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000323
21:43:35.269 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000323 уже в процессе обработки, пропускаем
21:43:35.269 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000325
21:43:35.269 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000325 уже в процессе обработки, пропускаем
21:43:35.269 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000326
21:43:35.269 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000326 уже в процессе обработки, пропускаем
21:43:35.269 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000327
21:43:35.269 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000327 уже в процессе обработки, пропускаем
21:43:35.270 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000328
21:43:35.270 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000328 уже в процессе обработки, пропускаем
21:43:35.270 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000329
21:43:35.270 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000329 уже в процессе обработки, пропускаем
21:43:35.270 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000315
21:43:35.270 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000315 уже в процессе обработки, пропускаем
21:43:35.270 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000316
21:43:35.270 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000316 уже в процессе обработки, пропускаем
21:43:35.270 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000317
21:43:35.270 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000317 уже в процессе обработки, пропускаем
21:43:35.270 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000318
21:43:35.271 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000318 уже в процессе обработки, пропускаем
21:43:35.271 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000319
21:43:35.271 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000319 уже в процессе обработки, пропускаем
21:43:35.271 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000321
21:43:35.271 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000321 уже в процессе обработки, пропускаем
21:43:35.271 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000322
21:43:35.271 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000322 уже в процессе обработки, пропускаем
21:43:35.271 [СЖАТИЕ:0270] 141KB → 53KB (-62%)
21:43:35.271 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000309
21:43:35.271 [СЖАТИЕ:0270] 141KB → 53KB (-62.17134%)
21:43:35.271 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000309 уже в процессе обработки, пропускаем
21:43:35.271 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000270 эффективно (экономия 62.17134%), выполняем полное сжатие
21:43:35.271 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:35.271 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000310
21:43:35.271 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000310 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000311
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000311 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000312
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000312 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000313
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000313 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000270 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000267 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000268 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000266 уже в процессе обработки, пропускаем
21:43:35.272 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 8 URI
21:43:35.273 Scheduling work ID f74a1c58-fc43-4605-83ee-5dc4f908ffc5Job ID 155
21:43:35.274 [FileUtil] Директория для сохранения: Pictures
21:43:35.277 Failed to get type for: content://media/external/images/media/1000000307 (No item at content://media/external/images/media/1000000307)
21:43:35.277 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214251.jpg (режим замены: true)
21:43:35.280 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:35.283 [URI:0270] Имя файла: IMG_20251123_214251.jpg
21:43:35.285 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214251.jpg
21:43:35.285 Starting work for f74a1c58-fc43-4605-83ee-5dc4f908ffc5
21:43:35.285 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000267
21:43:35.286 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214251.jpg (режим замены: true)
21:43:35.287 onStartJob for WorkGenerationalId(workSpecId=f74a1c58-fc43-4605-83ee-5dc4f908ffc5, generation=0)
21:43:35.288 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000268
21:43:35.288 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.289 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000270
21:43:35.290 [ПРОЦЕСС] ImageDetectionJobService: URI не существует, пропускаем: content://media/external/images/media/1000000307
21:43:35.290 [ПРОЦЕСС] Пакетное получение метаданных завершено: 8 URI, 8 запросов к MediaStore
21:43:35.291 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214251.jpg', включен режим замены - удаляем
21:43:35.294 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:35.294 [URI:0267] Изображение требует обработки
21:43:35.294 [URI:0267] Начало тестового сжатия в RAM
21:43:35.294 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.294 [URI:0267] Сжатие изображения в поток
21:43:35.294 [FileUtil] Обработка EXIF данных: успешно
21:43:35.295 [ФАЙЛ:0269] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000346
21:43:35.295 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000346 до Sun Nov 23 21:43:40 GMT+03:00 2025
21:43:35.295 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000269
21:43:35.296 Processor: processing WorkGenerationalId(workSpecId=f74a1c58-fc43-4605-83ee-5dc4f908ffc5, generation=0)
21:43:35.310 Failed to get type for: content://media/external/images/media/1000000269 (No item at content://media/external/images/media/1000000269)
21:43:35.311 [URI:0270] Директория для сохранения: Pictures
21:43:35.311 [MediaStore] Существующий файл удален (режим замены)
21:43:35.314 [ОШИБКА:Сжатие:null] Ошибка при сжатии изображения (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000270
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.worker.ImageCompressionWorker$doWork$2.invokeSuspend(ImageCompressionWorker.kt:217)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:35.316 Work WorkGenerationalId(workSpecId=f74a1c58-fc43-4605-83ee-5dc4f908ffc5, generation=0) is already enqueued for processing
21:43:35.322 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000270, обработка через 10 сек
21:43:35.324 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000347
21:43:35.327 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000268
21:43:35.330 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000347
21:43:35.331 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000269
21:43:35.331 [ОШИБКА:Удаление:0269] Не удалось удалить оригинальный файл
21:43:35.335 Moving WorkSpec (eeb98c82-2aa6-4574-92f2-2ab74f762cfe) to the foreground
21:43:35.336 [СЖАТИЕ:0267] 141KB → 53KB (-62%)
21:43:35.336 [СЖАТИЕ:0267] 141KB → 53KB (-62.155247%)
21:43:35.336 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000267 эффективно (экономия 62.155247%), выполняем полное сжатие
21:43:35.336 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:35.337 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:35.338 [URI:0268] Изображение требует обработки
21:43:35.338 [URI:0268] Начало тестового сжатия в RAM
21:43:35.338 [URI:0268] Сжатие изображения в поток
21:43:35.341 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214250_2.jpg (34)
21:43:35.341 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214250_2.jpg
21:43:35.345 Background concurrent mark compact GC freed 5612KB AllocSpace bytes, 48(1900KB) LOS objects, 49% free, 6947KB/13MB, paused 790us,11.744ms total 110.252ms
21:43:35.348 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000347, обработка через 10 сек
21:43:35.348 Starting work for com.compressphotofast.worker.ImageCompressionWorker
21:43:35.349 [URI:0267] Имя файла: IMG_20251123_214250.jpg
21:43:35.349 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214250.jpg
21:43:35.349 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214250.jpg (режим замены: true)
21:43:35.351 Moving WorkSpec (008b164f-c737-4846-b205-b3db22063a33) to the foreground
21:43:35.352 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000270
21:43:35.356 [URI:0267] Директория для сохранения: Pictures
21:43:35.358 [URI:0267] Сжатие изображения в поток
21:43:35.360 Notifying with (id:1, workSpecId: eeb98c82-2aa6-4574-92f2-2ab74f762cfe, notificationType :1)
21:43:35.361 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000269
21:43:35.367 Moving WorkSpec (f74a1c58-fc43-4605-83ee-5dc4f908ffc5) to the foreground
21:43:35.370 Notifying with (id:1, workSpecId: 008b164f-c737-4846-b205-b3db22063a33, notificationType :1)
21:43:35.373 [ПРОЦЕСС] [ПРОЦЕСС] Используется качество сжатия: 60
21:43:35.373 [ПРОЦЕСС] Чтение EXIF данных из content://media/external/images/media/1000000266 в память (кэш не найден)
21:43:35.376 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.377 Worker result FAILURE for Work [ id=eeb98c82-2aa6-4574-92f2-2ab74f762cfe, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923414736_IMG_20251123_214251.jpg } ]
21:43:35.382 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923415179 для URI: content://media/external/images/media/1000000346
21:43:35.382 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000346
21:43:35.382 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.382 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000346
21:43:35.384 [РАЗРЕШЕНИЯ] 📋 ДИАГНОСТИКА РАЗРЕШЕНИЙ для content://media/external/images/media/1000000266:
21:43:35.385 Worker result SUCCESS for Work [ id=008b164f-c737-4846-b205-b3db22063a33, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923414615_IMG_20251123_214250_2.jpg } ]
21:43:35.385 [РАЗРЕШЕНИЯ]   - Android версия: 35 (15)
21:43:35.385 [РАЗРЕШЕНИЯ]   - ACCESS_MEDIA_LOCATION: ✅ ПРЕДОСТАВЛЕНО
21:43:35.386 [РАЗРЕШЕНИЯ]   - URI тип: MediaStore
21:43:35.386 [ПРОЦЕСС] 🔍 GPS ИЗВЛЕЧЕНИЕ: Используем ExifInterface с поддержкой MediaStore.setRequireOriginal()
21:43:35.387 Started foreground service Intent { act=ACTION_START_FOREGROUND cmp=com.compressphotofast/androidx.work.impl.foreground.SystemForegroundService (has extras) }
21:43:35.387 Notifying with (id:1, workSpecId: f74a1c58-fc43-4605-83ee-5dc4f908ffc5, notificationType :1)
21:43:35.390 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000347
21:43:35.390 [ПРОЦЕСС] 🔍 GPS результат: lat=55.751130555555555, lng=37.61601111111111
21:43:35.391 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000347, максимальное время: 2000 мс
21:43:35.392 [ПРОЦЕСС] ✅ GPS данные получены через ExifInterface: lat=55.751130555555555, lng=37.61601111111111
21:43:35.395 [FileUtil] URI стал доступен через 3 мс, размер: 54917 байт
21:43:35.395 [ПРОЦЕСС] 🕒 ПРОВЕРКА ДАТ: Проверяем наличие дат в EXIF и добавляем дату оцифровки при необходимости
21:43:35.395 [ПРОЦЕСС] Найдена дата в теге DateTimeOriginal: 2025:11:23 21:42:49
21:43:35.396 [СЖАТИЕ:0268] 141KB → 53KB (-62%)
21:43:35.396 [СЖАТИЕ:0268] 141KB → 53KB (-62.094997%)
21:43:35.396 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000268 эффективно (экономия 62.094997%), выполняем полное сжатие
21:43:35.396 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:35.398 Notifying with (id:1, workSpecId: f74a1c58-fc43-4605-83ee-5dc4f908ffc5, notificationType :1)
21:43:35.401 [ПРОЦЕСС] Даты уже присутствуют в EXIF, пропускаем добавление даты оцифровки
21:43:35.402 [ПРОЦЕСС] Прочитано 25 EXIF-тегов, сохраняем в кэш
21:43:35.403 [URI:0266] [ПРОЦЕСС] Загружены EXIF данные в память: 25 тегов
21:43:35.407 [URI:0268] Имя файла: IMG_20251123_214250_1.jpg
21:43:35.407 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214250_1.jpg
21:43:35.407 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214250_1.jpg (режим замены: true)
21:43:35.409 Processor eeb98c82-2aa6-4574-92f2-2ab74f762cfe executed; reschedule = false
21:43:35.410 eeb98c82-2aa6-4574-92f2-2ab74f762cfe executed on JobScheduler
21:43:35.411 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=eeb98c82-2aa6-4574-92f2-2ab74f762cfe, generation=0), notificationType: 1
21:43:35.413 [URI:0268] Директория для сохранения: Pictures
21:43:35.414 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_214255.jpg
21:43:35.414 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:35.414 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000339
21:43:35.417 Processor 008b164f-c737-4846-b205-b3db22063a33 executed; reschedule = false
21:43:35.417 008b164f-c737-4846-b205-b3db22063a33 executed on JobScheduler
21:43:35.417 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=008b164f-c737-4846-b205-b3db22063a33, generation=0), notificationType: 1
21:43:35.419 Cancelling work ID eeb98c82-2aa6-4574-92f2-2ab74f762cfe
21:43:35.421 onStopJob for WorkGenerationalId(workSpecId=eeb98c82-2aa6-4574-92f2-2ab74f762cfe, generation=0)
21:43:35.422 [URI:0268] Сжатие изображения в поток
21:43:35.426 Cancelling work ID 008b164f-c737-4846-b205-b3db22063a33
21:43:35.431 [FileUtil] Директория для сохранения: Pictures
21:43:35.431 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214250.jpg (режим замены: true)
21:43:35.433 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:35.434 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923415000
21:43:35.437 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000267
21:43:35.440 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:35.440 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923415440
21:43:35.443 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214250.jpg', включен режим замены - удаляем
21:43:35.443 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000347
21:43:35.448 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:35.449 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:35.456 [MediaStore] Существующий файл удален (режим замены)
21:43:35.458 [FileUtil] Директория для сохранения: Pictures
21:43:35.458 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214250_1.jpg (режим замены: true)
21:43:35.459 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:35.460 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000267, обработка через 10 сек
21:43:35.463 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000268
21:43:35.464 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214250_1.jpg', включен режим замены - удаляем
21:43:35.470 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000348
21:43:35.473 [MediaStore] Существующий файл удален (режим замены)
21:43:35.475 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000266
21:43:35.475 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.485 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000348
21:43:35.486 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.488 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000349
21:43:35.491 [ПРОЦЕСС] Начато отслеживание URI: content://media/external/images/media/1000000266
21:43:35.492 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923412422 для URI: content://media/external/images/media/1000000324
21:43:35.494 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000324
21:43:35.494 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.495 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000324
21:43:35.496 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000348, обработка через 10 сек
21:43:35.498 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000349
21:43:35.508 [ПРОЦЕСС] [ПРОЦЕСС] Выполняем тестовое сжатие в RAM
21:43:35.508 [URI:0266] Изображение требует обработки
21:43:35.510 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000268, обработка через 10 сек
21:43:35.510 [URI:0266] Начало тестового сжатия в RAM
21:43:35.511 [URI:0266] Сжатие изображения в поток
21:43:35.517 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000349, обработка через 10 сек
21:43:35.523 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000306
21:43:35.524 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000308
21:43:35.524 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000314
21:43:35.526 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000320
21:43:35.527 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000324
21:43:35.535 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000348
21:43:35.538 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000348, максимальное время: 2000 мс
21:43:35.545 [FileUtil] URI стал доступен через 7 мс, размер: 54887 байт
21:43:35.546 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000349
21:43:35.547 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000349, максимальное время: 2000 мс
21:43:35.550 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.554 [FileUtil] URI стал доступен через 6 мс, размер: 54927 байт
21:43:35.555 [ПРОЦЕСС] Пакетное получение метаданных завершено: 21 URI, 16 запросов к MediaStore
21:43:35.555 [ПРОЦЕСС] ImageDetectionJobService: оптимизированная пакетная обработка 21 URI (из 40 изначально)
21:43:35.558 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923413004 для URI: content://media/external/images/media/1000000330
21:43:35.558 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000330
21:43:35.562 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.565 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923415000
21:43:35.565 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000330
21:43:35.568 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.571 [FileUtil] Обработка EXIF данных: успешно
21:43:35.577 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:35.577 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923415577
21:43:35.578 [ОШИБКА:Получение размера:0270] Ошибка при получении размера файла по URI (Ask Gemini)
             java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000270
             	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
             	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
             	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
             	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
             	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
             	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
             	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:231)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
             	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
             	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
             	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
             	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
             	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
             	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:35.582 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000348
21:43:35.586 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923415000
21:43:35.587 [СЖАТИЕ:0266] 142KB → 53KB (-62%)
21:43:35.587 [СЖАТИЕ:0266] 142KB → 53KB (-62.207527%)
21:43:35.588 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие для 1000000266 эффективно (экономия 62.207527%), выполняем полное сжатие
21:43:35.588 [ПРОЦЕСС] [ПРОЦЕСС] Тестовое сжатие эффективно, начинаем полное сжатие
21:43:35.589 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:35.590 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:35.598 [ФАЙЛ:0270] Сохранение: Изображение успешно сжато: IMG_20251123_214251.jpg, 0KB → 54KB
21:43:35.599 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000270 (осталось: 3)
21:43:35.599 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000267 (всего: 3)
21:43:35.603 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:35.603 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923415603
21:43:35.605 [URI:0266] Имя файла: IMG_20251123_214249.jpg
21:43:35.605 [ПРОЦЕСС] [FileOperationsUtil] Режим замены включён, используем оригинальное имя: IMG_20251123_214249.jpg
21:43:35.605 [ПРОЦЕСС] [ПРОЦЕСС] Итоговое имя файла для сохранения: IMG_20251123_214249.jpg (режим замены: true)
21:43:35.606 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000349
21:43:35.610 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:35.611 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:35.617 [URI:0266] Директория для сохранения: Pictures
21:43:35.619 Failed to get type for: content://media/external/images/media/1000000267 (No item at content://media/external/images/media/1000000267)
21:43:35.625 [URI:0266] Сжатие изображения в поток
21:43:35.635 [URI:0267] URI не существует
21:43:35.635 [ОШИБКА:Обработка:0267] Недействительный URI
21:43:35.635 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000267 (осталось: 2)
21:43:35.636 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000268 (всего: 2)
21:43:35.645 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.647 Failed to get type for: content://media/external/images/media/1000000268 (No item at content://media/external/images/media/1000000268)
21:43:35.649 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923411092 для URI: content://media/external/images/media/1000000314
21:43:35.649 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000314
21:43:35.649 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.649 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000314
21:43:35.659 [URI:0268] URI не существует
21:43:35.660 [ОШИБКА:Обработка:0268] Недействительный URI
21:43:35.660 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000268 (осталось: 1)
21:43:35.660 [ПРОЦЕСС] URI добавлен в список обрабатываемых: content://media/external/images/media/1000000266 (всего: 1)
21:43:35.664 [FileUtil] Директория для сохранения: Pictures
21:43:35.664 [ПРОЦЕСС] [MediaStoreUtil] Создание записи MediaStore для файла: IMG_20251123_214249.jpg (режим замены: true)
21:43:35.665 [ПРОЦЕСС] Использую относительный путь для сохранения: Pictures/Pictures
21:43:35.667 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_214302_1.jpg
21:43:35.667 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:35.667 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000320
21:43:35.678 [MediaStore] Найден существующий файл с таким же именем: content://media/external/images/media/1000000266
21:43:35.679 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_214305_1.jpg
21:43:35.680 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:35.680 [ПРОЦЕСС] [MediaStore] Найден существующий файл с именем 'IMG_20251123_214249.jpg', включен режим замены - удаляем
21:43:35.681 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000308
21:43:35.689 [MediaStore] Существующий файл удален (режим замены)
21:43:35.695 [ОШИБКА:Получение размера:0266] Ошибка при получении размера файла по URI
21:43:35.695 java.io.FileNotFoundException: java.io.FileNotFoundException: No item at content://media/external/images/media/1000000266
21:43:35.695 	at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:164)
21:43:35.695 	at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:814)
21:43:35.695 	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:2043)
21:43:35.695 	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1858)
21:43:35.695 	at android.content.ContentResolver.openInputStream(ContentResolver.java:1528)
21:43:35.695 	at com.compressphotofast.util.UriUtil.getFileSize(UriUtil.kt:342)
21:43:35.695 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invokeSuspend(ImageCompressionUtil.kt:230)
21:43:35.695 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invoke(Unknown Source:8)
21:43:35.695 	at com.compressphotofast.util.ImageCompressionUtil$processAndSaveImage$2.invoke(Unknown Source:4)
21:43:35.695 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:35.695 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:35.695 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:35.695 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:35.695 	at com.compressphotofast.util.ImageCompressionUtil.processAndSaveImage(ImageCompressionUtil.kt:220)
21:43:35.695 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invokeSuspend(SequentialImageProcessor.kt:216)
21:43:35.695 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invoke(Unknown Source:8)
21:43:35.695 	at com.compressphotofast.util.SequentialImageProcessor$processImage$2.invoke(Unknown Source:4)
21:43:35.695 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndspatched(Undispatched.kt:66)
21:43:35.695 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
21:43:35.695 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:165)
21:43:35.695 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
21:43:35.695 	at com.compressphotofast.util.SequentialImageProcessor.processImage(SequentialImageProcessor.kt:200)
21:43:35.695 	at com.compressphotofast.util.SequentialImageProcessor.access$processImage(SequentialImageProcessor.kt:60)
21:43:35.695 	at com.compressphotofast.util.SequentialImageProcessor$processImages$2.invokeSuspend(SequentialImageProcessor.kt:120)
21:43:35.695 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
21:43:35.695 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:35.695 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:35.695 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:35.695 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:35.695 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:35.695 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:35.695 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:35.695 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:35.695 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:35.695 	at kotlinx.coroutines.UndispatchedCoroutine.afterResume(CoroutineContext.kt:266)
21:43:35.695 	at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:101)
21:43:35.695 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)
21:43:35.695 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
21:43:35.695 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:124)
21:43:35.695 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
21:43:35.695 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
21:43:35.695 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
21:43:35.695 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
21:43:35.695 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
21:43:35.695 [ОШИБКА:Обработка:0266] Не удалось получить размер файла или файл пуст
21:43:35.696 [ПРОЦЕСС] URI удален из списка обрабатываемых: content://media/external/images/media/1000000266 (осталось: 0)
21:43:35.697 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000266, обработка через 10 сек
21:43:35.701 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.702 [MediaStore] Создан URI для изображения: content://media/external/images/media/1000000350
21:43:35.704 [FileUtil] Обработка EXIF данных: успешно
21:43:35.705 [ФАЙЛ:0267] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000348
21:43:35.706 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000348 до Sun Nov 23 21:43:40 GMT+03:00 2025
21:43:35.707 [FileUtil] Данные изображения записаны в URI: content://media/external/images/media/1000000350
21:43:35.708 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000267
21:43:35.710 Failed to get type for: content://media/external/images/media/1000000267 (No item at content://media/external/images/media/1000000267)
21:43:35.715 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.715 [FileUtil] Обработка EXIF данных: успешно
21:43:35.715 [ФАЙЛ:0268] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000349
21:43:35.716 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000349 до Sun Nov 23 21:43:40 GMT+03:00 2025
21:43:35.716 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000268
21:43:35.720 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000267
21:43:35.720 [ОШИБКА:Удаление:0267] Не удалось удалить оригинальный файл
21:43:35.725 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214250.jpg (35)
21:43:35.725 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214250.jpg
21:43:35.729 Moving WorkSpec (801b50dc-8a63-48bd-8872-40c73bff6061) to the foreground
21:43:35.730 Failed to get type for: content://media/external/images/media/1000000268 (No item at content://media/external/images/media/1000000268)
21:43:35.734 [ПРОЦЕСС] MediaStoreObserver: обнаружено изменение в MediaStore: content://media/external/images/media/1000000350, обработка через 10 сек
21:43:35.740 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000268
21:43:35.740 [ОШИБКА:Удаление:0268] Не удалось удалить оригинальный файл
21:43:35.741 [MediaStore] IS_PENDING статус сброшен для URI: content://media/external/images/media/1000000350
21:43:35.741 [FileUtil] Ожидание доступности URI: content://media/external/images/media/1000000350, максимальное время: 2000 мс
21:43:35.741 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000267
21:43:35.744 Notifying with (id:1, workSpecId: 801b50dc-8a63-48bd-8872-40c73bff6061, notificationType :1)
21:43:35.744 [FileUtil] URI стал доступен через 3 мс, размер: 55143 байт
21:43:35.751 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.751 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214250_1.jpg (36)
21:43:35.752 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214250_1.jpg
21:43:35.755 [ПРОЦЕСС] Предзагружен кэш для 2 директорий (21 файлов)
21:43:35.758 [ПРОЦЕСС] Сохранена исходная дата модификации: 1763923415000
21:43:35.759 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923409747 для URI: content://media/external/images/media/1000000306
21:43:35.759 [ПРОЦЕСС] ImageDetectionJobService: после быстрой фильтрации осталось 21 из 21 URI
21:43:35.759 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000306
21:43:35.760 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.760 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000306
21:43:35.760 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 0, Пропущено: 44
21:43:35.760 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000308
21:43:35.761 Moving WorkSpec (1f4efd26-05c0-4ff7-a8e7-87d98c77b439) to the foreground
21:43:35.761 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000306
21:43:35.761 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000320
21:43:35.761 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000310
21:43:35.762 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000311
21:43:35.762 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000314
21:43:35.762 [ПРОЦЕСС] BackgroundMonitoringService: сканирование завершено. Обработано: 0, Пропущено: 44
21:43:35.762 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000312
21:43:35.763 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000324
21:43:35.766 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000313
21:43:35.767 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000315
21:43:35.767 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000316
21:43:35.768 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000317
21:43:35.768 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000309
21:43:35.769 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000318
21:43:35.770 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000326
21:43:35.770 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000325
21:43:35.771 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000323
21:43:35.772 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000322
21:43:35.772 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000321
21:43:35.773 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000319
21:43:35.773 Notifying with (id:1, workSpecId: 1f4efd26-05c0-4ff7-a8e7-87d98c77b439, notificationType :1)
21:43:35.774 [ПРОЦЕСС] GalleryScanUtil: найдено 44 изображений за последние 5 минут
21:43:35.775 [ПРОЦЕСС] Применены GPS-данные через setLatLong API + reference теги: lat=55.751130555555555, lng=37.61601111111111
21:43:35.775 [ПРОЦЕСС] Добавлен маркер сжатия: CompressPhotoFast_Compressed:60:1763923415775
21:43:35.776 Worker result SUCCESS for Work [ id=801b50dc-8a63-48bd-8872-40c73bff6061, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923414890_IMG_20251123_214250.jpg } ]
21:43:35.777 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000268
21:43:35.780 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000346
21:43:35.780 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000346 уже в процессе обработки, пропускаем
21:43:35.780 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000348
21:43:35.780 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000348 уже в процессе обработки, пропускаем
21:43:35.780 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000349
21:43:35.780 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000349 уже в процессе обработки, пропускаем
21:43:35.780 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000340
21:43:35.781 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000340 уже в процессе обработки, пропускаем
21:43:35.781 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000341
21:43:35.781 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000341 уже в процессе обработки, пропускаем
21:43:35.781 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000342
21:43:35.783 Processor 801b50dc-8a63-48bd-8872-40c73bff6061 executed; reschedule = false
21:43:35.784 801b50dc-8a63-48bd-8872-40c73bff6061 executed on JobScheduler
21:43:35.784 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=801b50dc-8a63-48bd-8872-40c73bff6061, generation=0), notificationType: 1
21:43:35.784 [ПРОЦЕСС] Применено 21 EXIF-тегов к content://media/external/images/media/1000000350
21:43:35.786 Worker result SUCCESS for Work [ id=1f4efd26-05c0-4ff7-a8e7-87d98c77b439, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923415054_IMG_20251123_214250_1.jpg } ]
21:43:35.786 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000342 уже в процессе обработки, пропускаем
21:43:35.787 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000343
21:43:35.787 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000343 уже в процессе обработки, пропускаем
21:43:35.787 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000344
21:43:35.787 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000344 уже в процессе обработки, пропускаем
21:43:35.787 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000345
21:43:35.787 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000345 уже в процессе обработки, пропускаем
21:43:35.787 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000331
21:43:35.787 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000331 уже в процессе обработки, пропускаем
21:43:35.787 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000332
21:43:35.787 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000332 уже в процессе обработки, пропускаем
21:43:35.787 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000333
21:43:35.788 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000333 уже в процессе обработки, пропускаем
21:43:35.788 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000334
21:43:35.788 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000334 уже в процессе обработки, пропускаем
21:43:35.788 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000335
21:43:35.788 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000335 уже в процессе обработки, пропускаем
21:43:35.789 Processor 1f4efd26-05c0-4ff7-a8e7-87d98c77b439 executed; reschedule = false
21:43:35.789 1f4efd26-05c0-4ff7-a8e7-87d98c77b439 executed on JobScheduler
21:43:35.789 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=1f4efd26-05c0-4ff7-a8e7-87d98c77b439, generation=0), notificationType: 1
21:43:35.791 Cancelling work ID 801b50dc-8a63-48bd-8872-40c73bff6061
21:43:35.791 [ПРОЦЕСС] Не удалось восстановить исходную дату модификации через ContentResolver.
21:43:35.791 [ПРОЦЕСС] Применение EXIF данных из памяти: успешно
21:43:35.793 [ПРОЦЕСС] Файл слишком мал для сжатия: 55735 байт
21:43:35.793 Cancelling work ID 1f4efd26-05c0-4ff7-a8e7-87d98c77b439
21:43:35.794 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000336
21:43:35.795 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000320
21:43:35.797 [ПРОЦЕСС] Файл слишком мал для сжатия: 55743 байт
21:43:35.797 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000308
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000336 уже в процессе обработки, пропускаем
21:43:35.800 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000337
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000337 уже в процессе обработки, пропускаем
21:43:35.800 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000338
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000338 уже в процессе обработки, пропускаем
21:43:35.800 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000323
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000323 уже в процессе обработки, пропускаем
21:43:35.800 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000325
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000325 уже в процессе обработки, пропускаем
21:43:35.800 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000326
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000326 уже в процессе обработки, пропускаем
21:43:35.800 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000327
21:43:35.800 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000327 уже в процессе обработки, пропускаем
21:43:35.801 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000328
21:43:35.801 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000328 уже в процессе обработки, пропускаем
21:43:35.801 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000329
21:43:35.801 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000329 уже в процессе обработки, пропускаем
21:43:35.801 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000315
21:43:35.801 [ПРОЦЕСС] Файл слишком мал для сжатия: 55185 байт
21:43:35.801 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000306
21:43:35.803 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000315 уже в процессе обработки, пропускаем
21:43:35.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000316
21:43:35.803 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000316 уже в процессе обработки, пропускаем
21:43:35.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000317
21:43:35.803 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000317 уже в процессе обработки, пропускаем
21:43:35.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000318
21:43:35.803 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000318 уже в процессе обработки, пропускаем
21:43:35.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000319
21:43:35.803 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000319 уже в процессе обработки, пропускаем
21:43:35.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000321
21:43:35.803 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000321 уже в процессе обработки, пропускаем
21:43:35.803 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000322
21:43:35.804 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000322 уже в процессе обработки, пропускаем
21:43:35.805 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000312
21:43:35.805 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000312 уже в процессе обработки, пропускаем
21:43:35.805 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000313
21:43:35.805 [ПРОЦЕСС] GalleryScanUtil: URI content://media/external/images/media/1000000313 уже в процессе обработки, пропускаем
21:43:35.805 [ПРОЦЕСС] GalleryScanUtil: пакетная предзагрузка метаданных для 12 URI
21:43:35.805 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000339
21:43:35.806 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000324
21:43:35.806 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000330
21:43:35.806 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000314
21:43:35.806 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000320
21:43:35.807 [ПРОЦЕСС] Файл слишком мал для сжатия: 56002 байт
21:43:35.807 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000308
21:43:35.807 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000309
21:43:35.807 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000311
21:43:35.807 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000310
21:43:35.807 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000311
21:43:35.807 [ПРОЦЕСС] Метаданные получены из кэша: content://media/external/images/media/1000000306
21:43:35.814 [ПРОЦЕСС] Файл слишком мал для сжатия: 55313 байт
21:43:35.814 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000312
21:43:35.814 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000312 уже в процессе обработки, пропускаем
21:43:35.814 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000314
21:43:35.819 [ПРОЦЕСС] Пакетное получение метаданных завершено: 12 URI, 2 запросов к MediaStore
21:43:35.827 [ПРОЦЕСС] Файл слишком мал для сжатия: 55580 байт
21:43:35.828 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000324
21:43:35.830 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000326
21:43:35.830 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000326 уже в процессе обработки, пропускаем
21:43:35.832 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000313
21:43:35.833 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000313 уже в процессе обработки, пропускаем
21:43:35.834 [ПРОЦЕСС] Файл слишком мал для сжатия: 55472 байт
21:43:35.834 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000310
21:43:35.835 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000316
21:43:35.835 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000316 уже в процессе обработки, пропускаем
21:43:35.836 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000325
21:43:35.836 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000325 уже в процессе обработки, пропускаем
21:43:35.837 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000317
21:43:35.838 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000317 уже в процессе обработки, пропускаем
21:43:35.839 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000323
21:43:35.839 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000323 уже в процессе обработки, пропускаем
21:43:35.842 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000322
21:43:35.842 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000322 уже в процессе обработки, пропускаем
21:43:35.845 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000321
21:43:35.846 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000321 уже в процессе обработки, пропускаем
21:43:35.848 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000315
21:43:35.848 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000315 уже в процессе обработки, пропускаем
21:43:35.851 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000319
21:43:35.851 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000319 уже в процессе обработки, пропускаем
21:43:35.856 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000318
21:43:35.857 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000318 уже в процессе обработки, пропускаем
21:43:35.858 [ПРОЦЕСС] Файл слишком мал для сжатия: 55428 байт
21:43:35.858 [ПРОЦЕСС] ImageDetectionJobService: URI пропущен: content://media/external/images/media/1000000309
21:43:35.860 [ПРОЦЕСС] ImageDetectionJobService: обработка URI: content://media/external/images/media/1000000327
21:43:35.864 [ПРОЦЕСС] URI в периоде игнорирования: content://media/external/images/media/1000000327
21:43:35.864 [ПРОЦЕСС] ImageDetectionJobService: URI content://media/external/images/media/1000000327 уже в процессе обработки, пропускаем
21:43:35.865 [ПРОЦЕСС] ImageDetectionJobService: обработка завершена. Обработано: 0, Пропущено: 40
21:43:35.865 [ПРОЦЕСС] ImageDetectionJobService: начало планирования задания
21:43:35.865 [ПРОЦЕСС] ImageDetectionJobService: состояние автоматического сжатия: включено
21:43:35.867 [ПРОЦЕСС] ImageDetectionJobService: задание уже запланировано, пропускаем
21:43:35.889 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.893 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923415440 для URI: content://media/external/images/media/1000000347
21:43:35.893 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000347
21:43:35.894 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.894 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000347
21:43:35.895 [ПРОЦЕСС] Финальная верификация успешна: маркер сжатия присутствует в URI
21:43:35.895 [FileUtil] Обработка EXIF данных: успешно
21:43:35.896 [ФАЙЛ:0266] Сохранение: Сжатый файл успешно сохранен: content://media/external/images/media/1000000350
21:43:35.896 [ПРОЦЕСС] Установлен период игнорирования для URI: content://media/external/images/media/1000000350 до Sun Nov 23 21:43:40 GMT+03:00 2025
21:43:35.896 [ПРОЦЕСС] Начинаем удаление файла: content://media/external/images/media/1000000266
21:43:35.899 Failed to get type for: content://media/external/images/media/1000000266 (No item at content://media/external/images/media/1000000266)
21:43:35.904 [ПРОЦЕСС] deleteFile: URI не существует, удаление отменено: content://media/external/images/media/1000000266
21:43:35.904 [ОШИБКА:Удаление:0266] Не удалось удалить оригинальный файл
21:43:35.907 [ПРОЦЕСС] Добавлен результат в батч auto_batch_1_1763923409451: IMG_20251123_214249.jpg (37)
21:43:35.907 [ПРОЦЕСС] [ПРОЦЕСС] Уведомление о завершении сжатия отправлено: Файл=IMG_20251123_214249.jpg
21:43:35.909 Moving WorkSpec (f74a1c58-fc43-4605-83ee-5dc4f908ffc5) to the foreground
21:43:35.911 [ПРОЦЕСС] URI удален из отслеживаемых: content://media/external/images/media/1000000266
21:43:35.912 Notifying with (id:1, workSpecId: f74a1c58-fc43-4605-83ee-5dc4f908ffc5, notificationType :1)
21:43:35.915 Worker result SUCCESS for Work [ id=f74a1c58-fc43-4605-83ee-5dc4f908ffc5, tags={ com.compressphotofast.worker.ImageCompressionWorker,compress_1763923415226_IMG_20251123_214249.jpg } ]
21:43:35.919 Processor f74a1c58-fc43-4605-83ee-5dc4f908ffc5 executed; reschedule = false
21:43:35.919 f74a1c58-fc43-4605-83ee-5dc4f908ffc5 executed on JobScheduler
21:43:35.919 Removing Notification (id: 1, workSpecId: WorkGenerationalId(workSpecId=f74a1c58-fc43-4605-83ee-5dc4f908ffc5, generation=0), notificationType: 1
21:43:35.919 Stopping foreground service
21:43:35.919 Shutting down.
21:43:35.922 androidx.work.impl.background.systemalarm.RescheduleReceiver disabled
21:43:35.924 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:35.925 Cancelling work ID f74a1c58-fc43-4605-83ee-5dc4f908ffc5
21:43:35.925 onStopJob for WorkGenerationalId(workSpecId=f74a1c58-fc43-4605-83ee-5dc4f908ffc5, generation=0)
21:43:35.930 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923415775 для URI: content://media/external/images/media/1000000350
21:43:35.930 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000350
21:43:35.931 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.931 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000350
21:43:35.947 [ПРОЦЕСС] Файл находится в директории приложения: /storage/emulated/0/Pictures/CompressPhotoFast/IMG_20251123_214255.jpg
21:43:35.947 [ПРОЦЕСС] Изображение не требует обработки: BASIC_CHECK_FAILED
21:43:35.947 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000339
21:43:35.975 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000324
21:43:35.975 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:35.975 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:35.975 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000324
21:43:36.002 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000330
21:43:36.002 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:36.003 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.003 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000330
21:43:36.027 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000314
21:43:36.027 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:36.027 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.027 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000314
21:43:36.054 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:36.059 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923411824 для URI: content://media/external/images/media/1000000320
21:43:36.059 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000320
21:43:36.059 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.059 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000320
21:43:36.087 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:36.090 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923410274 для URI: content://media/external/images/media/1000000308
21:43:36.090 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000308
21:43:36.090 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.090 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000308
21:43:36.120 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:36.126 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923410298 для URI: content://media/external/images/media/1000000309
21:43:36.126 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000309
21:43:36.127 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.127 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000309
21:43:36.155 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:36.159 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923410445 для URI: content://media/external/images/media/1000000310
21:43:36.159 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000310
21:43:36.159 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.159 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000310
21:43:36.187 [ПРОЦЕСС] PerformanceMonitor: Cache miss - EXIF
21:43:36.191 [ПРОЦЕСС] Найден EXIF маркер с timestamp: 1763923410543 для URI: content://media/external/images/media/1000000311
21:43:36.192 [ПРОЦЕСС] EXIF-данные закэшированы для content://media/external/images/media/1000000311
21:43:36.192 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.192 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000311
21:43:36.231 [ПРОЦЕСС] EXIF-данные получены из кэша для content://media/external/images/media/1000000306
21:43:36.231 [ПРОЦЕСС] PerformanceMonitor: Cache hit - EXIF
21:43:36.232 [ПРОЦЕСС] Изображение не требует обработки: ALREADY_COMPRESSED
21:43:36.232 [ПРОЦЕСС] GalleryScanUtil: изображение не требует обработки: content://media/external/images/media/1000000306
21:43:36.232 [ПРОЦЕСС] GalleryScanUtil: сканирование завершено. Найдено: 0, Пропущено: 44
21:43:36.235 [ПРОЦЕСС] BackgroundMonitoringService: сканирование завершено. Обработано: 0, Пропущено: 44
