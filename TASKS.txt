проанализируй логику, используемую при поиска фото для сжатия, и предложи способы оптимизации.